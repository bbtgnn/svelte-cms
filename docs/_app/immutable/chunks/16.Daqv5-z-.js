var AM=Object.defineProperty;var vM=(t,e,n)=>e in t?AM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _=(t,e,n)=>(vM(t,typeof e!="symbol"?e+"":e,n),n);import{s as $r,c as NM,u as CM,g as kM,a as TM,y as LM,f as Ug,n as wr}from"./scheduler.BRd-yEOV.js";import{S as Pr,i as Mr,t as Bd,j as jd,e as Gr,s as $l,v as __,c as Yr,g as aa,a as Pl,w as b_,f as Oc,h as Pn,x as w_,d as Ge,y as S_,k as O_,b as I_,l as x_,m as F_,n as $_}from"./index.BHR9i4nQ.js";import{_ as UM}from"./9.CIeohZ6G.js";import{_ as DM}from"./10.CIeohZ6G.js";import{_ as BM}from"./11.CIeohZ6G.js";import{_ as jM}from"./12.CIeohZ6G.js";import{h as qM}from"./utils.rIxyFrg4.js";function WM(t){return Ee(t)&&!tr(t)&&!la(t)&&Symbol.asyncIterator in t}function tr(t){return Array.isArray(t)}function P_(t){return typeof t=="bigint"}function fa(t){return typeof t=="boolean"}function M_(t){return t instanceof globalThis.Date}function KM(t){return typeof t=="function"}function HM(t){return Ee(t)&&!tr(t)&&!la(t)&&Symbol.iterator in t}function GM(t){return t===null}function Jr(t){return typeof t=="number"}function Ee(t){return typeof t=="object"&&t!==null}function YM(t){return t instanceof globalThis.RegExp}function ee(t){return typeof t=="string"}function zM(t){return typeof t=="symbol"}function la(t){return t instanceof globalThis.Uint8Array}function jt(t){return t===void 0}function JM(t){return t.map(e=>Uc(e))}function XM(t){return new Date(t.getTime())}function QM(t){return new Uint8Array(t)}function ZM(t){return new RegExp(t.source,t.flags)}function VM(t){const e=Object.getOwnPropertyNames(t).reduce((i,s)=>({...i,[s]:Uc(t[s])}),{}),n=Object.getOwnPropertySymbols(t).reduce((i,s)=>({...i,[s]:Uc(t[s])}),{});return{...e,...n}}function Uc(t){return tr(t)?JM(t):M_(t)?XM(t):la(t)?QM(t):YM(t)?ZM(t):Ee(t)?VM(t):t}function tR(t){return Uc(t)}function Jn(t){return t.map(e=>H(e))}function H(t,e={}){return{...tR(t),...e}}class Ae extends Error{constructor(e){super(e)}}const Mn=Symbol.for("TypeBox.Transform"),da=Symbol.for("TypeBox.Readonly"),Ci=Symbol.for("TypeBox.Optional"),ha=Symbol.for("TypeBox.Hint"),U=Symbol.for("TypeBox.Kind"),eR=["Any","Array","AsyncIterator","BigInt","Boolean","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function R_(t){try{return new RegExp(t),!0}catch{return!1}}function qd(t){if(!ee(t))return!1;for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n>=7&&n<=13||n===27||n===127)return!1}return!0}function E_(t){return Wd(t)||$t(t)}function ws(t){return jt(t)||P_(t)}function Mt(t){return jt(t)||Jr(t)}function Wd(t){return jt(t)||fa(t)}function xt(t){return jt(t)||ee(t)}function nR(t){return jt(t)||ee(t)&&qd(t)&&R_(t)}function rR(t){return jt(t)||ee(t)&&qd(t)}function A_(t){return jt(t)||$t(t)}function iR(t){return Ee(t)&&t[da]==="Readonly"}function Xn(t){return Ee(t)&&t[Ci]==="Optional"}function Nn(t){return ht(t,"Any")&&xt(t.$id)}function Un(t){return ht(t,"Array")&&t.type==="array"&&xt(t.$id)&&$t(t.items)&&Mt(t.minItems)&&Mt(t.maxItems)&&Wd(t.uniqueItems)&&A_(t.contains)&&Mt(t.minContains)&&Mt(t.maxContains)}function tu(t){return ht(t,"AsyncIterator")&&t.type==="AsyncIterator"&&xt(t.$id)&&$t(t.items)}function eu(t){return ht(t,"BigInt")&&t.type==="bigint"&&xt(t.$id)&&ws(t.exclusiveMaximum)&&ws(t.exclusiveMinimum)&&ws(t.maximum)&&ws(t.minimum)&&ws(t.multipleOf)}function ti(t){return ht(t,"Boolean")&&t.type==="boolean"&&xt(t.$id)}function ko(t){return ht(t,"Constructor")&&t.type==="Constructor"&&xt(t.$id)&&tr(t.parameters)&&t.parameters.every(e=>$t(e))&&$t(t.returns)}function ma(t){return ht(t,"Date")&&t.type==="Date"&&xt(t.$id)&&Mt(t.exclusiveMaximumTimestamp)&&Mt(t.exclusiveMinimumTimestamp)&&Mt(t.maximumTimestamp)&&Mt(t.minimumTimestamp)&&Mt(t.multipleOfTimestamp)}function To(t){return ht(t,"Function")&&t.type==="Function"&&xt(t.$id)&&tr(t.parameters)&&t.parameters.every(e=>$t(e))&&$t(t.returns)}function pn(t){return ht(t,"Integer")&&t.type==="integer"&&xt(t.$id)&&Mt(t.exclusiveMaximum)&&Mt(t.exclusiveMinimum)&&Mt(t.maximum)&&Mt(t.minimum)&&Mt(t.multipleOf)}function v_(t){return Ee(t)&&Object.entries(t).every(([e,n])=>qd(e)&&$t(n))}function pe(t){return ht(t,"Intersect")&&!(ee(t.type)&&t.type!=="object")&&tr(t.allOf)&&t.allOf.every(e=>$t(e)&&!ei(e))&&xt(t.type)&&(Wd(t.unevaluatedProperties)||A_(t.unevaluatedProperties))&&xt(t.$id)}function nu(t){return ht(t,"Iterator")&&t.type==="Iterator"&&xt(t.$id)&&$t(t.items)}function ht(t,e){return Ee(t)&&U in t&&t[U]===e}function N_(t){return gn(t)&&ee(t.const)}function C_(t){return gn(t)&&Jr(t.const)}function k_(t){return gn(t)&&fa(t.const)}function gn(t){return ht(t,"Literal")&&xt(t.$id)&&oR(t.const)}function oR(t){return fa(t)||Jr(t)||ee(t)}function ki(t){return ht(t,"MappedKey")&&tr(t.keys)&&t.keys.every(e=>Jr(e)||ee(e))}function Ze(t){return ht(t,"MappedResult")&&v_(t.properties)}function er(t){return ht(t,"Never")&&Ee(t.not)&&Object.getOwnPropertyNames(t.not).length===0}function po(t){return ht(t,"Not")&&$t(t.not)}function Kd(t){return ht(t,"Null")&&t.type==="null"&&xt(t.$id)}function le(t){return ht(t,"Number")&&t.type==="number"&&xt(t.$id)&&Mt(t.exclusiveMaximum)&&Mt(t.exclusiveMinimum)&&Mt(t.maximum)&&Mt(t.minimum)&&Mt(t.multipleOf)}function gt(t){return ht(t,"Object")&&t.type==="object"&&xt(t.$id)&&v_(t.properties)&&E_(t.additionalProperties)&&Mt(t.minProperties)&&Mt(t.maxProperties)}function Lo(t){return ht(t,"Promise")&&t.type==="Promise"&&xt(t.$id)&&$t(t.item)}function se(t){return ht(t,"Record")&&t.type==="object"&&xt(t.$id)&&E_(t.additionalProperties)&&Ee(t.patternProperties)&&(e=>{const n=Object.getOwnPropertyNames(e.patternProperties);return n.length===1&&R_(n[0])&&Ee(e.patternProperties)&&$t(e.patternProperties[n[0]])})(t)}function T_(t){return ht(t,"Ref")&&xt(t.$id)&&ee(t.$ref)}function go(t){return ht(t,"RegExp")&&xt(t.$id)&&ee(t.source)&&ee(t.flags)&&Mt(t.maxLength)&&Mt(t.minLength)}function Je(t){return ht(t,"String")&&t.type==="string"&&xt(t.$id)&&Mt(t.minLength)&&Mt(t.maxLength)&&nR(t.pattern)&&rR(t.format)}function Ts(t){return ht(t,"Symbol")&&t.type==="symbol"&&xt(t.$id)}function Cn(t){return ht(t,"TemplateLiteral")&&t.type==="string"&&ee(t.pattern)&&t.pattern[0]==="^"&&t.pattern[t.pattern.length-1]==="$"}function sR(t){return ht(t,"This")&&xt(t.$id)&&ee(t.$ref)}function ei(t){return Ee(t)&&Mn in t}function Rr(t){return ht(t,"Tuple")&&t.type==="array"&&xt(t.$id)&&Jr(t.minItems)&&Jr(t.maxItems)&&t.minItems===t.maxItems&&(jt(t.items)&&jt(t.additionalItems)&&t.minItems===0||tr(t.items)&&t.items.every(e=>$t(e)))}function Fi(t){return ht(t,"Undefined")&&t.type==="undefined"&&xt(t.$id)}function Nt(t){return ht(t,"Union")&&xt(t.$id)&&Ee(t)&&tr(t.anyOf)&&t.anyOf.every(e=>$t(e))}function ru(t){return ht(t,"Uint8Array")&&t.type==="Uint8Array"&&xt(t.$id)&&Mt(t.minByteLength)&&Mt(t.maxByteLength)}function kn(t){return ht(t,"Unknown")&&xt(t.$id)}function uR(t){return ht(t,"Unsafe")}function pa(t){return ht(t,"Void")&&t.type==="void"&&xt(t.$id)}function cR(t){return Ee(t)&&U in t&&ee(t[U])&&!eR.includes(t[U])}function $t(t){return Ee(t)&&(Nn(t)||Un(t)||ti(t)||eu(t)||tu(t)||ko(t)||ma(t)||To(t)||pn(t)||pe(t)||nu(t)||gn(t)||ki(t)||Ze(t)||er(t)||po(t)||Kd(t)||le(t)||gt(t)||Lo(t)||se(t)||T_(t)||go(t)||Je(t)||Ts(t)||Cn(t)||sR(t)||Rr(t)||Fi(t)||Nt(t)||ru(t)||kn(t)||uR(t)||pa(t)||cR(t))}const aR="(true|false)",Mc="(0|[1-9][0-9]*)",L_="(.*)",Ls=`^${Mc}$`,Dc=`^${L_}$`,Hd=new Map;function Gd(t){return Hd.has(t)}function fR(t,e){Hd.set(t,e)}function U_(t){return Hd.get(t)}const Yd=new Map;function ga(t){return Yd.has(t)}function lR(t,e){Yd.set(t,e)}function D_(t){return Yd.get(t)}function dR(t,e){return t.includes(e)}function hR(t){return[...new Set(t)]}function mR(t,e){return t.filter(n=>e.includes(n))}function pR(t,e){return t.reduce((n,i)=>mR(n,i),e)}function gR(t){return t.length===1?t[0]:t.length>1?pR(t.slice(1),t[0]):[]}function yR(t){return t.reduce((e,n)=>[...e,...n],[])}function Us(t={}){return{...t,[U]:"Any"}}function B_(t,e={}){return{...e,[U]:"Array",type:"array",items:H(t)}}function j_(t,e={}){return{...e,[U]:"AsyncIterator",type:"AsyncIterator",items:H(t)}}function _R(t,e){const{[e]:n,...i}=t;return i}function dn(t,e){return e.reduce((n,i)=>_R(n,i),t)}function ve(t={}){return{...t,[U]:"Never",not:{}}}function ge(t){return{[U]:"MappedResult",properties:t}}function q_(t,e,n){return{...n,[U]:"Constructor",type:"Constructor",parameters:Jn(t),returns:H(e)}}function ya(t,e,n){return{...n,[U]:"Function",type:"Function",parameters:Jn(t),returns:H(e)}}function Hl(t,e){return{...e,[U]:"Union",anyOf:Jn(t)}}function bR(t){return t.some(e=>Xn(e))}function Dg(t){return t.map(e=>Xn(e)?wR(e):e)}function wR(t){return dn(t,[Ci])}function SR(t,e){return bR(t)?Li(Hl(Dg(t),e)):Hl(Dg(t),e)}function Uo(t,e={}){return t.length===0?ve(e):t.length===1?H(t[0],e):SR(t,e)}function Ne(t,e={}){return t.length===0?ve(e):t.length===1?H(t[0],e):Hl(t,e)}class Bg extends Ae{}function zd(t,e,n){return t[e]===n&&t.charCodeAt(e-1)!==92}function _r(t,e){return zd(t,e,"(")}function Ds(t,e){return zd(t,e,")")}function W_(t,e){return zd(t,e,"|")}function OR(t){if(!(_r(t,0)&&Ds(t,t.length-1)))return!1;let e=0;for(let n=0;n<t.length;n++)if(_r(t,n)&&(e+=1),Ds(t,n)&&(e-=1),e===0&&n!==t.length-1)return!1;return!0}function IR(t){return t.slice(1,t.length-1)}function xR(t){let e=0;for(let n=0;n<t.length;n++)if(_r(t,n)&&(e+=1),Ds(t,n)&&(e-=1),W_(t,n)&&e===0)return!0;return!1}function FR(t){for(let e=0;e<t.length;e++)if(_r(t,e))return!0;return!1}function $R(t){let[e,n]=[0,0];const i=[];for(let c=0;c<t.length;c++)if(_r(t,c)&&(e+=1),Ds(t,c)&&(e-=1),W_(t,c)&&e===0){const f=t.slice(n,c);f.length>0&&i.push(yo(f)),n=c+1}const s=t.slice(n);return s.length>0&&i.push(yo(s)),i.length===0?{type:"const",const:""}:i.length===1?i[0]:{type:"or",expr:i}}function PR(t){function e(s,c){if(!_r(s,c))throw new Bg("TemplateLiteralParser: Index must point to open parens");let f=0;for(let d=c;d<s.length;d++)if(_r(s,d)&&(f+=1),Ds(s,d)&&(f-=1),f===0)return[c,d];throw new Bg("TemplateLiteralParser: Unclosed group parens in expression")}function n(s,c){for(let f=c;f<s.length;f++)if(_r(s,f))return[c,f];return[c,s.length]}const i=[];for(let s=0;s<t.length;s++)if(_r(t,s)){const[c,f]=e(t,s),d=t.slice(c,f+1);i.push(yo(d)),s=f}else{const[c,f]=n(t,s),d=t.slice(c,f);d.length>0&&i.push(yo(d)),s=f-1}return i.length===0?{type:"const",const:""}:i.length===1?i[0]:{type:"and",expr:i}}function yo(t){return OR(t)?yo(IR(t)):xR(t)?$R(t):FR(t)?PR(t):{type:"const",const:t}}function Jd(t){return yo(t.slice(1,t.length-1))}class MR extends Ae{}function RR(t){return t.type==="or"&&t.expr.length===2&&t.expr[0].type==="const"&&t.expr[0].const==="0"&&t.expr[1].type==="const"&&t.expr[1].const==="[1-9][0-9]*"}function ER(t){return t.type==="or"&&t.expr.length===2&&t.expr[0].type==="const"&&t.expr[0].const==="true"&&t.expr[1].type==="const"&&t.expr[1].const==="false"}function AR(t){return t.type==="const"&&t.const===".*"}function Bs(t){return RR(t)||AR(t)?!1:ER(t)?!0:t.type==="and"?t.expr.every(e=>Bs(e)):t.type==="or"?t.expr.every(e=>Bs(e)):t.type==="const"?!0:(()=>{throw new MR("Unknown expression type")})()}function vR(t){const e=Jd(t.pattern);return Bs(e)}class NR extends Ae{}function*K_(t){if(t.length===1)return yield*t[0];for(const e of t[0])for(const n of K_(t.slice(1)))yield`${e}${n}`}function*CR(t){return yield*K_(t.expr.map(e=>[..._a(e)]))}function*kR(t){for(const e of t.expr)yield*_a(e)}function*TR(t){return yield t.const}function*_a(t){return t.type==="and"?yield*CR(t):t.type==="or"?yield*kR(t):t.type==="const"?yield*TR(t):(()=>{throw new NR("Unknown expression")})()}function H_(t){const e=Jd(t.pattern);return Bs(e)?[..._a(e)]:[]}function qt(t,e={}){return{...e,[U]:"Literal",const:t,type:typeof t}}function G_(t={}){return{...t,[U]:"Boolean",type:"boolean"}}function Xd(t={}){return{...t,[U]:"BigInt",type:"bigint"}}function Do(t={}){return{...t,[U]:"Number",type:"number"}}function Xr(t={}){return{...t,[U]:"String",type:"string"}}function*LR(t){const e=t.trim().replace(/"|'/g,"");return e==="boolean"?yield G_():e==="number"?yield Do():e==="bigint"?yield Xd():e==="string"?yield Xr():yield(()=>{const n=e.split("|").map(i=>qt(i.trim()));return n.length===0?ve():n.length===1?n[0]:Uo(n)})()}function*UR(t){if(t[1]!=="{"){const e=qt("$"),n=Gl(t.slice(1));return yield*[e,...n]}for(let e=2;e<t.length;e++)if(t[e]==="}"){const n=LR(t.slice(2,e)),i=Gl(t.slice(e+1));return yield*[...n,...i]}yield qt(t)}function*Gl(t){for(let e=0;e<t.length;e++)if(t[e]==="$"){const n=qt(t.slice(0,e)),i=UR(t.slice(e));return yield*[n,...i]}yield qt(t)}function DR(t){return[...Gl(t)]}class BR extends Ae{}function jR(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Y_(t,e){return Cn(t)?t.pattern.slice(1,t.pattern.length-1):Nt(t)?`(${t.anyOf.map(n=>Y_(n,e)).join("|")})`:le(t)?`${e}${Mc}`:pn(t)?`${e}${Mc}`:eu(t)?`${e}${Mc}`:Je(t)?`${e}${L_}`:gn(t)?`${e}${jR(t.const.toString())}`:ti(t)?`${e}${aR}`:(()=>{throw new BR(`Unexpected Kind '${t[U]}'`)})()}function jg(t){return`^${t.map(e=>Y_(e,"")).join("")}$`}function Bc(t){const n=H_(t).map(i=>qt(i));return Uo(n)}function z_(t,e={}){const n=ee(t)?jg(DR(t)):jg(t);return{...e,[U]:"TemplateLiteral",type:"string",pattern:n}}function qR(t){return H_(t).map(n=>n.toString())}function WR(t){return t.reduce((e,n)=>[...e,...ni(n)],[])}function KR(t){return[t.toString()]}function ni(t){return[...new Set(Cn(t)?qR(t):Nt(t)?WR(t.anyOf):gn(t)?KR(t.const):le(t)?["[number]"]:pn(t)?["[number]"]:[])]}function HR(t,e,n){return globalThis.Object.getOwnPropertyNames(e).reduce((i,s)=>({...i,[s]:iu(t,ni(e[s]),n)}),{})}function GR(t,e,n){return HR(t,e.properties,n)}function YR(t,e,n){const i=GR(t,e,n);return ge(i)}function J_(t,e){return t.map(n=>X_(n,e))}function zR(t){return t.filter(e=>!er(e))}function JR(t,e){return eb(zR(J_(t,e)))}function XR(t,e){return Uo(J_(t,e))}function QR(t,e){return e in t?t[e]:e==="[number]"?Uo(t):ve()}function ZR(t,e){return e==="[number]"?t:ve()}function VR(t,e){return e in t?t[e]:ve()}function X_(t,e){return pe(t)?JR(t.allOf,e):Nt(t)?XR(t.anyOf,e):Rr(t)?QR(t.items??[],e):Un(t)?ZR(t.items,e):gt(t)?VR(t.properties,e):ve()}function Q_(t,e){return e.map(n=>X_(t,n))}function qg(t,e){return Uo(Q_(t,e))}function iu(t,e,n={}){return Ze(e)?H(YR(t,e,n)):ki(e)?H(rE(t,e,n)):$t(e)?H(qg(t,ni(e)),n):H(qg(t,e),n)}function tE(t,e,n){return{[e]:iu(t,[e],n)}}function eE(t,e,n){return e.reduce((i,s)=>({...i,...tE(t,s,n)}),{})}function nE(t,e,n){return eE(t,e.keys,n)}function rE(t,e,n){const i=nE(t,e,n);return ge(i)}function Z_(t,e={}){return{...e,[U]:"Iterator",type:"Iterator",items:H(t)}}function iE(t,e={}){const n=globalThis.Object.getOwnPropertyNames(t),i=n.filter(d=>Xn(t[d])),s=n.filter(d=>!i.includes(d)),c=$t(e.additionalProperties)?{additionalProperties:H(e.additionalProperties)}:{},f=n.reduce((d,p)=>({...d,[p]:H(t[p])}),{});return s.length>0?{...e,...c,[U]:"Object",type:"object",properties:f,required:s}:{...e,...c,[U]:"Object",type:"object",properties:f}}const ue=iE;function V_(t,e={}){return{...e,[U]:"Promise",type:"Promise",item:H(t)}}function oE(t){return dn(H(t),[da])}function sE(t){return{...H(t),[da]:"Readonly"}}function uE(t,e){return e===!1?oE(t):sE(t)}function Ti(t,e){const n=e??!0;return Ze(t)?fE(t,n):uE(t,n)}function cE(t,e){return globalThis.Object.getOwnPropertyNames(t).reduce((n,i)=>({...n,[i]:Ti(t[i],e)}),{})}function aE(t,e){return cE(t.properties,e)}function fE(t,e){const n=aE(t,e);return ge(n)}function ou(t,e={}){const[n,i,s]=[!1,t.length,t.length];return t.length>0?{...e,[U]:"Tuple",type:"array",items:Jn(t),additionalItems:n,minItems:i,maxItems:s}:{...e,[U]:"Tuple",type:"array",minItems:i,maxItems:s}}function tb(t,e){return t in e?ln(t,e[t]):ge(e)}function lE(t){return{[t]:qt(t)}}function dE(t){return t.reduce((e,n)=>({...e,[n]:qt(n)}),{})}function hE(t,e){return dR(e,t)?lE(t):dE(e)}function mE(t,e){const n=hE(t,e);return tb(t,n)}function Ss(t,e){return e.map(n=>ln(t,n))}function pE(t,e){return globalThis.Object.getOwnPropertyNames(e).reduce((n,i)=>({...n,[i]:ln(t,e[i])}),{})}function ln(t,e){return Xn(e)?Li(ln(t,dn(e,[Ci]))):iR(e)?Ti(ln(t,dn(e,[da]))):Ze(e)?tb(t,e.properties):ki(e)?mE(t,e.keys):ko(e)?q_(Ss(t,e.parameters),ln(t,e.returns)):To(e)?ya(Ss(t,e.parameters),ln(t,e.returns)):tu(e)?j_(ln(t,e.items)):nu(e)?Z_(ln(t,e.items)):pe(e)?Ui(Ss(t,e.allOf)):Nt(e)?Ne(Ss(t,e.anyOf)):Rr(e)?ou(Ss(t,e.items??[])):gt(e)?ue(pE(t,e.properties)):Un(e)?B_(ln(t,e.items)):Lo(e)?V_(ln(t,e.item)):e}function gE(t,e,n={}){return t.reduce((i,s)=>({...i,[s]:ln(s,e)}),{})}function yE(t,e,n={}){const i=$t(t)?ni(t):t,s=e({[U]:"MappedKey",keys:i}),c=gE(i,s);return H(ue(c),n)}function _E(t){return dn(H(t),[Ci])}function bE(t){return{...H(t),[Ci]:"Optional"}}function wE(t,e){return e===!1?_E(t):bE(t)}function Li(t,e){const n=e??!0;return Ze(t)?IE(t,n):wE(t,n)}function SE(t,e){return globalThis.Object.getOwnPropertyNames(t).reduce((n,i)=>({...n,[i]:Li(t[i],e)}),{})}function OE(t,e){return SE(t.properties,e)}function IE(t,e){const n=OE(t,e);return ge(n)}function Yl(t,e){const n=t.every(s=>gt(s)),i=$t(e.unevaluatedProperties)?{unevaluatedProperties:H(e.unevaluatedProperties)}:{};return e.unevaluatedProperties===!1||$t(e.unevaluatedProperties)||n?{...e,...i,[U]:"Intersect",type:"object",allOf:Jn(t)}:{...e,...i,[U]:"Intersect",allOf:Jn(t)}}function xE(t){return t.every(e=>Xn(e))}function FE(t){return dn(t,[Ci])}function Wg(t){return t.map(e=>Xn(e)?FE(e):e)}function $E(t,e){return xE(t)?Li(Yl(Wg(t),e)):Yl(Wg(t),e)}function eb(t,e={}){if(t.length===0)return ve(e);if(t.length===1)return H(t[0],e);if(t.some(n=>ei(n)))throw new Error("Cannot intersect transform types");return $E(t,e)}function Ui(t,e={}){if(t.length===0)return ve(e);if(t.length===1)return H(t[0],e);if(t.some(n=>ei(n)))throw new Error("Cannot intersect transform types");return Yl(t,e)}function nb(t){return t.map(e=>Qd(e))}function PE(t){return Ui(nb(t))}function ME(t){return Ne(nb(t))}function RE(t){return Qd(t)}function Qd(t){return pe(t)?PE(t.allOf):Nt(t)?ME(t.anyOf):Lo(t)?RE(t.item):t}function EE(t,e={}){return H(Qd(t),e)}function rb(t){return t.reduce((e,n)=>[...e,ri(n)],[])}function AE(t){const e=rb(t);return yR(e)}function vE(t){const e=rb(t);return gR(e)}function NE(t){return t.map((e,n)=>n.toString())}function CE(t){return["[number]"]}function kE(t){return globalThis.Object.getOwnPropertyNames(t)}function TE(t){return zl?globalThis.Object.getOwnPropertyNames(t).map(n=>n[0]==="^"&&n[n.length-1]==="$"?n.slice(1,n.length-1):n):[]}function ri(t){return pe(t)?AE(t.allOf):Nt(t)?vE(t.anyOf):Rr(t)?NE(t.items??[]):Un(t)?CE(t.items):gt(t)?kE(t.properties):se(t)?TE(t.patternProperties):[]}let zl=!1;function jc(t){zl=!0;const e=ri(t);return zl=!1,`^(${e.map(i=>`(${i})`).join("|")})$`}function LE(t){return t.map(e=>e==="[number]"?Do():qt(e))}function ib(t,e={}){if(Ze(t))return BE(t,e);{const n=ri(t),i=LE(n),s=Uo(i);return H(s,e)}}function UE(t,e){return globalThis.Object.getOwnPropertyNames(t).reduce((n,i)=>({...n,[i]:ib(t[i],e)}),{})}function DE(t,e){return UE(t.properties,e)}function BE(t,e){const n=DE(t,e);return ge(n)}function jE(t){return t.reduce((e,n)=>hR([...e,...ri(n)]),[])}function qE(t){return t.filter(e=>!er(e))}function WE(t,e){return t.reduce((n,i)=>qE([...n,...Q_(i,[e])]),[])}function KE(t,e){return e.reduce((n,i)=>({...n,[i]:eb(WE(t,i))}),{})}function HE(t,e={}){const n=jE(t),i=KE(t,n);return ue(i,e)}function ob(t={}){return{...t,[U]:"Date",type:"Date"}}function sb(t={}){return{...t,[U]:"Null",type:"null"}}function ub(t){return{...t,[U]:"Symbol",type:"symbol"}}function cb(t={}){return{...t,[U]:"Undefined",type:"undefined"}}function ab(t={}){return{...t,[U]:"Uint8Array",type:"Uint8Array"}}function su(t={}){return{...t,[U]:"Unknown"}}function GE(t){return t.map(e=>Zd(e,!1))}function YE(t){return globalThis.Object.getOwnPropertyNames(t).reduce((e,n)=>({...e,[n]:Ti(Zd(t[n],!1))}),{})}function Ic(t,e){return e===!0?t:Ti(t)}function Zd(t,e){return WM(t)||HM(t)?Ic(Us(),e):tr(t)?Ti(ou(GE(t))):la(t)?ab():M_(t)?ob():Ee(t)?Ic(ue(YE(t)),e):KM(t)?Ic(ya([],su()),e):jt(t)?cb():GM(t)?sb():zM(t)?ub():P_(t)?Xd():Jr(t)||fa(t)||ee(t)?qt(t):ue({})}function zE(t,e={}){return H(Zd(t,!0),e)}function JE(t,e={}){return ou(Jn(t.parameters),{...e})}function uu(t,e){return t.map(n=>nr(n,e))}function XE(t,e){return globalThis.Object.getOwnPropertyNames(t).reduce((n,i)=>({...n,[i]:nr(t[i],e)}),{})}function QE(t,e){return t.parameters=uu(t.parameters,e),t.returns=nr(t.returns,e),t}function ZE(t,e){return t.parameters=uu(t.parameters,e),t.returns=nr(t.returns,e),t}function VE(t,e){return t.allOf=uu(t.allOf,e),t}function tA(t,e){return t.anyOf=uu(t.anyOf,e),t}function eA(t,e){return jt(t.items)||(t.items=uu(t.items,e)),t}function nA(t,e){return t.items=nr(t.items,e),t}function rA(t,e){return t.properties=XE(t.properties,e),t}function iA(t,e){return t.item=nr(t.item,e),t}function oA(t,e){return t.items=nr(t.items,e),t}function sA(t,e){return t.items=nr(t.items,e),t}function uA(t,e){const n=e.find(s=>s.$id===t.$ref);if(n===void 0)throw Error(`Unable to dereference schema with $id ${t.$ref}`);const i=dn(n,["$id"]);return nr(i,e)}function cA(t,e){return ko(t)?QE(t,e):To(t)?ZE(t,e):pe(t)?VE(t,e):Nt(t)?tA(t,e):Rr(t)?eA(t,e):Un(t)?nA(t,e):gt(t)?rA(t,e):Lo(t)?iA(t,e):tu(t)?oA(t,e):nu(t)?sA(t,e):T_(t)?uA(t,e):t}function nr(t,e){return cA(H(t),Jn(e))}function aA(t,e={}){if(jt(t))throw new Error("Enum undefined or empty");const n=globalThis.Object.getOwnPropertyNames(t).filter(c=>isNaN(c)).map(c=>t[c]),s=[...new Set(n)].map(c=>qt(c));return Ne(s,{...e,[ha]:"Enum"})}class fA extends Ae{}var F;(function(t){t[t.Union=0]="Union",t[t.True=1]="True",t[t.False=2]="False"})(F||(F={}));function hn(t){return t===F.False?t:F.True}function Bo(t){throw new fA(t)}function zt(t){return er(t)||pe(t)||Nt(t)||kn(t)||Nn(t)}function Jt(t,e){return er(e)?db():pe(e)?ba(t,e):Nt(e)?th(t,e):kn(e)?gb():Nn(e)?Vd():Bo("StructuralRight")}function Vd(t,e){return F.True}function lA(t,e){return pe(e)?ba(t,e):Nt(e)&&e.anyOf.some(n=>Nn(n)||kn(n))?F.True:Nt(e)?F.Union:kn(e)||Nn(e)?F.True:F.Union}function dA(t,e){return kn(t)?F.False:Nn(t)?F.Union:er(t)?F.True:F.False}function hA(t,e){return gt(e)&&wa(e)?F.True:zt(e)?Jt(t,e):Un(e)?hn(It(t.items,e.items)):F.False}function mA(t,e){return zt(e)?Jt(t,e):tu(e)?hn(It(t.items,e.items)):F.False}function pA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):eu(e)?F.True:F.False}function fb(t,e){return k_(t)||ti(t)?F.True:F.False}function gA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):ti(e)?F.True:F.False}function yA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):ko(e)?t.parameters.length>e.parameters.length?F.False:t.parameters.every((n,i)=>hn(It(e.parameters[i],n))===F.True)?hn(It(t.returns,e.returns)):F.False:F.False}function _A(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):ma(e)?F.True:F.False}function bA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):To(e)?t.parameters.length>e.parameters.length?F.False:t.parameters.every((n,i)=>hn(It(e.parameters[i],n))===F.True)?hn(It(t.returns,e.returns)):F.False:F.False}function lb(t,e){return gn(t)&&Jr(t.const)||le(t)||pn(t)?F.True:F.False}function wA(t,e){return pn(e)||le(e)?F.True:zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):F.False}function ba(t,e){return e.allOf.every(n=>It(t,n)===F.True)?F.True:F.False}function SA(t,e){return t.allOf.some(n=>It(n,e)===F.True)?F.True:F.False}function OA(t,e){return zt(e)?Jt(t,e):nu(e)?hn(It(t.items,e.items)):F.False}function IA(t,e){return gn(e)&&e.const===t.const?F.True:zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):Je(e)?pb(t):le(e)?hb(t):pn(e)?lb(t):ti(e)?fb(t):F.False}function db(t,e){return F.False}function xA(t,e){return F.True}function Kg(t){let[e,n]=[t,0];for(;po(e);)e=e.not,n+=1;return n%2===0?e:su()}function FA(t,e){return po(t)?It(Kg(t),e):po(e)?It(t,Kg(e)):Bo("Invalid fallthrough for Not")}function $A(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):Kd(e)?F.True:F.False}function hb(t,e){return C_(t)||le(t)||pn(t)?F.True:F.False}function PA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):pn(e)||le(e)?F.True:F.False}function Ue(t,e){return Object.getOwnPropertyNames(t.properties).length===e}function Hg(t){return wa(t)}function Gg(t){return Ue(t,0)||Ue(t,1)&&"description"in t.properties&&Nt(t.properties.description)&&t.properties.description.anyOf.length===2&&(Je(t.properties.description.anyOf[0])&&Fi(t.properties.description.anyOf[1])||Je(t.properties.description.anyOf[1])&&Fi(t.properties.description.anyOf[0]))}function Ml(t){return Ue(t,0)}function Yg(t){return Ue(t,0)}function MA(t){return Ue(t,0)}function RA(t){return Ue(t,0)}function EA(t){return wa(t)}function AA(t){const e=Do();return Ue(t,0)||Ue(t,1)&&"length"in t.properties&&hn(It(t.properties.length,e))===F.True}function vA(t){return Ue(t,0)}function wa(t){const e=Do();return Ue(t,0)||Ue(t,1)&&"length"in t.properties&&hn(It(t.properties.length,e))===F.True}function NA(t){const e=ya([Us()],Us());return Ue(t,0)||Ue(t,1)&&"then"in t.properties&&hn(It(t.properties.then,e))===F.True}function mb(t,e){return It(t,e)===F.False||Xn(t)&&!Xn(e)?F.False:F.True}function Fe(t,e){return kn(t)?F.False:Nn(t)?F.Union:er(t)||N_(t)&&Hg(e)||C_(t)&&Ml(e)||k_(t)&&Yg(e)||Ts(t)&&Gg(e)||eu(t)&&MA(e)||Je(t)&&Hg(e)||Ts(t)&&Gg(e)||le(t)&&Ml(e)||pn(t)&&Ml(e)||ti(t)&&Yg(e)||ru(t)&&EA(e)||ma(t)&&RA(e)||ko(t)&&vA(e)||To(t)&&AA(e)?F.True:se(t)&&Je(Jl(t))?e[ha]==="Record"?F.True:F.False:se(t)&&le(Jl(t))?Ue(e,0)?F.True:F.False:F.False}function CA(t,e){return zt(e)?Jt(t,e):se(e)?yn(t,e):gt(e)?(()=>{for(const n of Object.getOwnPropertyNames(e.properties)){if(!(n in t.properties)&&!Xn(e.properties[n]))return F.False;if(Xn(e.properties[n]))return F.True;if(mb(t.properties[n],e.properties[n])===F.False)return F.False}return F.True})():F.False}function kA(t,e){return zt(e)?Jt(t,e):gt(e)&&NA(e)?F.True:Lo(e)?hn(It(t.item,e.item)):F.False}function Jl(t){return Ls in t.patternProperties?Do():Dc in t.patternProperties?Xr():Bo("Unknown record key pattern")}function Xl(t){return Ls in t.patternProperties?t.patternProperties[Ls]:Dc in t.patternProperties?t.patternProperties[Dc]:Bo("Unable to get record value schema")}function yn(t,e){const[n,i]=[Jl(e),Xl(e)];return N_(t)&&le(n)&&hn(It(t,i))===F.True?F.True:ru(t)&&le(n)||Je(t)&&le(n)||Un(t)&&le(n)?It(t,i):gt(t)?(()=>{for(const s of Object.getOwnPropertyNames(t.properties))if(mb(i,t.properties[s])===F.False)return F.False;return F.True})():F.False}function TA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?It(Xl(t),Xl(e)):F.False}function LA(t,e){const n=go(t)?Xr():t,i=go(e)?Xr():e;return It(n,i)}function pb(t,e){return gn(t)&&ee(t.const)||Je(t)?F.True:F.False}function UA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):Je(e)?F.True:F.False}function DA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):Ts(e)?F.True:F.False}function BA(t,e){return Cn(t)?It(Bc(t),e):Cn(e)?It(t,Bc(e)):Bo("Invalid fallthrough for TemplateLiteral")}function jA(t,e){return Un(e)&&t.items!==void 0&&t.items.every(n=>It(n,e.items)===F.True)}function qA(t,e){return er(t)?F.True:kn(t)?F.False:Nn(t)?F.Union:F.False}function WA(t,e){return zt(e)?Jt(t,e):gt(e)&&wa(e)||Un(e)&&jA(t,e)?F.True:Rr(e)?jt(t.items)&&!jt(e.items)||!jt(t.items)&&jt(e.items)?F.False:jt(t.items)&&!jt(e.items)||t.items.every((n,i)=>It(n,e.items[i])===F.True)?F.True:F.False:F.False}function KA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):ru(e)?F.True:F.False}function HA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):pa(e)?zA(t):Fi(e)?F.True:F.False}function th(t,e){return e.anyOf.some(n=>It(t,n)===F.True)?F.True:F.False}function GA(t,e){return t.anyOf.every(n=>It(n,e)===F.True)?F.True:F.False}function gb(t,e){return F.True}function YA(t,e){return er(e)?db():pe(e)?ba(t,e):Nt(e)?th(t,e):Nn(e)?Vd():Je(e)?pb(t):le(e)?hb(t):pn(e)?lb(t):ti(e)?fb(t):Un(e)?dA(t):Rr(e)?qA(t):gt(e)?Fe(t,e):kn(e)?F.True:F.False}function zA(t,e){return Fi(t)||Fi(t)?F.True:F.False}function JA(t,e){return pe(e)?ba(t,e):Nt(e)?th(t,e):kn(e)?gb():Nn(e)?Vd():gt(e)?Fe(t,e):pa(e)?F.True:F.False}function It(t,e){return Cn(t)||Cn(e)?BA(t,e):go(t)||go(e)?LA(t,e):po(t)||po(e)?FA(t,e):Nn(t)?lA(t,e):Un(t)?hA(t,e):eu(t)?pA(t,e):ti(t)?gA(t,e):tu(t)?mA(t,e):ko(t)?yA(t,e):ma(t)?_A(t,e):To(t)?bA(t,e):pn(t)?wA(t,e):pe(t)?SA(t,e):nu(t)?OA(t,e):gn(t)?IA(t,e):er(t)?xA():Kd(t)?$A(t,e):le(t)?PA(t,e):gt(t)?CA(t,e):se(t)?TA(t,e):Je(t)?UA(t,e):Ts(t)?DA(t,e):Rr(t)?WA(t,e):Lo(t)?kA(t,e):ru(t)?KA(t,e):Fi(t)?HA(t,e):Nt(t)?GA(t,e):kn(t)?YA(t,e):pa(t)?JA(t,e):Bo(`Unknown left type operand '${t[U]}'`)}function cu(t,e){return It(t,e)}function XA(t,e,n,i,s){return globalThis.Object.getOwnPropertyNames(t).reduce((c,f)=>({...c,[f]:eh(t[f],e,n,i,s)}),{})}function QA(t,e,n,i,s){return XA(t.properties,e,n,i,s)}function ZA(t,e,n,i,s){const c=QA(t,e,n,i,s);return ge(c)}function VA(t,e,n,i){const s=cu(t,e);return s===F.Union?Ne([n,i]):s===F.True?n:i}function eh(t,e,n,i,s={}){return Ze(t)?ZA(t,e,n,i,s):ki(t)?H(rv(t,e,n,i,s)):H(VA(t,e,n,i),s)}function tv(t,e,n,i,s){return{[t]:eh(qt(t),e,n,i,s)}}function ev(t,e,n,i,s){return t.reduce((c,f)=>({...c,...tv(f,e,n,i,s)}),{})}function nv(t,e,n,i,s){return ev(t.keys,e,n,i,s)}function rv(t,e,n,i,s){const c=nv(t,e,n,i,s);return ge(c)}function iv(t){return t.allOf.every(e=>au(e))}function ov(t){return t.anyOf.some(e=>au(e))}function sv(t){return!au(t.not)}function au(t){return t[U]==="Intersect"?iv(t):t[U]==="Union"?ov(t):t[U]==="Not"?sv(t):t[U]==="Undefined"}function uv(t,e){return nh(Bc(t),e)}function cv(t,e){const n=t.filter(i=>cu(i,e)===F.False);return n.length===1?n[0]:Ne(n)}function nh(t,e,n={}){return Cn(t)?H(uv(t,e),n):Ze(t)?H(lv(t,e),n):H(Nt(t)?cv(t.anyOf,e):cu(t,e)!==F.False?ve():t,n)}function av(t,e){return globalThis.Object.getOwnPropertyNames(t).reduce((n,i)=>({...n,[i]:nh(t[i],e)}),{})}function fv(t,e){return av(t.properties,e)}function lv(t,e){const n=fv(t,e);return ge(n)}function dv(t,e){return rh(Bc(t),e)}function hv(t,e){const n=t.filter(i=>cu(i,e)!==F.False);return n.length===1?n[0]:Ne(n)}function rh(t,e,n={}){return Cn(t)?H(dv(t,e),n):Ze(t)?H(gv(t,e),n):H(Nt(t)?hv(t.anyOf,e):cu(t,e)!==F.False?t:ve(),n)}function mv(t,e){return globalThis.Object.getOwnPropertyNames(t).reduce((n,i)=>({...n,[i]:rh(t[i],e)}),{})}function pv(t,e){return mv(t.properties,e)}function gv(t,e){const n=pv(t,e);return ge(n)}function yv(t,e={}){return H(t.returns,e)}function _v(t={}){return{...t,[U]:"Integer",type:"integer"}}function bv(t,e,n){return{[t]:jo(qt(t),e,n)}}function wv(t,e,n){return t.reduce((i,s)=>({...i,...bv(s,e,n)}),{})}function Sv(t,e,n){return wv(t.keys,e,n)}function Ov(t,e,n){const i=Sv(t,e,n);return ge(i)}function Iv(t){const[e,n]=[t.slice(0,1),t.slice(1)];return[e.toLowerCase(),n].join("")}function xv(t){const[e,n]=[t.slice(0,1),t.slice(1)];return[e.toUpperCase(),n].join("")}function Fv(t){return t.toUpperCase()}function $v(t){return t.toLowerCase()}function Pv(t,e,n){const i=Jd(t.pattern);if(!Bs(i))return{...t,pattern:yb(t.pattern,e)};const f=[..._a(i)].map(y=>qt(y)),d=_b(f,e),p=Ne(d);return z_([p],n)}function yb(t,e){return typeof t=="string"?e==="Uncapitalize"?Iv(t):e==="Capitalize"?xv(t):e==="Uppercase"?Fv(t):e==="Lowercase"?$v(t):t:t.toString()}function _b(t,e){return t.map(n=>jo(n,e))}function jo(t,e,n={}){return ki(t)?Ov(t,e,n):Cn(t)?Pv(t,e,t):Nt(t)?Ne(_b(t.anyOf,e),n):gn(t)?qt(yb(t.const,e),n):t}function Mv(t,e={}){return jo(t,"Capitalize",e)}function Rv(t,e={}){return jo(t,"Lowercase",e)}function Ev(t,e={}){return jo(t,"Uncapitalize",e)}function Av(t,e={}){return jo(t,"Uppercase",e)}function vv(t,e){return{...e,[U]:"Not",not:H(t)}}function Nv(t,e,n){return globalThis.Object.getOwnPropertyNames(t).reduce((i,s)=>({...i,[s]:oh(t[s],e,n)}),{})}function Cv(t,e,n){return Nv(t.properties,e,n)}function kv(t,e,n){const i=Cv(t,e,n);return ge(i)}function Tv(t,e){return t.map(n=>ih(n,e))}function Lv(t,e){return t.map(n=>ih(n,e))}function Uv(t,e){const{[e]:n,...i}=t;return i}function Dv(t,e){return e.reduce((n,i)=>Uv(n,i),t)}function ih(t,e){return pe(t)?Ui(Tv(t.allOf,e)):Nt(t)?Ne(Lv(t.anyOf,e)):gt(t)?ue(Dv(t.properties,e)):ue({})}function oh(t,e,n={}){if(ki(e))return Wv(t,e,n);if(Ze(t))return kv(t,e,n);const i=$t(e)?ni(e):e,s=dn(t,[Mn,"$id","required"]),c=H(ih(t,i),n);return{...s,...c}}function Bv(t,e,n){return{[e]:oh(t,[e],n)}}function jv(t,e,n){return e.reduce((i,s)=>({...i,...Bv(t,s,n)}),{})}function qv(t,e,n){return jv(t,e.keys,n)}function Wv(t,e,n){const i=qv(t,e,n);return ge(i)}function Kv(t,e={}){return ou(Jn(t.parameters),{...e})}function zg(t){return t.map(e=>bb(e))}function Hv(t){return globalThis.Object.getOwnPropertyNames(t).reduce((e,n)=>({...e,[n]:Li(t[n])}),{})}function bb(t){return pe(t)?Ui(zg(t.allOf)):Nt(t)?Ne(zg(t.anyOf)):gt(t)?ue(Hv(t.properties)):ue({})}function wb(t,e={}){if(Ze(t))return zv(t,e);const n=dn(t,[Mn,"$id","required"]),i=H(bb(t),e);return{...n,...i}}function Gv(t,e){return globalThis.Object.getOwnPropertyNames(t).reduce((n,i)=>({...n,[i]:wb(t[i],e)}),{})}function Yv(t,e){return Gv(t.properties,e)}function zv(t,e){const n=Yv(t,e);return ge(n)}function Jv(t,e,n){return globalThis.Object.getOwnPropertyNames(t).reduce((i,s)=>({...i,[s]:uh(t[s],e,n)}),{})}function Xv(t,e,n){return Jv(t.properties,e,n)}function Qv(t,e,n){const i=Xv(t,e,n);return ge(i)}function Zv(t,e){return t.map(n=>sh(n,e))}function Vv(t,e){return t.map(n=>sh(n,e))}function tN(t,e){return e.reduce((n,i)=>i in t?{...n,[i]:t[i]}:n,{})}function sh(t,e){return pe(t)?Ui(Zv(t.allOf,e)):Nt(t)?Ne(Vv(t.anyOf,e)):gt(t)?ue(tN(t.properties,e)):ue({})}function uh(t,e,n={}){if(ki(e))return iN(t,e,n);if(Ze(t))return Qv(t,e,n);const i=$t(e)?ni(e):e,s=dn(t,[Mn,"$id","required"]),c=H(sh(t,i),n);return{...s,...c}}function eN(t,e,n){return{[e]:uh(t,[e],n)}}function nN(t,e,n){return e.reduce((i,s)=>({...i,...eN(t,s,n)}),{})}function rN(t,e,n){return nN(t,e.keys,n)}function iN(t,e,n){const i=rN(t,e,n);return ge(i)}function oN(t){return Ti(Li(t))}function fu(t,e,n){return{...n,[U]:"Record",type:"object",patternProperties:{[t]:H(e)}}}function ch(t,e,n){const i=t.reduce((s,c)=>({...s,[c]:H(e)}),{});return ue(i,{...n,[ha]:"Record"})}function sN(t,e,n){return vR(t)?ch(ni(t),e,n):fu(t.pattern,e,n)}function uN(t,e,n){return ch(ni(Ne(t)),e,n)}function cN(t,e,n){return ch([t.toString()],e,n)}function aN(t,e,n){return fu(t.source,e,n)}function fN(t,e,n){const i=jt(t.pattern)?Dc:t.pattern;return fu(i,e,n)}function lN(t,e,n){return fu(Ls,e,n)}function dN(t,e,n){return fu(Ls,e,n)}function hN(t,e,n={}){return Nt(t)?uN(t.anyOf,e,n):Cn(t)?sN(t,e,n):gn(t)?cN(t.const,e,n):pn(t)?lN(t,e,n):le(t)?dN(t,e,n):go(t)?aN(t,e,n):Je(t)?fN(t,e,n):ve(n)}let mN=0;function pN(t,e={}){jt(e.$id)&&(e.$id=`T${mN++}`);const n=t({[U]:"This",$ref:`${e.$id}`});return n.$id=e.$id,H({...e,[ha]:"Recursive",...n})}function gN(t,e={}){if(ee(t))return{...e,[U]:"Ref",$ref:t};if(jt(t.$id))throw new Error("Reference target type must specify an $id");return{...e,[U]:"Ref",$ref:t.$id}}function yN(t,e={}){const n=ee(t)?new globalThis.RegExp(t):t;return{...e,[U]:"RegExp",type:"RegExp",source:n.source,flags:n.flags}}function Jg(t){return t.map(e=>Sb(e))}function _N(t){return globalThis.Object.getOwnPropertyNames(t).reduce((e,n)=>({...e,[n]:dn(t[n],[Ci])}),{})}function Sb(t){return pe(t)?Ui(Jg(t.allOf)):Nt(t)?Ne(Jg(t.anyOf)):gt(t)?ue(_N(t.properties)):ue({})}function Ob(t,e={}){if(Ze(t))return SN(t,e);{const n=dn(t,[Mn,"$id","required"]),i=H(Sb(t),e);return{...n,...i}}}function bN(t,e){return globalThis.Object.getOwnPropertyNames(t).reduce((n,i)=>({...n,[i]:Ob(t[i],e)}),{})}function wN(t,e){return bN(t.properties,e)}function SN(t,e){const n=wN(t,e);return ge(n)}function ON(t){return pe(t)?[...t.allOf]:Nt(t)?[...t.anyOf]:Rr(t)?[...t.items??[]]:[]}function IN(t){return Jn(ON(t))}function xN(t,e={}){return H(t.returns,e)}function FN(t){return JSON.parse(JSON.stringify(t))}class $N{constructor(e){_(this,"schema");this.schema=e}Decode(e){return new PN(this.schema,e)}}class PN{constructor(e,n){_(this,"schema");_(this,"decode");this.schema=e,this.decode=n}EncodeTransform(e,n){const c={Encode:f=>n[Mn].Encode(e(f)),Decode:f=>this.decode(n[Mn].Decode(f))};return{...n,[Mn]:c}}EncodeSchema(e,n){const i={Decode:this.decode,Encode:e};return{...n,[Mn]:i}}Encode(e){const n=H(this.schema);return ei(n)?this.EncodeTransform(e,n):this.EncodeSchema(e,n)}}function MN(t){return new $N(t)}function Ib(t={}){return{...t,[U]:t[U]??"Unsafe"}}function RN(t={}){return{...t,[U]:"Void",type:"void"}}const EN=Object.freeze(Object.defineProperty({__proto__:null,Any:Us,Array:B_,AsyncIterator:j_,Awaited:EE,BigInt:Xd,Boolean:G_,Capitalize:Mv,Composite:HE,Const:zE,Constructor:q_,ConstructorParameters:JE,Date:ob,Deref:nr,Enum:aA,Exclude:nh,Extends:eh,Extract:rh,Function:ya,Index:iu,InstanceType:yv,Integer:_v,Intersect:Ui,Iterator:Z_,KeyOf:ib,Literal:qt,Lowercase:Rv,Mapped:yE,Never:ve,Not:vv,Null:sb,Number:Do,Object:ue,Omit:oh,Optional:Li,Parameters:Kv,Partial:wb,Pick:uh,Promise:V_,Readonly:Ti,ReadonlyOptional:oN,Record:hN,Recursive:pN,Ref:gN,RegExp:yN,Required:Ob,Rest:IN,ReturnType:xN,Strict:FN,String:Xr,Symbol:ub,TemplateLiteral:z_,Transform:MN,Tuple:ou,Uint8Array:ab,Uncapitalize:Ev,Undefined:cb,Union:Ne,Unknown:su,Unsafe:Ib,Uppercase:Av,Void:RN},Symbol.toStringTag,{value:"Module"})),ot=EN;ot.Object({organizations:ot.Union([ot.Literal("dyne"),ot.Literal("ff3300"),ot.Literal("freelance"),ot.Literal("la-scuola-open-source")]),projects:ot.Union([ot.Literal("join"),ot.Literal("reaction-diffusion"),ot.Literal("scabec"),ot.Literal("signroom")]),work_experiences:ot.Union([ot.Literal("2019-07_oggi_freelance_docente"),ot.Literal("2021-05_oggi_sos"),ot.Literal("2021-09_2022-03_sos"),ot.Literal("2022-10_oggi_dyne")])});const AN={organizations:["dyne","ff3300","freelance","la-scuola-open-source"],projects:["join","reaction-diffusion","scabec","signroom"],work_experiences:["2019-07_oggi_freelance_docente","2021-05_oggi_sos","2021-09_2022-03_sos","2022-10_oggi_dyne"]};const vN=t=>typeof t=="function",x=function(t,e){if(typeof t=="function")return function(){return t(arguments)?e.apply(this,arguments):n=>e(n,...arguments)};switch(t){case 0:case 1:throw new RangeError(`Invalid arity ${t}`);case 2:return function(n,i){return arguments.length>=2?e(n,i):function(s){return e(s,n)}};case 3:return function(n,i,s){return arguments.length>=3?e(n,i,s):function(c){return e(c,n,i)}};case 4:return function(n,i,s,c){return arguments.length>=4?e(n,i,s,c):function(f){return e(f,n,i,s)}};case 5:return function(n,i,s,c,f){return arguments.length>=5?e(n,i,s,c,f):function(d){return e(d,n,i,s,c)}};default:return function(){if(arguments.length>=t)return e.apply(this,arguments);const n=arguments;return function(i){return e(i,...n)}}}},ie=t=>t,Sa=t=>()=>t,Xg=Sa(!0),Ql=Sa(!1),NN=Sa(void 0);function P(t,e,n,i,s,c,f,d,p){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return n(e(t));case 4:return i(n(e(t)));case 5:return s(i(n(e(t))));case 6:return c(s(i(n(e(t)))));case 7:return f(c(s(i(n(e(t))))));case 8:return d(f(c(s(i(n(e(t)))))));case 9:return p(d(f(c(s(i(n(e(t))))))));default:{let y=arguments[0];for(let M=1;M<arguments.length;M++)y=arguments[M](y);return y}}}let CN="2.4.0";const qc=()=>CN,Zl=Symbol.for(`effect/GlobalValue/globalStoreId/${qc()}`);Zl in globalThis||(globalThis[Zl]=new Map);const Rl=globalThis[Zl],Rt=(t,e)=>(Rl.has(t)||Rl.set(t,e()),Rl.get(t)),kN=t=>typeof t=="string",Rc=t=>typeof t=="number",TN=t=>typeof t=="bigint",js=vN,LN=t=>typeof t=="object"&&t!==null,xb=t=>LN(t)||js(t),at=x(2,(t,e)=>xb(t)&&e in t),Fb=x(2,(t,e)=>at(t,"_tag")&&t._tag===e),oo=t=>t==null,$b=t=>at(t,Symbol.iterator),UN=t=>at(t,"then")&&"catch"in t&&js(t.then)&&js(t.catch),DN=335903614,BN=4150755663,jN=1481765933,qN=1284865837,WN=9007199254740992,KN=134217728;class Pb{constructor(e,n,i,s){_(this,"_state");return oo(n)&&oo(e)?(n=Math.random()*4294967295>>>0,e=0):oo(n)&&(n=e,e=0),oo(s)&&oo(i)?(s=this._state?this._state[3]:BN,i=this._state?this._state[2]:DN):oo(s)&&(s=i,i=0),this._state=new Int32Array([0,0,i>>>0,((s||0)|1)>>>0]),this._next(),Qg(this._state,this._state[0],this._state[1],e>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(e){this._state[0]=e[0],this._state[1]=e[1],this._state[2]=e[2],this._state[3]=e[3]|1}integer(e){if(!e)return this._next();if(e=e>>>0,!(e&e-1))return this._next()&e-1;let n=0;const i=(-e>>>0)%e>>>0;for(n=this._next();n<i;n=this._next());return n%e}number(){const e=(this._next()&67108863)*1,n=(this._next()&134217727)*1;return(e*KN+n)/WN}_next(){const e=this._state[0]>>>0,n=this._state[1]>>>0;HN(this._state,e,n,jN,qN),Qg(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let i=e>>>18,s=(n>>>18|e<<14)>>>0;i=(i^e)>>>0,s=(s^n)>>>0;const c=(s>>>27|i<<5)>>>0,f=e>>>27,d=(-f>>>0&31)>>>0;return(c>>>f|c<<d)>>>0}}function HN(t,e,n,i,s){let c=(n>>>16)*(s&65535)>>>0,f=(n&65535)*(s>>>16)>>>0,d=(n&65535)*(s&65535)>>>0,p=(n>>>16)*(s>>>16)+((f>>>16)+(c>>>16))>>>0;f=f<<16>>>0,d=d+f>>>0,d>>>0<f>>>0&&(p=p+1>>>0),c=c<<16>>>0,d=d+c>>>0,d>>>0<c>>>0&&(p=p+1>>>0),p=p+Math.imul(n,i)>>>0,p=p+Math.imul(e,s)>>>0,t[0]=p,t[1]=d}function Qg(t,e,n,i,s){let c=e+i>>>0;const f=n+s>>>0;f>>>0<n>>>0&&(c=c+1|0),t[0]=c,t[1]=f}const El=Rt(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),GN=Rt(Symbol.for("effect/Hash/pcgr"),()=>new Pb),rt=Symbol.for("effect/Hash"),K=t=>{switch(typeof t){case"number":return ah(t);case"bigint":return fe(t.toString(10));case"boolean":return fe(String(t));case"symbol":return fe(String(t));case"string":return fe(t);case"undefined":return fe("undefined");case"function":case"object":return t===null?fe("null"):YN(t)?t[rt]():lu(t);default:throw new Error(`BUG: unhandled typeof ${typeof t} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},lu=t=>(El.has(t)||El.set(t,ah(GN.integer(Number.MAX_SAFE_INTEGER))),El.get(t)),_t=t=>e=>e*53^t,Oa=t=>t&3221225471|t>>>1&1073741824,YN=t=>at(t,rt),ah=t=>{if(t!==t||t===1/0)return 0;let e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)e^=t/=4294967295;return Oa(t)},fe=t=>{let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return Oa(e)},zN=(t,e)=>{let n=12289;for(let i=0;i<e.length;i++)n^=P(fe(e[i]),_t(K(t[e[i]])));return Oa(n)},Mb=t=>zN(t,Object.keys(t)),du=t=>{let e=6151;for(let n=0;n<t.length;n++)e=P(e,_t(K(t[n])));return Oa(e)},Wt=function(){if(arguments.length===1){const n=arguments[0];return function(i){return Object.defineProperty(n,rt,{value(){return i},enumerable:!1}),i}}const t=arguments[0],e=arguments[1];return Object.defineProperty(t,rt,{value(){return e},enumerable:!1}),e},nt=Symbol.for("effect/Equal");function ct(){return arguments.length===1?t=>Zg(t,arguments[0]):Zg(arguments[0],arguments[1])}function Zg(t,e){if(t===e)return!0;const n=typeof t;return n!==typeof e?!1:(n==="object"||n==="function")&&t!==null&&e!==null&&Wc(t)&&Wc(e)?K(t)===K(e)&&t[nt](e):!1}const Wc=t=>at(t,nt),fh=()=>ct,lh=t=>(e,n)=>e===n||t(e,n),JN=x(2,(t,e)=>lh((n,i)=>t(e(n),e(i)))),XN=t=>lh((e,n)=>{if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(!t(e[i],n[i]))return!1;return!0}),Kt=Symbol.for("nodejs.util.inspect.custom"),te=t=>at(t,"toJSON")&&js(t.toJSON)&&t.toJSON.length===0?t.toJSON():Array.isArray(t)?t.map(te):t,ye=t=>JSON.stringify(t,null,2),X=(t,e)=>{switch(e.length){case 1:return e[0](t);case 2:return e[1](e[0](t));case 3:return e[2](e[1](e[0](t)));case 4:return e[3](e[2](e[1](e[0](t))));case 5:return e[4](e[3](e[2](e[1](e[0](t)))));case 6:return e[5](e[4](e[3](e[2](e[1](e[0](t))))));case 7:return e[6](e[5](e[4](e[3](e[2](e[1](e[0](t)))))));case 8:return e[7](e[6](e[5](e[4](e[3](e[2](e[1](e[0](t))))))));case 9:return e[8](e[7](e[6](e[5](e[4](e[3](e[2](e[1](e[0](t)))))))));default:{let n=t;for(let i=0,s=e.length;i<s;i++)n=e[i](n);return n}}},Ec="Async",Rb="Commit",An="Failure",Al="OnFailure",Kc="OnSuccess",Hc="OnSuccessAndFailure",vn="Success",Eb="Sync",QN="Tag",hu="UpdateRuntimeFlags",Gc="While",Ab="WithRuntime",Ac="Yield",dh="RevertFlags",vb=Symbol.for("effect/Effect"),ZN=Symbol.for("effect/Stream"),VN=Symbol.for("effect/Sink"),tC=Symbol.for("effect/Channel"),_o={_R:t=>t,_E:t=>t,_A:t=>t,_V:qc()},eC={_A:t=>t,_In:t=>t,_L:t=>t,_E:t=>t,_R:t=>t},nC={_Env:t=>t,_InErr:t=>t,_InElem:t=>t,_InDone:t=>t,_OutErr:t=>t,_OutElem:t=>t,_OutDone:t=>t},Ia={[vb]:_o,[ZN]:_o,[VN]:eC,[tC]:nC,[nt](t){return this===t},[rt](){return Wt(this,lu(this))},pipe(){return X(this,arguments)}},hh={[rt](){return Wt(this,Mb(this))},[nt](t){const e=Object.keys(this),n=Object.keys(t);if(e.length!==n.length)return!1;for(const i of e)if(!(i in t&&ct(this[i],t[i])))return!1;return!0}},rC={...Ia,_op:Rb},iC={...rC,...hh},Nb=Symbol.for("effect/Option"),Cb={...Ia,[Nb]:{_A:t=>t},[Kt](){return this.toJSON()},toString(){return ye(this.toJSON())}},oC=Object.assign(Object.create(Cb),{_tag:"Some",_op:"Some",[nt](t){return kb(t)&&Lb(t)&&ct(t.value,this.value)},[rt](){return Wt(this,_t(K(this._tag))(K(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:te(this.value)}}}),sC=K("None"),uC=Object.assign(Object.create(Cb),{_tag:"None",_op:"None",[nt](t){return kb(t)&&Tb(t)},[rt](){return sC},toJSON(){return{_id:"Option",_tag:this._tag}}}),kb=t=>at(t,Nb),Tb=t=>t._tag==="None",Lb=t=>t._tag==="Some",Ub=Object.create(uC),Db=t=>{const e=Object.create(oC);return e.value=t,e},Bb=Symbol.for("effect/Either"),jb={...Ia,[Bb]:{_R:t=>t},[Kt](){return this.toJSON()},toString(){return ye(this.toJSON())}},cC=Object.assign(Object.create(jb),{_tag:"Right",_op:"Right",[nt](t){return qb(t)&&Kb(t)&&ct(t.right,this.right)},[rt](){return _t(K(this._tag))(K(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:te(this.right)}}}),aC=Object.assign(Object.create(jb),{_tag:"Left",_op:"Left",[nt](t){return qb(t)&&Wb(t)&&ct(t.left,this.left)},[rt](){return _t(K(this._tag))(K(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:te(this.left)}}}),qb=t=>at(t,Bb),Wb=t=>t._tag==="Left",Kb=t=>t._tag==="Right",fC=t=>{const e=Object.create(aC);return e.left=t,e},lC=t=>{const e=Object.create(cC);return e.right=t,e},Hb=t=>(e,n)=>e===n?0:t(e,n),dC=Hb((t,e)=>t<e?-1:1),hC=x(2,(t,e)=>Hb((n,i)=>t(e(n),e(i)))),mC=t=>x(2,(e,n)=>t(e,n)===1),Z=()=>Ub,bt=Db,Ye=Tb,Qn=Lb,Di=x(2,(t,{onNone:e,onSome:n})=>Ye(t)?e():n(t.value)),$i=x(2,(t,e)=>Ye(t)?e():t.value),mh=t=>t==null?Z():bt(t),gi=$i(NN),pC=x(2,(t,e)=>{if(Qn(t))return t.value;throw e()}),gC=pC(()=>new Error("getOrThrow called on a None")),yC=x(2,(t,e)=>Ye(t)?Z():bt(e(t.value))),Gb=x(2,(t,e)=>Ye(t)?Z():e(t.value)),_C=t=>x(2,(e,n)=>Ye(e)?!1:t(e.value,n)),bC=fh(),wC=_C(bC),br=lC,bo=fC,Es=Wb,xc=Kb,SC=x(2,(t,{onLeft:e,onRight:n})=>Es(t)?e(t.left):n(t.right)),OC=SC({onLeft:ie,onRight:ie}),Yb=t=>t.length>0,IC=x(2,(t,e)=>{const n=[];for(const i of FC(t))n.push(e(i,t[i]));return n}),xC=IC((t,e)=>[t,e]),FC=t=>Object.keys(t),$C=(...t)=>t,PC=(t,e)=>{const n=Math.max(1,Math.floor(t)),i=[e(0)];for(let s=1;s<n;s++)i.push(e(s));return i},Yt=t=>Array.isArray(t)?t:Array.from(t),Yc=x(2,(t,e)=>[e,...t]),MC=x(2,(t,e)=>[...t,e]),zb=x(2,(t,e)=>Yt(t).concat(Yt(e))),RC=t=>t.length===0,EC=RC,AC=Yb,Xe=Yb,Jb=(t,e)=>t<0||t>=e.length,vC=(t,e)=>Math.floor(Math.min(Math.max(0,t),e.length)),NC=x(2,(t,e)=>{const n=Math.floor(e);return Jb(n,t)?Z():bt(t[n])}),Xb=x(2,(t,e)=>{const n=Math.floor(e);if(Jb(n,t))throw new Error(`Index ${n} out of bounds`);return t[n]}),lo=NC(0),ze=Xb(0),CC=t=>Xe(t)?bt(Qb(t)):Z(),Qb=t=>t[t.length-1],wo=t=>t.slice(1),kC=(t,e)=>{let n=0;for(const i of t){if(!e(i,n))break;n++}return n},TC=x(2,(t,e)=>BC(t,kC(t,e))),LC=x(2,(t,e)=>{const n=Yt(t);return n.slice(vC(e,n),n.length)}),Vg=t=>Array.from(t).reverse(),zc=x(2,(t,e)=>{const n=Array.from(t);return n.sort(e),n}),ty=x(2,(t,e)=>UC(t,e,$C)),UC=x(3,(t,e,n)=>{const i=Yt(t),s=Yt(e);if(Xe(i)&&Xe(s)){const c=[n(ze(i),ze(s))],f=Math.min(i.length,s.length);for(let d=1;d<f;d++)c[d]=n(i[d],s[d]);return c}return[]}),DC=fh(),BC=x(2,(t,e)=>{const n=Array.from(t),i=Math.floor(e);return Xe(n)?i>=1?jC(n,i):[[],n]:[n,[]]}),jC=x(2,(t,e)=>{const n=Math.max(1,Math.floor(e));return n>=t.length?[qC(t),[]]:[Yc(t.slice(1,n),ze(t)),t.slice(n)]}),qC=t=>t.slice(),WC=x(3,(t,e,n)=>{const i=Yt(t),s=Yt(e);return Xe(i)?Xe(s)?t0(n)(zb(i,s)):i:s}),Vl=x(2,(t,e)=>WC(t,e,DC)),So=()=>[],$n=t=>[t],zr=x(2,(t,e)=>t.map(e)),KC=x(2,(t,e)=>{if(EC(t))return[];const n=[];for(let i=0;i<t.length;i++){const s=e(t[i],i);for(let c=0;c<s.length;c++)n.push(s[c])}return n}),HC=KC(ie),Zb=x(2,(t,e)=>{const n=Yt(t),i=[];for(let s=0;s<n.length;s++)e(n[s],s)&&i.push(n[s]);return i}),Vb=x(3,(t,e,n)=>Yt(t).reduce((i,s,c)=>n(i,s,c),e)),ey=(t,e)=>{const n=[];let i=t,s;for(;Qn(s=e(i));){const[c,f]=s.value;n.push(c),i=f}return n},ph=XN,t0=x(2,(t,e)=>{const n=Yt(t);if(Xe(n)){const i=[ze(n)],s=wo(n);for(const c of s)i.every(f=>!e(c,f))&&i.push(c);return i}return[]}),GC=t=>t0(t,fh()),qo=x(2,(t,e)=>Yt(t).join(e)),YC=Symbol.for("effect/Context/Tag"),zC="effect/STM",JC=Symbol.for(zC),XC={...Ia,_tag:"Tag",_op:"Tag",[JC]:_o,[YC]:{_Service:t=>t,_Identifier:t=>t},toString(){return ye(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[Kt](){return this.toJSON()},of(t){return t},context(t){return n0(this,t)}},QC=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=e;const i=Object.create(XC);return Object.defineProperty(i,"stack",{get(){return n.stack}}),i.key=t,i},e0=Symbol.for("effect/Context"),ZC={[e0]:{_Services:t=>t},[nt](t){if(tk(t)&&this.unsafeMap.size===t.unsafeMap.size){for(const e of this.unsafeMap.keys())if(!t.unsafeMap.has(e)||!ct(this.unsafeMap.get(e),t.unsafeMap.get(e)))return!1;return!0}return!1},[rt](){return Wt(this,ah(this.unsafeMap.size))},pipe(){return X(this,arguments)},toString(){return ye(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(te)}},[Kt](){return this.toJSON()}},Oo=t=>{const e=Object.create(ZC);return e.unsafeMap=t,e},VC=t=>{const e=new Error(`Service not found${t.key?`: ${String(t.key)}`:""}`);if(t.stack){const n=t.stack.split(`
`);if(n.length>2){const i=n[2].match(/at (.*)/);i&&(e.message=e.message+` (defined at ${i[1]})`)}}if(e.stack){const n=e.stack.split(`
`);n.splice(1,3),e.stack=n.join(`
`)}return e},tk=t=>at(t,e0),ek=Oo(new Map),nk=()=>ek,n0=(t,e)=>Oo(new Map([[t.key,e]])),rk=x(3,(t,e,n)=>{const i=new Map(t.unsafeMap);return i.set(e.key,n),Oo(i)}),r0=x(2,(t,e)=>{if(!t.unsafeMap.has(e.key))throw VC(e);return t.unsafeMap.get(e.key)}),ik=r0,ok=x(2,(t,e)=>t.unsafeMap.has(e.key)?Db(t.unsafeMap.get(e.key)):Ub),sk=x(2,(t,e)=>{const n=new Map(t.unsafeMap);for(const[i,s]of e.unsafeMap)n.set(i,s);return Oo(n)}),Bi=QC,gh=nk,uk=n0,Os=rk,As=ik,ck=r0,mu=ok,ak=sk,i0=Symbol.for("effect/Chunk");function fk(t,e,n,i,s){for(let c=e;c<Math.min(t.length,e+s);c++)n[i+c-e]=t[c];return n}const o0=[],lk=t=>lh((e,n)=>e.length===n.length&&vs(e).every((i,s)=>t(i,ho(n,s)))),dk=lk(ct),hk={[i0]:{_A:t=>t},toString(){return ye(this.toJSON())},toJSON(){return{_id:"Chunk",values:vs(this).map(te)}},[Kt](){return this.toJSON()},[nt](t){return s0(t)&&dk(this,t)},[rt](){return Wt(this,du(vs(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return o0[Symbol.iterator]();default:return vs(this)[Symbol.iterator]()}},pipe(){return X(this,arguments)}},Gt=t=>{const e=Object.create(hk);switch(e.backing=t,t._tag){case"IEmpty":{e.length=0,e.depth=0,e.left=e,e.right=e;break}case"IConcat":{e.length=t.left.length+t.right.length,e.depth=1+Math.max(t.left.depth,t.right.depth),e.left=t.left,e.right=t.right;break}case"IArray":{e.length=t.array.length,e.depth=0,e.left=Gn,e.right=Gn;break}case"ISingleton":{e.length=1,e.depth=0,e.left=Gn,e.right=Gn;break}case"ISlice":{e.length=t.length,e.depth=t.chunk.depth+1,e.left=Gn,e.right=Gn;break}}return e},s0=t=>at(t,i0),Gn=Gt({_tag:"IEmpty"}),Pi=()=>Gn,Ir=t=>Gt({_tag:"ISingleton",a:t}),u0=t=>s0(t)?t:Gt({_tag:"IArray",array:Yt(t)}),td=(t,e,n)=>{switch(t.backing._tag){case"IArray":{fk(t.backing.array,0,e,n,t.length);break}case"IConcat":{td(t.left,e,n),td(t.right,e,n+t.left.length);break}case"ISingleton":{e[n]=t.backing.a;break}case"ISlice":{let i=0,s=n;for(;i<t.length;)e[s]=ho(t,i),i+=1,s+=1;break}}},vs=t=>{switch(t.backing._tag){case"IEmpty":return o0;case"IArray":return t.backing.array;default:{const e=new Array(t.length);return td(t,e,0),t.backing={_tag:"IArray",array:e},t.left=Gn,t.right=Gn,t.depth=0,e}}},Io=t=>{switch(t.backing._tag){case"IEmpty":case"ISingleton":return t;case"IArray":return Gt({_tag:"IArray",array:Vg(t.backing.array)});case"IConcat":return Gt({_tag:"IConcat",left:Io(t.backing.right),right:Io(t.backing.left)});case"ISlice":return c0(Vg(vs(t)))}},c0=t=>Gt({_tag:"IArray",array:t}),ho=x(2,(t,e)=>{switch(t.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":{if(e!==0)throw new Error("Index out of bounds");return t.backing.a}case"IArray":{if(e>=t.length||e<0)throw new Error("Index out of bounds");return t.backing.array[e]}case"IConcat":return e<t.left.length?ho(t.left,e):ho(t.right,e-t.left.length);case"ISlice":return ho(t.backing.chunk,e+t.backing.offset)}}),Tn=x(2,(t,e)=>Wr(Ir(e),t)),ed=x(2,(t,e)=>{if(e<=0)return t;if(e>=t.length)return Gn;switch(t.backing._tag){case"ISlice":return Gt({_tag:"ISlice",chunk:t.backing.chunk,offset:t.backing.offset+e,length:t.backing.length-e});case"IConcat":return e>t.left.length?ed(t.right,e-t.left.length):Gt({_tag:"IConcat",left:ed(t.left,e),right:t.right});default:return Gt({_tag:"ISlice",chunk:t,offset:e,length:t.length-e})}}),Wr=x(2,(t,e)=>{if(t.backing._tag==="IEmpty")return e;if(e.backing._tag==="IEmpty")return t;const n=e.depth-t.depth;if(Math.abs(n)<=1)return Gt({_tag:"IConcat",left:t,right:e});if(n<-1)if(t.left.depth>=t.right.depth){const i=Wr(t.right,e);return Gt({_tag:"IConcat",left:t.left,right:i})}else{const i=Wr(t.right.right,e);if(i.depth===t.depth-3){const s=Gt({_tag:"IConcat",left:t.right.left,right:i});return Gt({_tag:"IConcat",left:t.left,right:s})}else{const s=Gt({_tag:"IConcat",left:t.left,right:t.right.left});return Gt({_tag:"IConcat",left:s,right:i})}}else if(e.right.depth>=e.left.depth){const i=Wr(t,e.left);return Gt({_tag:"IConcat",left:i,right:e.right})}else{const i=Wr(t,e.left.left);if(i.depth===e.depth-3){const s=Gt({_tag:"IConcat",left:i,right:e.left.right});return Gt({_tag:"IConcat",left:s,right:e.right})}else{const s=Gt({_tag:"IConcat",left:e.left.right,right:e.right});return Gt({_tag:"IConcat",left:i,right:s})}}}),mk=t=>t.length===0,xo=t=>t.length>0,a0=t=>ho(t,0),Fo=a0,bi=t=>ed(t,1),Mi=5,yh=Math.pow(2,Mi),pk=yh-1,gk=yh/2,yk=yh/4;function _k(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function $o(t,e){return e>>>t&pk}function ao(t){return 1<<t}function f0(t,e){return _k(t&e-1)}const bk=(t,e)=>({value:t,previous:e});function mo(t,e,n,i){let s=i;if(!t){const c=i.length;s=new Array(c);for(let f=0;f<c;++f)s[f]=i[f]}return s[e]=n,s}function l0(t,e,n){const i=n.length-1;let s=0,c=0,f=n;if(t)s=c=e;else for(f=new Array(i);s<e;)f[c++]=n[s++];for(++s;s<=i;)f[c++]=n[s++];return t&&(f.length=i),f}function wk(t,e,n,i){const s=i.length;if(t){let p=s;for(;p>=e;)i[p--]=i[p];return i[e]=n,i}let c=0,f=0;const d=new Array(s+1);for(;c<e;)d[f++]=i[c++];for(d[e]=n;c<s;)d[++f]=i[c++];return d}class Qr{constructor(){_(this,"_tag","EmptyNode")}modify(e,n,i,s,c,f){const d=i(Z());return Ye(d)?new Qr:(++f.value,new Ii(e,s,c,d))}}function Rn(t){return Fb(t,"EmptyNode")}function Sk(t){return Rn(t)||t._tag==="LeafNode"||t._tag==="CollisionNode"}function xa(t,e){return Rn(t)?!1:e===t.edit}class Ii{constructor(e,n,i,s){_(this,"edit");_(this,"hash");_(this,"key");_(this,"value");_(this,"_tag","LeafNode");this.edit=e,this.hash=n,this.key=i,this.value=s}modify(e,n,i,s,c,f){if(ct(c,this.key)){const p=i(this.value);return p===this.value?this:Ye(p)?(--f.value,new Qr):xa(this,e)?(this.value=p,this):new Ii(e,s,c,p)}const d=i(Z());return Ye(d)?this:(++f.value,d0(e,n,this.hash,this,s,new Ii(e,s,c,d)))}}class _h{constructor(e,n,i){_(this,"edit");_(this,"hash");_(this,"children");_(this,"_tag","CollisionNode");this.edit=e,this.hash=n,this.children=i}modify(e,n,i,s,c,f){if(s===this.hash){const p=xa(this,e),y=this.updateCollisionList(p,e,this.hash,this.children,i,c,f);return y===this.children?this:y.length>1?new _h(e,this.hash,y):y[0]}const d=i(Z());return Ye(d)?this:(++f.value,d0(e,n,this.hash,this,s,new Ii(e,s,c,d)))}updateCollisionList(e,n,i,s,c,f,d){const p=s.length;for(let M=0;M<p;++M){const A=s[M];if("key"in A&&ct(f,A.key)){const N=A.value,C=c(N);return C===N?s:Ye(C)?(--d.value,l0(e,M,s)):mo(e,M,new Ii(n,i,f,C),s)}}const y=c(Z());return Ye(y)?s:(++d.value,mo(e,p,new Ii(n,i,f,y),s))}}class Po{constructor(e,n,i){_(this,"edit");_(this,"mask");_(this,"children");_(this,"_tag","IndexedNode");this.edit=e,this.mask=n,this.children=i}modify(e,n,i,s,c,f){const d=this.mask,p=this.children,y=$o(n,s),M=ao(y),A=f0(d,M),N=d&M,C=xa(this,e);if(!N){const pt=new Qr().modify(e,n+Mi,i,s,c,f);return pt?p.length>=gk?Ik(e,y,pt,d,p):new Po(e,d|M,wk(C,A,pt,p)):this}const B=p[A],mt=B.modify(e,n+Mi,i,s,c,f);if(B===mt)return this;let tt=d,Ft;if(Rn(mt)){if(tt&=~M,!tt)return new Qr;if(p.length<=2&&Sk(p[A^1]))return p[A^1];Ft=l0(C,A,p)}else Ft=mo(C,A,mt,p);return C?(this.mask=tt,this.children=Ft,this):new Po(e,tt,Ft)}}class bh{constructor(e,n,i){_(this,"edit");_(this,"size");_(this,"children");_(this,"_tag","ArrayNode");this.edit=e,this.size=n,this.children=i}modify(e,n,i,s,c,f){let d=this.size;const p=this.children,y=$o(n,s),M=p[y],A=(M||new Qr).modify(e,n+Mi,i,s,c,f);if(M===A)return this;const N=xa(this,e);let C;if(Rn(M)&&!Rn(A))++d,C=mo(N,y,A,p);else if(!Rn(M)&&Rn(A)){if(--d,d<=yk)return Ok(e,d,y,p);C=mo(N,y,new Qr,p)}else C=mo(N,y,A,p);return N?(this.size=d,this.children=C,this):new bh(e,d,C)}}function Ok(t,e,n,i){const s=new Array(e-1);let c=0,f=0;for(let d=0,p=i.length;d<p;++d)if(d!==n){const y=i[d];y&&!Rn(y)&&(s[c++]=y,f|=1<<d)}return new Po(t,f,s)}function Ik(t,e,n,i,s){const c=[];let f=i,d=0;for(let p=0;f;++p)f&1&&(c[p]=s[d++]),f>>>=1;return c[e]=n,new bh(t,d+1,c)}function xk(t,e,n,i,s,c){if(n===s)return new _h(t,n,[c,i]);const f=$o(e,n),d=$o(e,s);if(f===d)return p=>new Po(t,ao(f)|ao(d),[p]);{const p=f<d?[i,c]:[c,i];return new Po(t,ao(f)|ao(d),p)}}function d0(t,e,n,i,s,c){let f,d=e;for(;;){const p=xk(t,d,n,i,s,c);if(typeof p=="function")f=bk(p,f),d=d+Mi;else{let y=p;for(;f!=null;)y=f.value(y),f=f.previous;return y}}}const h0="effect/HashMap",nd=Symbol.for(h0),Fk={[nd]:nd,[Symbol.iterator](){return new Fa(this,(t,e)=>[t,e])},[rt](){let t=K(h0);for(const e of this)t^=P(K(e[0]),_t(K(e[1])));return Wt(this,t)},[nt](t){if(Mk(t)){if(t._size!==this._size)return!1;for(const e of this){const n=P(t,Sh(e[0],K(e[0])));if(Ye(n))return!1;if(!ct(e[1],n.value))return!1}return!0}return!1},toString(){return ye(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(te)}},[Kt](){return this.toJSON()},pipe(){return X(this,arguments)}},wh=(t,e,n,i)=>{const s=Object.create(Fk);return s._editable=t,s._edit=e,s._root=n,s._size=i,s};class Fa{constructor(e,n){_(this,"map");_(this,"f");_(this,"v");this.map=e,this.f=n,this.v=m0(this.map._root,this.f,void 0)}next(){if(Ye(this.v))return{done:!0,value:void 0};const e=this.v.value;return this.v=Jc(e.cont),{done:!1,value:e.value}}[Symbol.iterator](){return new Fa(this.map,this.f)}}const Jc=t=>t?p0(t[0],t[1],t[2],t[3],t[4]):Z(),m0=(t,e,n=void 0)=>{switch(t._tag){case"LeafNode":return Qn(t.value)?bt({value:e(t.key,t.value.value),cont:n}):Jc(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const i=t.children;return p0(i.length,i,0,e,n)}default:return Jc(n)}},p0=(t,e,n,i,s)=>{for(;n<t;){const c=e[n++];if(c&&!Rn(c))return m0(c,i,[t,e,n,i,s])}return Jc(s)},$k=wh(!1,0,new Qr,0),$a=()=>$k,Pk=(...t)=>g0(t),g0=t=>{const e=_0($a());for(const n of t)qs(e,n[0],n[1]);return Nk(e)},Mk=t=>at(t,nd),Rk=t=>t&&Rn(t._root),Ek=x(2,(t,e)=>Sh(t,e,K(e))),Sh=x(3,(t,e,n)=>{let i=t._root,s=0;for(;;)switch(i._tag){case"LeafNode":return ct(e,i.key)?i.value:Z();case"CollisionNode":{if(n===i.hash){const c=i.children;for(let f=0,d=c.length;f<d;++f){const p=c[f];if("key"in p&&ct(e,p.key))return p.value}}return Z()}case"IndexedNode":{const c=$o(s,n),f=ao(c);if(i.mask&f){i=i.children[f0(i.mask,f)],s+=Mi;break}return Z()}case"ArrayNode":{if(i=i.children[$o(s,n)],i){s+=Mi;break}return Z()}default:return Z()}}),Ak=x(2,(t,e)=>Qn(Sh(t,e,K(e)))),qs=x(3,(t,e,n)=>b0(t,e,()=>bt(n))),vk=x(3,(t,e,n)=>t._editable?(t._root=e,t._size=n,t):e===t._root?t:wh(t._editable,t._edit,e,n)),y0=t=>new Fa(t,e=>e),Xc=t=>t._size,_0=t=>wh(!0,t._edit+1,t._root,t._size),Nk=t=>(t._editable=!1,t),b0=x(3,(t,e,n)=>Ck(t,e,K(e),n)),Ck=x(4,(t,e,n,i)=>{const s={value:t._size},c=t._root.modify(t._editable?t._edit:NaN,0,i,n,e,s);return P(t,vk(c,s.value))}),ny=x(2,(t,e)=>b0(t,e,Z)),kk=x(2,(t,e)=>Pa(t,$a(),(n,i,s)=>qs(n,s,e(i,s)))),Tk=x(2,(t,e)=>Pa(t,void 0,(n,i,s)=>e(i,s))),Pa=x(3,(t,e,n)=>{const i=t._root;if(i._tag==="LeafNode")return Qn(i.value)?n(e,i.value.value,i.key):e;if(i._tag==="EmptyNode")return e;const s=[i.children];let c;for(;c=s.pop();)for(let f=0,d=c.length;f<d;){const p=c[f++];p&&!Rn(p)&&(p._tag==="LeafNode"?Qn(p.value)&&(e=n(e,p.value.value,p.key)):s.push(p.children))}return e}),w0="effect/HashSet",rd=Symbol.for(w0),Lk={[rd]:rd,[Symbol.iterator](){return y0(this._keyMap)},[rt](){return Wt(this,_t(K(this._keyMap))(K(w0)))},[nt](t){return Uk(t)?Xc(this._keyMap)===Xc(t._keyMap)&&ct(this._keyMap,t._keyMap):!1},toString(){return ye(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(te)}},[Kt](){return this.toJSON()},pipe(){return X(this,arguments)}},Ma=t=>{const e=Object.create(Lk);return e._keyMap=t,e},Uk=t=>at(t,rd),Dk=Ma($a()),Ra=()=>Dk,Bk=t=>{const e=Oh(Ra());for(const n of t)Ws(e,n);return Ih(e)},jk=(...t)=>{const e=Oh(Ra());for(const n of t)Ws(e,n);return Ih(e)},qk=x(2,(t,e)=>Ak(t._keyMap,e)),Wk=t=>Xc(t._keyMap),Oh=t=>Ma(_0(t._keyMap)),Ih=t=>(t._keyMap._editable=!1,t),S0=x(2,(t,e)=>{const n=Oh(t);return e(n),Ih(n)}),Ws=x(2,(t,e)=>t._keyMap._editable?(qs(e,!0)(t._keyMap),t):Ma(qs(e,!0)(t._keyMap))),O0=x(2,(t,e)=>t._keyMap._editable?(ny(e)(t._keyMap),t):Ma(ny(e)(t._keyMap))),Kk=x(2,(t,e)=>S0(t,n=>{for(const i of e)O0(n,i)})),Hk=x(2,(t,e)=>S0(Ra(),n=>{Gk(t,i=>Ws(n,i));for(const i of e)Ws(n,i)})),Gk=x(2,(t,e)=>Tk(t._keyMap,(n,i)=>e(i))),Yk=x(3,(t,e,n)=>Pa(t._keyMap,e,(i,s,c)=>n(i,c))),Ri=Ra,zk=Bk,xh=jk,Jk=qk,I0=Wk,Ns=Ws,x0=O0,ry=Kk,Ks=Hk,Qc=Yk,iy=Symbol.for("effect/MutableRef"),Xk={[iy]:iy,toString(){return ye(this.toJSON())},toJSON(){return{_id:"MutableRef",current:te(this.current)}},[Kt](){return this.toJSON()},pipe(){return X(this,arguments)}},F0=t=>{const e=Object.create(Xk);return e.current=t,e},Ea=t=>t.current,Aa=x(2,(t,e)=>(t.current=e,t)),Fh="effect/FiberId",Hs=Symbol.for(Fh),Zc="None",id="Runtime",Qk="Composite",Zk=fe(`${Fh}-${Zc}`);var X6;let Vk=class{constructor(){_(this,X6,Hs);_(this,"_tag",Zc);_(this,"id",-1);_(this,"startTimeMillis",-1)}[(X6=Hs,rt)](){return Zk}[nt](e){return $0(e)&&e._tag===Zc}toString(){return ye(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[Kt](){return this.toJSON()}};var Q6;class t2{constructor(e,n){_(this,"id");_(this,"startTimeMillis");_(this,Q6,Hs);_(this,"_tag",id);this.id=e,this.startTimeMillis=n}[(Q6=Hs,rt)](){return Wt(this,fe(`${Fh}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[nt](e){return $0(e)&&e._tag===id&&this.id===e.id&&this.startTimeMillis===e.startTimeMillis}toString(){return ye(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[Kt](){return this.toJSON()}}const e2=new Vk,$0=t=>at(t,Hs),od=t=>{switch(t._tag){case Zc:return Ri();case id:return xh(t.id);case Qk:return P(od(t.left),Ks(od(t.right)))}},oy=Rt(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>F0(0)),P0=t=>Array.from(od(t)).map(n=>`#${n}`).join(","),n2=()=>{const t=Ea(oy);return P(oy,Aa(t+1)),new t2(t,Date.now())},$h=e2,r2=P0,M0=n2,Ph=$a,i2=Pk,o2=g0,s2=Rk,R0=Ek,E0=qs,A0=y0,u2=Xc,v0=kk,N0=Pa,Gs=Symbol.for("effect/List"),sd=t=>Array.from(t),c2=t=>JN(ph(t),sd),a2=c2(ct),f2={[Gs]:Gs,_tag:"Cons",toString(){return ye(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:sd(this).map(te)}},[Kt](){return this.toJSON()},[nt](t){return k0(t)&&this._tag===t._tag&&a2(this,t)},[rt](){return Wt(this,du(sd(this)))},[Symbol.iterator](){let t=!1,e=this;return{next(){if(t)return this.return();if(e._tag==="Nil")return t=!0,this.return();const n=e.head;return e=e.tail,{done:t,value:n}},return(n){return t||(t=!0),{done:!0,value:n}}}},pipe(){return X(this,arguments)}},Vc=(t,e)=>{const n=Object.create(f2);return n.head=t,n.tail=e,n},l2=fe("Nil"),d2={[Gs]:Gs,_tag:"Nil",toString(){return ye(this.toJSON())},toJSON(){return{_id:"List",_tag:"Nil"}},[Kt](){return this.toJSON()},[rt](){return l2},[nt](t){return k0(t)&&this._tag===t._tag},[Symbol.iterator](){return{next(){return{done:!0,value:void 0}}}},pipe(){return X(this,arguments)}},C0=Object.create(d2),k0=t=>at(t,Gs),Sr=t=>t._tag==="Nil",T0=t=>t._tag==="Cons",h2=()=>C0,Ei=(t,e)=>Vc(t,e),Mo=h2,Mh=t=>Vc(t,C0),m2=x(2,(t,e)=>g2(e,t)),p2=x(2,(t,e)=>Ei(e,t)),g2=x(2,(t,e)=>{if(Sr(t))return e;if(Sr(e))return t;{const n=Vc(e.head,t);let i=n,s=e.tail;for(;!Sr(s);){const c=Vc(s.head,t);i.tail=c,i=c,s=s.tail}return n}}),y2=x(3,(t,e,n)=>{let i=e,s=t;for(;!Sr(s);)i=n(i,s.head),s=s.tail;return i}),_2=t=>{let e=Mo(),n=t;for(;!Sr(n);)e=p2(e,n.head),n=n.tail;return e},Wo=function(){function t(e){e&&Object.assign(this,e)}return t.prototype=hh,t}(),b2=Symbol.for("effect/DifferChunkPatch");function sy(t){return t}({...Wo.prototype,[b2]:0});const w2=Symbol.for("effect/DifferContextPatch");function uy(t){return t}const pu={...Wo.prototype,[w2]:{_Value:uy,_Patch:uy}},S2=Object.assign(Object.create(pu),{_tag:"Empty"}),O2=Object.create(S2),L0=()=>O2,I2=Object.assign(Object.create(pu),{_tag:"AndThen"}),x2=(t,e)=>{const n=Object.create(I2);return n.first=t,n.second=e,n},F2=Object.assign(Object.create(pu),{_tag:"AddService"}),$2=(t,e)=>{const n=Object.create(F2);return n.key=t,n.service=e,n},P2=Object.assign(Object.create(pu),{_tag:"RemoveService"}),M2=t=>{const e=Object.create(P2);return e.key=t,e},R2=Object.assign(Object.create(pu),{_tag:"UpdateService"}),E2=(t,e)=>{const n=Object.create(R2);return n.key=t,n.update=e,n},A2=(t,e)=>{const n=new Map(t.unsafeMap);let i=L0();for(const[s,c]of e.unsafeMap.entries())if(n.has(s)){const f=n.get(s);n.delete(s),ct(f,c)||(i=vc(E2(s,()=>c))(i))}else n.delete(s),i=vc($2(s,c))(i);for(const[s]of n.entries())i=vc(M2(s))(i);return i},vc=x(2,(t,e)=>x2(t,e)),v2=x(2,(t,e)=>{if(t._tag==="Empty")return e;let n=!1,i=Ir(t);const s=new Map(e.unsafeMap);for(;xo(i);){const f=Fo(i),d=bi(i);switch(f._tag){case"Empty":{i=d;break}case"AddService":{s.set(f.key,f.service),i=d;break}case"AndThen":{i=Tn(Tn(d,f.second),f.first);break}case"RemoveService":{s.delete(f.key),i=d;break}case"UpdateService":{s.set(f.key,f.update(s.get(f.key))),n=!0,i=d;break}}}if(!n)return Oo(s);const c=new Map;for(const[f]of e.unsafeMap)s.has(f)&&(c.set(f,s.get(f)),s.delete(f));for(const[f,d]of s)c.set(f,d);return Oo(c)}),N2=Symbol.for("effect/DifferHashMapPatch");function vl(t){return t}({...Wo.prototype,[N2]:0});const C2=Symbol.for("effect/DifferHashSetPatch");function Nl(t){return t}const va={...Wo.prototype,[C2]:{_Value:Nl,_Key:Nl,_Patch:Nl}},k2=Object.assign(Object.create(va),{_tag:"Empty"}),T2=Object.create(k2),U0=()=>T2,L2=Object.assign(Object.create(va),{_tag:"AndThen"}),U2=(t,e)=>{const n=Object.create(L2);return n.first=t,n.second=e,n},D2=Object.assign(Object.create(va),{_tag:"Add"}),B2=t=>{const e=Object.create(D2);return e.value=t,e},j2=Object.assign(Object.create(va),{_tag:"Remove"}),q2=t=>{const e=Object.create(j2);return e.value=t,e},W2=(t,e)=>{const[n,i]=Qc([t,U0()],([s,c],f)=>Jk(f)(s)?[x0(f)(s),c]:[s,ud(B2(f))(c)])(e);return Qc(i,(s,c)=>ud(q2(c))(s))(n)},ud=x(2,(t,e)=>U2(t,e)),K2=x(2,(t,e)=>{if(t._tag==="Empty")return e;let n=e,i=Ir(t);for(;xo(i);){const s=Fo(i),c=bi(i);switch(s._tag){case"Empty":{i=c;break}case"AndThen":{i=Tn(s.first)(Tn(s.second)(c));break}case"Add":{n=Ns(s.value)(n),i=c;break}case"Remove":n=x0(s.value)(n),i=c}}return n}),H2=Symbol.for("effect/DifferOrPatch");function Cl(t){return t}({...Wo.prototype,[H2]:0});const G2=Symbol.for("effect/DifferReadonlyArrayPatch");function cy(t){return t}const gu={...Wo.prototype,[G2]:{_Value:cy,_Patch:cy}},Y2=Object.assign(Object.create(gu),{_tag:"Empty"}),z2=Object.create(Y2),D0=()=>z2,J2=Object.assign(Object.create(gu),{_tag:"AndThen"}),X2=(t,e)=>{const n=Object.create(J2);return n.first=t,n.second=e,n},Q2=Object.assign(Object.create(gu),{_tag:"Append"}),Z2=t=>{const e=Object.create(Q2);return e.values=t,e},V2=Object.assign(Object.create(gu),{_tag:"Slice"}),tT=(t,e)=>{const n=Object.create(V2);return n.from=t,n.until=e,n},eT=Object.assign(Object.create(gu),{_tag:"Update"}),nT=(t,e)=>{const n=Object.create(eT);return n.index=t,n.patch=e,n},rT=t=>{let e=0,n=D0();for(;e<t.oldValue.length&&e<t.newValue.length;){const i=t.oldValue[e],s=t.newValue[e],c=t.differ.diff(i,s);ct(c,t.differ.empty)||(n=Nc(n,nT(e,c))),e=e+1}return e<t.oldValue.length&&(n=Nc(n,tT(0,e))),e<t.newValue.length&&(n=Nc(n,Z2(LC(e)(t.newValue)))),n},Nc=x(2,(t,e)=>X2(t,e)),iT=x(3,(t,e,n)=>{if(t._tag==="Empty")return e;let i=e.slice(),s=$n(t);for(;AC(s);){const c=ze(s),f=wo(s);switch(c._tag){case"Empty":{s=f;break}case"AndThen":{f.unshift(c.first,c.second),s=f;break}case"Append":{for(const d of c.values)i.push(d);s=f;break}case"Slice":{i=i.slice(c.from,c.until),s=f;break}case"Update":{i[c.index]=n.patch(c.patch,i[c.index]),s=f;break}}}return i}),oT=Symbol.for("effect/Differ"),sT={[oT]:{_P:ie,_V:ie}},Ko=t=>{const e=Object.create(sT);return e.empty=t.empty,e.diff=t.diff,e.combine=t.combine,e.patch=t.patch,e},uT=()=>Ko({empty:L0(),combine:(t,e)=>vc(e)(t),diff:(t,e)=>A2(t,e),patch:(t,e)=>v2(e)(t)}),cT=()=>Ko({empty:U0(),combine:(t,e)=>ud(e)(t),diff:(t,e)=>W2(t,e),patch:(t,e)=>K2(e)(t)}),aT=t=>Ko({empty:D0(),combine:(e,n)=>Nc(e,n),diff:(e,n)=>rT({oldValue:e,newValue:n,differ:t}),patch:(e,n)=>iT(e,n,t)}),B0=()=>fT((t,e)=>e),fT=t=>Ko({empty:ie,combine:(e,n)=>e===ie?n:n===ie?e:i=>n(e(i)),diff:(e,n)=>ct(e,n)?ie:Sa(n),patch:(e,n)=>t(n,e(n))}),Ys=255,j0=8,cd=t=>t&Ys,ad=t=>t>>j0&Ys,yu=(t,e)=>(t&Ys)+((e&t&Ys)<<j0),lT=yu(0,0),dT=t=>yu(t,t),hT=t=>yu(t,0),mT=x(2,(t,e)=>yu(cd(t)&~e,ad(t))),pT=x(2,(t,e)=>t|e),gT=t=>~t>>>0&Ys,yT=0,Ho=1,_T=2,q0=4,fd=16,W0=32,bT=t=>Na(t,W0),wT=x(2,(t,e)=>t|e),qr=t=>K0(t)&&!OT(t),K0=t=>Na(t,Ho),Na=x(2,(t,e)=>(t&e)!==0),H0=(...t)=>t.reduce((e,n)=>e|n,0),ST=H0(yT),ay=t=>Na(t,q0),OT=t=>Na(t,fd),Cc=x(2,(t,e)=>yu(t^e,e)),kc=x(2,(t,e)=>t&(gT(cd(e))|ad(e))|cd(e)&ad(e)),fy=Ko({empty:lT,diff:(t,e)=>Cc(t,e),combine:(t,e)=>pT(e)(t),patch:(t,e)=>kc(e,t)}),IT=dT,G0=hT,ly=mT,Y0=(t,e)=>({_tag:"Par",left:t,right:e}),Fc=(t,e)=>({_tag:"Seq",left:t,right:e}),xT=t=>{let e=Mh(t),n=Mo();for(;;){const[i,s]=y2(e,[z0(),Mo()],([c,f],d)=>{const[p,y]=FT(d);return[J0(c,p),m2(f,y)]});if(n=$T(n,i),Sr(s))return _2(n);e=s}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")},FT=t=>{let e=t,n=z0(),i=Mo(),s=Mo();for(;;)switch(e._tag){case"Empty":{if(Sr(i))return[n,s];e=i.head,i=i.tail;break}case"Par":{i=Ei(e.right,i),e=e.left;break}case"Seq":{const c=e.left,f=e.right;switch(c._tag){case"Empty":{e=f;break}case"Par":{const d=c.left,p=c.right;e=Y0(Fc(d,f),Fc(p,f));break}case"Seq":{const d=c.left,p=c.right;e=Fc(d,Fc(p,f));break}case"Single":{e=c,s=Ei(f,s);break}}break}case"Single":{if(n=J0(n,RT(e.dataSource,e.blockedRequest)),Sr(i))return[n,s];e=i.head,i=i.tail;break}}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},$T=(t,e)=>{if(Sr(t))return Mh(kl(e));if(ET(e))return t;const n=TT(t.head),i=AT(e);return n.length===1&&i.length===1&&ct(n[0],i[0])?Ei(kT(t.head,kl(e)),t.tail):Ei(kl(e),t)},PT=Symbol.for("effect/RequestBlock/RequestBlockParallel"),MT={_R:t=>t};var Z6;class Rh{constructor(e){_(this,"map");_(this,Z6,MT);this.map=e}}Z6=PT;const z0=()=>new Rh(Ph()),RT=(t,e)=>new Rh(i2([t,Array.of(e)])),J0=(t,e)=>new Rh(N0(t.map,e.map,(n,i,s)=>E0(n,s,Di(R0(n,s),{onNone:()=>i,onSome:c=>[...i,...c]})))),ET=t=>s2(t.map),AT=t=>Array.from(A0(t.map)),kl=t=>CT(v0(t.map,e=>Array.of(e))),vT=Symbol.for("effect/RequestBlock/RequestBlockSequential"),NT={_R:t=>t};var V6;class X0{constructor(e){_(this,"map");_(this,V6,NT);this.map=e}}V6=vT;const CT=t=>new X0(t),kT=(t,e)=>new X0(N0(e.map,t.map,(n,i,s)=>E0(n,s,Di(R0(n,s),{onNone:()=>[],onSome:c=>[...c,...i]})))),TT=t=>Array.from(A0(t.map)),LT=t=>Array.from(t.map),_u="Die",Ro="Empty",Go="Fail",bu="Interrupt",Eo="Parallel",Ao="Sequential",Q0="effect/Cause",Z0=Symbol.for(Q0),UT={_E:t=>t},Yo={[Z0]:UT,[rt](){return P(K(Q0),_t(K(zT(this))),Wt(this))},[nt](t){return DT(t)&&YT(this,t)},pipe(){return X(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:te(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:te(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:te(this.left),right:te(this.right)}}},toString(){return Ca(this)},[Kt](){return this.toJSON()}},zs=(()=>{const t=Object.create(Yo);return t._tag=Ro,t})(),ta=t=>{const e=Object.create(Yo);return e._tag=Go,e.error=t,e},Kr=t=>{const e=Object.create(Yo);return e._tag=_u,e.defect=t,e},wi=t=>{const e=Object.create(Yo);return e._tag=bu,e.fiberId=t,e},wu=(t,e)=>{const n=Object.create(Yo);return n._tag=Eo,n.left=t,n.right=e,n},En=(t,e)=>{const n=Object.create(Yo);return n._tag=Ao,n.left=t,n.right=e,n},DT=t=>at(t,Z0),BT=t=>t._tag===Ro?!0:vo(t,!0,(e,n)=>{switch(n._tag){case Ro:return bt(e);case _u:case Go:case bu:return bt(!1);default:return Z()}}),Eh=t=>Ah(void 0,QT)(t),jT=t=>Io(vo(t,Pi(),(e,n)=>n._tag===Go?bt(P(e,Tn(n.error))):Z())),qT=t=>Io(vo(t,Pi(),(e,n)=>n._tag===_u?bt(P(e,Tn(n.defect))):Z())),WT=t=>vo(t,Ri(),(e,n)=>n._tag===bu?bt(P(e,Ns(n.fiberId))):Z()),KT=t=>XT(t,e=>e._tag===Go?bt(e.error):Z()),HT=t=>{const e=KT(t);switch(e._tag){case"None":return br(t);case"Some":return bo(e.value)}},dy=t=>V0(t,{onEmpty:zs,onFail:()=>zs,onDie:e=>Kr(e),onInterrupt:e=>wi(e),onSequential:En,onParallel:wu}),GT=t=>V0(t,{onEmpty:zs,onFail:e=>Kr(e),onDie:e=>Kr(e),onInterrupt:e=>wi(e),onSequential:(e,n)=>En(e,n),onParallel:(e,n)=>wu(e,n)}),YT=(t,e)=>{let n=Ir(t),i=Ir(e);for(;xo(n)&&xo(i);){const[s,c]=P(Fo(n),vo([Ri(),Pi()],([p,y],M)=>{const[A,N]=ld(M);return bt([P(p,Ks(A)),P(y,Wr(N))])})),[f,d]=P(Fo(i),vo([Ri(),Pi()],([p,y],M)=>{const[A,N]=ld(M);return bt([P(p,Ks(A)),P(y,Wr(N))])}));if(!ct(s,f))return!1;n=c,i=d}return!0},zT=t=>JT(Ir(t),Pi()),JT=(t,e)=>{for(;;){const[n,i]=P(t,Vb([Ri(),Pi()],([c,f],d)=>{const[p,y]=ld(d);return[P(c,Ks(p)),P(f,Wr(y))]})),s=I0(n)>0?P(e,Tn(n)):e;if(mk(i))return Io(s);t=i,e=s}throw new Error("BUG: Cause.flattenCauseLoop - please report an issue at https://github.com/Effect-TS/effect/issues")},XT=x(2,(t,e)=>{const n=[t];for(;n.length>0;){const i=n.pop(),s=e(i);switch(s._tag){case"None":{switch(i._tag){case Ao:case Eo:{n.push(i.right),n.push(i.left);break}}break}case"Some":return s}}return Z()}),ld=t=>{let e=t;const n=[];let i=Ri(),s=Pi();for(;e!==void 0;)switch(e._tag){case Ro:{if(n.length===0)return[i,s];e=n.pop();break}case Go:{if(i=Ns(i,e.error),n.length===0)return[i,s];e=n.pop();break}case _u:{if(i=Ns(i,e.defect),n.length===0)return[i,s];e=n.pop();break}case bu:{if(i=Ns(i,e.fiberId),n.length===0)return[i,s];e=n.pop();break}case Ao:{switch(e.left._tag){case Ro:{e=e.right;break}case Ao:{e=En(e.left.left,En(e.left.right,e.right));break}case Eo:{e=wu(En(e.left.left,e.right),En(e.left.right,e.right));break}default:{s=Tn(s,e.right),e=e.left;break}}break}case Eo:{n.push(e.right),e=e.left;break}}throw new Error("BUG: Cause.evaluateCauseLoop - please report an issue at https://github.com/Effect-TS/effect/issues")},QT={emptyCase:Xg,failCase:Ql,dieCase:Ql,interruptCase:Xg,sequentialCase:(t,e,n)=>e&&n,parallelCase:(t,e,n)=>e&&n},hy="SequentialCase",my="ParallelCase",V0=x(2,(t,{onDie:e,onEmpty:n,onFail:i,onInterrupt:s,onParallel:c,onSequential:f})=>Ah(t,void 0,{emptyCase:()=>n,failCase:(d,p)=>i(p),dieCase:(d,p)=>e(p),interruptCase:(d,p)=>s(p),sequentialCase:(d,p,y)=>f(p,y),parallelCase:(d,p,y)=>c(p,y)})),vo=x(3,(t,e,n)=>{let i=e,s=t;const c=[];for(;s!==void 0;){const f=n(i,s);switch(i=Qn(f)?f.value:i,s._tag){case Ao:{c.push(s.right),s=s.left;break}case Eo:{c.push(s.right),s=s.left;break}default:{s=void 0;break}}s===void 0&&c.length>0&&(s=c.pop())}return i}),Ah=x(3,(t,e,n)=>{const i=[t],s=[];for(;i.length>0;){const f=i.pop();switch(f._tag){case Ro:{s.push(br(n.emptyCase(e)));break}case Go:{s.push(br(n.failCase(e,f.error)));break}case _u:{s.push(br(n.dieCase(e,f.defect)));break}case bu:{s.push(br(n.interruptCase(e,f.fiberId)));break}case Ao:{i.push(f.right),i.push(f.left),s.push(bo({_tag:hy}));break}case Eo:{i.push(f.right),i.push(f.left),s.push(bo({_tag:my}));break}}}const c=[];for(;s.length>0;){const f=s.pop();switch(f._tag){case"Left":{switch(f.left._tag){case hy:{const d=c.pop(),p=c.pop(),y=n.sequentialCase(e,d,p);c.push(y);break}case my:{const d=c.pop(),p=c.pop(),y=n.parallelCase(e,d,p);c.push(y);break}}break}case"Right":{c.push(f.right);break}}}if(c.length===0)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return c.pop()}),ZT=t=>{const e=t.split(`
`),n=[];for(let i=0;i<e.length;i++)if(n.push(e[i].replace(/at .*effect_cutpoint.*\((.*)\)/,"at $1")),e[i].includes("effect_cutpoint"))return n.join(`
`);return n.join(`
`)},Ca=t=>Eh(t)?"All fibers interrupted without errors.":t1(t).map(n=>{let i=n.message;if(n.stack&&(i+=`\r
${ZT(n.stack)}`),n.span){let s=n.span,c=0;for(;s&&s._tag==="Span"&&c<10;)i+=`\r
    at ${s.name}`,s=gi(s.parent),c++}return i}).join(`\r
`);class py{constructor(e,n,i){_(this,"message");_(this,"stack");_(this,"span");this.message=e,this.stack=n,this.span=i}toJSON(){const e={message:this.message};return this.stack&&(e.stack=this.stack),this.span&&(e.span=this.span),e}}const gy=t=>{if(typeof t=="string")return`Error: ${t}`;try{if(at(t,"toString")&&js(t.toString)&&t.toString!==Object.prototype.toString&&t.toString!==Array.prototype.toString)return t.toString()}catch{}return`Error: ${JSON.stringify(t)}`},yy=Symbol.for("effect/SpanAnnotation"),_y=t=>{var n;const e=at(t,yy)&&t[yy];return t instanceof Error?new py(gy(t),(n=t.stack)==null?void 0:n.split(`
`).filter(i=>i.match(/at (.*)/)).join(`
`),e):new py(gy(t),void 0,e)},t1=t=>Ah(t,void 0,{emptyCase:()=>[],dieCase:(e,n)=>[_y(n)],failCase:(e,n)=>[_y(n)],interruptCase:()=>[],parallelCase:(e,n,i)=>[...n,...i],sequentialCase:(e,n,i)=>[...n,...i]}),ka="Pending",e1="Done",VT="effect/Deferred",tL=Symbol.for(VT),eL={_E:t=>t,_A:t=>t},vh=t=>({_tag:ka,joiners:t}),nL=t=>({_tag:e1,effect:t}),zn=t=>(Object.defineProperty(t,"name",{value:"effect_cutpoint"}),t),by=Symbol.for("effect/Tracer"),rL=t=>({[by]:by,...t}),dd=Bi("effect/Tracer"),n1=Bi("effect/ParentSpan"),iL=function(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=t.length;return function(n){let i="";for(let s=0;s<n;s++)i+=t.charAt(Math.floor(Math.random()*e));return i}}();class oL{constructor(e,n,i,s,c){_(this,"name");_(this,"parent");_(this,"context");_(this,"links");_(this,"startTime");_(this,"_tag","Span");_(this,"spanId");_(this,"traceId","native");_(this,"sampled",!0);_(this,"status");_(this,"attributes");_(this,"events",[]);_(this,"end",(e,n)=>{this.status={_tag:"Ended",endTime:e,exit:n,startTime:this.status.startTime}});_(this,"attribute",(e,n)=>{this.attributes.set(e,n)});_(this,"event",(e,n,i)=>{this.events.push([e,n,i??{}])});this.name=e,this.parent=n,this.context=i,this.links=s,this.startTime=c,this.status={_tag:"Started",startTime:c},this.attributes=new Map,this.spanId=`span${iL(16)}`}}const sL=rL({span:(t,e,n,i,s)=>new oL(t,e,n,i,s),context:t=>t()}),uL="effect/EffectError",hd=Symbol.for(uL),cL=t=>at(t,hd),aL=t=>({[hd]:hd,_tag:"EffectError",cause:t}),r1=(t,e)=>{const n=new De("Blocked");return n.i0=t,n.i1=e,n},fL=t=>{const e=new De("RunBlocked");return e.i0=t,e},Ta=Symbol.for("effect/Effect");class lL{constructor(e,n){_(this,"patch");_(this,"op");_(this,"_op",dh);this.patch=e,this.op=n}}var tK;class De{constructor(e){_(this,"_op");_(this,"i0");_(this,"i1");_(this,"i2");_(this,"trace");_(this,tK,_o);this._op=e}[(tK=Ta,nt)](e){return this===e}[rt](){return Wt(this,lu(this))}pipe(){return X(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,i0:te(this.i0),i1:te(this.i1),i2:te(this.i2)}}toString(){return ye(this.toJSON())}[Kt](){return this.toJSON()}}var eK;class i1{constructor(e){_(this,"_op");_(this,"i0");_(this,"i1");_(this,"i2");_(this,"trace");_(this,eK,_o);this._op=e,this._tag=e}[(eK=Ta,nt)](e){return this===e}[rt](){return Wt(this,lu(this))}get cause(){return this.i0}pipe(){return X(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return ye(this.toJSON())}[Kt](){return this.toJSON()}}var nK;class o1{constructor(e){_(this,"_op");_(this,"i0");_(this,"i1");_(this,"i2");_(this,"trace");_(this,nK,_o);this._op=e,this._tag=e}[(nK=Ta,nt)](e){return this===e}[rt](){return Wt(this,lu(this))}get value(){return this.i0}pipe(){return X(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:te(this.value)}}toString(){return ye(this.toJSON())}[Kt](){return this.toJSON()}}const dL=t=>at(t,Ta),Zn=t=>{zn(t);const e=new De(Ab);return e.i0=t,e},hL=x(3,(t,e,n)=>Ua(i=>G(t,s=>G(s1(re(()=>i(e(s)))),c=>re(()=>n(s,c)).pipe(No({onFailure:f=>{switch(c._tag){case An:return xr(wu(c.i0,f));case vn:return xr(f)}},onSuccess:()=>c})))))),Su=x(2,(t,e)=>G(t,()=>At(e))),Ou=t=>Su(t,void 0),zo=(t,e=$h)=>re(()=>{zn(t);let n,i;function s(p){n?n(p):i===void 0&&(i=p)}const c=new De(Ec);c.i0=p=>{n=p,i&&p(i)},c.i1=e;let f,d;return t.length!==1?(d=new AbortController,f=t(s,d.signal)):f=t(s),f||d?h1(c,p=>(d&&d.abort(),f??Fr)):c}),wy=x(2,(t,e)=>Nh(t,{onFailure:e,onSuccess:At})),md=Symbol.for("effect/SpanAnnotation"),Sy=Symbol.for("effect/OriginalAnnotation"),mL=(t,e)=>Qn(e)?new Proxy(t,{has(n,i){return i===md||i===Sy||i in n},get(n,i){return i===md?e.value:i===Sy?t:n[i]}}):t,pL=t=>gL(()=>Kr(new KL(t))),Js=t=>Nh(t,{onFailure:e=>At(bo(e)),onSuccess:e=>At(br(e))}),s1=t=>bL(t,{onFailure:kt,onSuccess:Re}),Ie=t=>xb(t)&&!(md in t)?Zn(e=>xr(ta(mL(t,iU(e))))):xr(ta(t)),u1=t=>G(z(t),Ie),xr=t=>{const e=new i1(An);return e.i0=t,e},gL=t=>G(z(t),xr),yL=Zn(t=>At(t.id())),c1=t=>Zn(e=>t(e.id())),G=x(2,(t,e)=>{zn(e);const n=new De(Kc);return n.i0=t,n.i1=e,n}),_L=t=>{const e=new De("OnStep");return e.i0=t,e},a1=t=>G(t,ie),bL=x(2,(t,e)=>No(t,{onFailure:n=>At(e.onFailure(n)),onSuccess:n=>At(e.onSuccess(n))})),No=x(2,(t,e)=>{const n=new De(Hc);return n.i0=t,n.i1=e.onFailure,n.i2=e.onSuccess,zn(e.onFailure),zn(e.onSuccess),n}),Nh=x(2,(t,e)=>No(t,{onFailure:n=>{if(qT(n).length>0)return xr(GT(n));const s=jT(n);return s.length>0?e.onFailure(a0(s)):xr(n)},onSuccess:e.onSuccess})),Hr=x(2,(t,e)=>re(()=>{const n=Yt(t),i=new Array(n.length);let s=0;return Su(Th({while:()=>s<n.length,body:()=>e(n[s],s),step:c=>{i[s++]=c}}),i)})),La=x(2,(t,e)=>re(()=>{const n=Yt(t);let i=0;return Th({while:()=>i<n.length,body:()=>e(n[i],i),step:()=>{i++}})})),f1=t=>{const e=new De(hu);return e.i0=IT(Ho),e.i1=()=>t,e},de=x(2,(t,e)=>G(t,n=>z(()=>e(n)))),l1=x(2,(t,e)=>Nh(t,{onFailure:n=>u1(()=>e.onFailure(n)),onSuccess:n=>z(()=>e.onSuccess(n))})),Ch=x(2,(t,e)=>No(t,{onFailure:n=>{const i=HT(n);switch(i._tag){case"Left":return u1(()=>e(i.left));case"Right":return xr(i.right)}},onSuccess:At})),d1=x(2,(t,e)=>Ua(n=>No(n(t),{onFailure:i=>{const s=kt(i);return No(e(s),{onFailure:c=>kt(En(i,c)),onSuccess:()=>s})},onSuccess:i=>{const s=Re(i);return Da(e(s),s)}}))),h1=x(2,(t,e)=>d1(t,zL({onFailure:n=>Eh(n)?Ou(e(WT(n))):Fr,onSuccess:()=>Fr}))),At=t=>{const e=new o1(vn);return e.i0=t,e},re=t=>G(z(t),ie),z=t=>{zn(t);const e=new De(Eb);return e.i0=t,e},kh=x(2,(t,e)=>G(t,n=>{const i=typeof e=="function"?e(n):e;return dL(i)?Su(i,n):UN(i)?zo(s=>{i.then(c=>s(At(n))).catch(c=>s(Ie(new P1(c))))}):At(n)})),wL=t=>Zn(e=>{const n=e.getFiberRef(pd),i=P(n,$i(()=>e.scope()));return t(ja(pd,bt(i)))}),m1=t=>{const e=new De(hu);return e.i0=G0(Ho),e.i1=()=>t,e},Ua=t=>{zn(t);const e=new De(hu);return e.i0=G0(Ho),e.i1=n=>K0(n)?t(f1):t(m1),e},Fr=At(void 0),SL=t=>{const e=new De(hu);return e.i0=t,e.i1=void 0,e},Th=t=>{const e=new De(Gc);return e.i0=t.while,e.i1=t.body,e.i2=t.step,zn(t.body),zn(t.step),zn(t.while),e},Lh=t=>{const e=new De(Ac);return typeof(t==null?void 0:t.priority)<"u"?UL(e,t.priority):e},p1=x(2,(t,e)=>G(t,n=>de(e,i=>[n,i]))),g1=x(2,(t,e)=>G(t,n=>Su(e,n))),Da=x(2,(t,e)=>G(t,()=>e)),OL=t=>G(yL,e=>P(t,y1(e))),y1=x(2,(t,e)=>G(t.interruptAsFork(e),()=>t.await)),IL={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return X(this,arguments)}},xL={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return X(this,arguments)}},FL={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return X(this,arguments)}},$L={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return X(this,arguments)}},_1={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return X(this,arguments)}},b1={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return X(this,arguments)}},PL={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return X(this,arguments)}},ML={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return X(this,arguments)}},RL="effect/FiberRef",EL=Symbol.for(RL),AL={_A:t=>t},Ba=t=>S1(t,e=>[e,e]),w1=x(2,(t,e)=>G(Ba(t),e)),Oy=x(2,(t,e)=>S1(t,()=>[void 0,e])),S1=x(2,(t,e)=>Zn(n=>{const[i,s]=e(n.getFiberRef(t));return n.setFiberRef(t,s),At(i)})),ja=x(3,(t,e,n)=>hL(g1(Ba(e),Oy(e,n)),()=>t,i=>Oy(e,i))),Ve=(t,e)=>Jo(t,{differ:B0(),fork:(e==null?void 0:e.fork)??ie,join:e==null?void 0:e.join}),vL=t=>{const e=cT();return Jo(t,{differ:e,fork:e.empty})},NL=t=>{const e=aT(B0());return Jo(t,{differ:e,fork:e.empty})},O1=t=>{const e=uT();return Jo(t,{differ:e,fork:e.empty})},Jo=(t,e)=>({[EL]:AL,initial:t,diff:(n,i)=>e.differ.diff(n,i),combine:(n,i)=>e.differ.combine(n,i),patch:n=>i=>e.differ.patch(n,i),fork:e.fork,join:e.join??((n,i)=>i),pipe(){return X(this,arguments)}}),CL=t=>Jo(t,{differ:fy,fork:fy.empty}),ji=Rt(Symbol.for("effect/FiberRef/currentContext"),()=>O1(gh())),qa=Rt(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>Ve(0)),I1=Rt(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>Ve(2048)),kL=Rt(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>Ve(Ph())),TL=Rt(Symbol.for("effect/FiberRef/currentLogLevel"),()=>Ve(_1)),LL=Rt(Symbol.for("effect/FiberRef/currentLogSpan"),()=>Ve(Mo())),UL=x(2,(t,e)=>ja(t,qa,e)),DL=Rt(Symbol.for("effect/FiberRef/currentConcurrency"),()=>Ve("unbounded")),BL=Rt(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>Ve(!0)),jL=Rt(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>Ve(bt(b1))),Iy=Rt(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>NL(So())),pd=Rt(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>Ve(Z(),{fork:()=>Z(),join:(t,e)=>t})),$c=Rt(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>Ve(zs,{fork:()=>zs,join:(t,e)=>t})),qL=(t,e)=>t.addFinalizer(()=>Ou(e)),WL=(t,e)=>t.close(e),Wa=(t,e)=>t.fork(e),x1=function(){class t extends globalThis.Error{commit(){return Ie(this)}toString(){return this.message?`${this.name}: ${this.message}`:this.name}toJSON(){return{...this}}[Kt](){const n=this.stack;return n?`${this.toString()}
${n.split(`
`).slice(1).join(`
`)}`:this.toString()}}return Object.assign(t.prototype,iC),t}(),F1=(t,e)=>{class n extends x1{constructor(){super(...arguments);_(this,"_tag",e)}}return Object.assign(n.prototype,t),n.prototype.name=e,n},xy=Symbol.for("effect/Cause/errors/RuntimeException"),KL=F1({[xy]:xy},"RuntimeException"),HL=Symbol.for("effect/Cause/errors/InterruptedException"),GL=t=>at(t,HL),Fy=Symbol.for("effect/Cause/errors/NoSuchElement"),$1=F1({[Fy]:Fy},"NoSuchElementException"),$y=Symbol.for("effect/Cause/errors/UnknownException"),P1=function(){class t extends x1{constructor(i,s){super(s??(at(i,"message")&&kN(i.message)?i.message:void 0));_(this,"error");_(this,"_tag","UnknownException");this.error=i}}return Object.assign(t.prototype,{[$y]:$y,name:"UnknownException"}),t}(),Py=(t,e)=>XL(t,e!=null&&e.parallel?wu:En),My=t=>kt(ta(t)),kt=t=>{const e=new i1(An);return e.i0=t,e},YL=t=>kt(wi(t)),Tl=x(2,(t,e)=>{switch(t._tag){case An:return kt(t.i0);case vn:return Re(e(t.i0))}}),zL=x(2,(t,{onFailure:e,onSuccess:n})=>{switch(t._tag){case An:return e(t.i0);case vn:return n(t.i0)}}),Re=t=>{const e=new o1(vn);return e.i0=t,e},Si=Re(void 0),JL=x(3,(t,e,{onFailure:n,onSuccess:i})=>{switch(t._tag){case An:switch(e._tag){case vn:return kt(t.i0);case An:return kt(n(t.i0,e.i0))}case vn:switch(e._tag){case vn:return Re(i(t.i0,e.i0));case An:return kt(e.i0)}}}),XL=(t,e)=>{const n=u0(t);return xo(n)?P(bi(n),Vb(P(Fo(n),Tl(Ir)),(i,s)=>P(i,JL(s,{onSuccess:(c,f)=>P(c,Tn(f)),onFailure:e}))),Tl(Io),Tl(i=>Array.from(i)),bt):Z()},QL=t=>({[tL]:eL,state:F0(vh([])),blockingOn:t,pipe(){return X(this,arguments)}}),ZL=t=>zo(e=>{const n=Ea(t.state);switch(n._tag){case e1:return e(n.effect);case ka:return P(t.state,Aa(vh([e,...n.joiners]))),VL(t,e)}},t.blockingOn),M1=(t,e)=>{const n=Ea(t.state);if(n._tag===ka){P(t.state,Aa(nL(e)));for(let i=n.joiners.length-1;i>=0;i--)n.joiners[i](e)}},VL=(t,e)=>z(()=>{const n=Ea(t.state);n._tag===ka&&P(t.state,Aa(vh(n.joiners.filter(i=>i!==e))))}),tU=Ba(ji),eU=()=>tU,Iu=t=>G(eU(),t),nU=x(2,(t,e)=>ja(ji,e)(t)),rU=x(2,(t,e)=>Iu(n=>nU(t,e(n)))),iU=t=>{const e=t.getFiberRef(ji).unsafeMap.get(n1.key);return e!==void 0&&e._tag==="Span"?bt(e):Z()},gd=Symbol.for("effect/Duration"),oU=BigInt(1e3),yd=BigInt(1e9),Ry=/^(-?\d+(?:\.\d+)?)\s+(nanos|micros|millis|seconds|minutes|hours|days|weeks)$/,Zr=t=>{if(R1(t))return t;if(Rc(t))return _d(t);if(TN(t))return Ll(t);if(Array.isArray(t)){if(t.length===2&&Rc(t[0])&&Rc(t[1]))return Ll(BigInt(t[0])*yd+BigInt(t[1]))}else{Ry.lastIndex=0;const e=Ry.exec(t);if(e){const[n,i,s]=e,c=Number(i);switch(s){case"nanos":return Ll(BigInt(i));case"micros":return aU(BigInt(i));case"millis":return _d(c);case"seconds":return fU(c);case"minutes":return lU(c);case"hours":return dU(c);case"days":return hU(c);case"weeks":return mU(c)}}}throw new Error("Invalid duration input")},Ey={_tag:"Millis",millis:0},sU={_tag:"Infinity"},uU={[gd]:gd,[rt](){return Wt(this,Mb(this.value))},[nt](t){return R1(t)&&bU(this,t)},toString(){return`Duration(${wU(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:gU(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[Kt](){return this.toJSON()},pipe(){return X(this,arguments)}},Er=t=>{const e=Object.create(uU);return Rc(t)?isNaN(t)||t<0?e.value=Ey:Number.isFinite(t)?Number.isInteger(t)?e.value={_tag:"Millis",millis:t}:e.value={_tag:"Nanos",nanos:BigInt(Math.round(t*1e6))}:e.value=sU:t<BigInt(0)?e.value=Ey:e.value={_tag:"Nanos",nanos:t},e},R1=t=>at(t,gd),cU=Er(0),Ll=t=>Er(t),aU=t=>Er(t*oU),_d=t=>Er(t),fU=t=>Er(t*1e3),lU=t=>Er(t*6e4),dU=t=>Er(t*36e5),hU=t=>Er(t*864e5),mU=t=>Er(t*6048e5),bd=t=>{const e=Zr(t);switch(e.value._tag){case"Infinity":return 1/0;case"Nanos":return Number(e.value.nanos)/1e6;case"Millis":return e.value.millis}},pU=t=>{const e=Zr(t);switch(e.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return e.value.nanos;case"Millis":return BigInt(Math.round(e.value.millis*1e6))}},gU=t=>{const e=Zr(t);switch(e.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(e.value.nanos/yd),Number(e.value.nanos%yd)];case"Millis":return[Math.floor(e.value.millis/1e3),Math.round(e.value.millis%1e3*1e6)]}},E1=x(3,(t,e,n)=>{const i=Zr(t),s=Zr(e);if(i.value._tag==="Infinity"||s.value._tag==="Infinity")return n.onMillis(bd(i),bd(s));if(i.value._tag==="Nanos"||s.value._tag==="Nanos"){const c=i.value._tag==="Nanos"?i.value.nanos:BigInt(Math.round(i.value.millis*1e6)),f=s.value._tag==="Nanos"?s.value.nanos:BigInt(Math.round(s.value.millis*1e6));return n.onNanos(c,f)}return n.onMillis(i.value.millis,s.value.millis)}),yU=(t,e)=>E1(t,e,{onMillis:(n,i)=>n===i,onNanos:(n,i)=>n===i}),_U=x(2,(t,e)=>E1(t,e,{onMillis:(n,i)=>n>=i,onNanos:(n,i)=>n>=i})),bU=x(2,(t,e)=>yU(Zr(t),Zr(e))),wU=t=>{const e=Zr(t),n=[];if(e.value._tag==="Infinity")return"Infinity";const i=pU(e);i%1000000n&&n.push(`${i%1000000n}ns`);const s=i/1000000n;s%1000n!==0n&&n.push(`${s%1000n}ms`);const c=s/1000n;c%60n!==0n&&n.push(`${c%60n}s`);const f=c/60n;f%60n!==0n&&n.push(`${f%60n}m`);const d=f/60n;d%24n!==0n&&n.push(`${d%24n}h`);const p=d/24n;return p!==0n&&n.push(`${p}d`),n.reverse().join(" ")},Ay=Symbol.for("effect/MutableHashMap"),SU={[Ay]:Ay,[Symbol.iterator](){return new Uh(this)},toString(){return ye(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(te)}},[Kt](){return this.toJSON()},pipe(){return X(this,arguments)}};class Uh{constructor(e){_(this,"self");_(this,"referentialIterator");_(this,"bucketIterator");this.self=e,this.referentialIterator=e.referential[Symbol.iterator]()}next(){if(this.bucketIterator!==void 0)return this.bucketIterator.next();const e=this.referentialIterator.next();return e.done?(this.bucketIterator=new OU(this.self.buckets.values()),this.next()):e}[Symbol.iterator](){return new Uh(this.self)}}class OU{constructor(e){_(this,"backing");_(this,"currentBucket");this.backing=e}next(){if(this.currentBucket===void 0){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const e=this.currentBucket.next();return e.done?(this.currentBucket=void 0,this.next()):e}}const IU=()=>{const t=Object.create(SU);return t.referential=new Map,t.buckets=new Map,t.bucketsSize=0,t},yi=x(2,(t,e)=>{if(Wc(e)===!1)return t.referential.has(e)?bt(t.referential.get(e)):Z();const n=e[rt](),i=t.buckets.get(n);return i===void 0?Z():xU(t,i,e)}),xU=(t,e,n,i=!1)=>{for(let s=0,c=e.length;s<c;s++)if(n[nt](e[s][0])){const f=e[s][1];return i&&(e.splice(s,1),t.bucketsSize--),bt(f)}return Z()},Is=x(2,(t,e)=>Qn(yi(t,e))),xs=x(3,(t,e,n)=>{if(Wc(e)===!1)return t.referential.set(e,n),t;const i=e[rt](),s=t.buckets.get(i);return s===void 0?(t.buckets.set(i,[[e,n]]),t.bucketsSize++,t):(FU(t,s,e),s.push([e,n]),t.bucketsSize++,t)}),FU=(t,e,n)=>{for(let i=0,s=e.length;i<s;i++)if(n[nt](e[i][0])){e.splice(i,1),t.bucketsSize--;return}},$U="effect/Clock",vy=Symbol.for($U),Dh=Bi("effect/Clock"),PU=2**31-1,Ny={unsafeSchedule(t,e){const n=bd(e);if(n>PU)return Ql;let i=!1;const s=setTimeout(()=>{i=!0,t()},n);return()=>(clearTimeout(s),!i)}},Cy=function(){const t=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*t;const e="timeOrigin"in performance&&typeof performance.timeOrigin=="number"?BigInt(Math.round(performance.timeOrigin*1e6)):BigInt(Date.now())*t-BigInt(Math.round(performance.now()*1e6));return()=>e+BigInt(Math.round(performance.now()*1e6))}(),MU=function(){const t=typeof process=="object"&&"hrtime"in process&&typeof process.hrtime.bigint=="function"?process.hrtime:void 0;if(!t)return Cy;const e=Cy()-t.bigint();return()=>e+t.bigint()}();var rK;class RU{constructor(){_(this,rK,vy);_(this,"currentTimeMillis",z(()=>this.unsafeCurrentTimeMillis()));_(this,"currentTimeNanos",z(()=>this.unsafeCurrentTimeNanos()))}unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return MU()}scheduler(){return At(Ny)}sleep(e){return zo(n=>{const i=Ny.unsafeSchedule(()=>n(Fr),e);return Ou(z(i))})}}rK=vy;const EU=()=>new RU,Xs=dC,A1="And",v1="Or",N1="InvalidData",C1="MissingData",k1="SourceUnavailable",T1="Unsupported",AU="effect/ConfigError",ky=Symbol.for(AU),Xo={[ky]:ky},L1=(t,e)=>{const n=Object.create(Xo);return n._tag=A1,n.left=t,n.right=e,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),n},U1=(t,e)=>{const n=Object.create(Xo);return n._tag=v1,n.left=t,n.right=e,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),n},vU=(t,e,n={pathDelim:"."})=>{const i=Object.create(Xo);return i._tag=N1,i.path=t,i.message=e,Object.defineProperty(i,"toString",{enumerable:!1,value(){return`(Invalid data at ${P(this.path,qo(n.pathDelim))}: "${this.message}")`}}),i},Ai=(t,e,n={pathDelim:"."})=>{const i=Object.create(Xo);return i._tag=C1,i.path=t,i.message=e,Object.defineProperty(i,"toString",{enumerable:!1,value(){return`(Missing data at ${P(this.path,qo(n.pathDelim))}: "${this.message}")`}}),i},NU=(t,e,n,i={pathDelim:"."})=>{const s=Object.create(Xo);return s._tag=k1,s.path=t,s.message=e,s.cause=n,Object.defineProperty(s,"toString",{enumerable:!1,value(){return`(Source unavailable at ${P(this.path,qo(i.pathDelim))}: "${this.message}")`}}),s},CU=(t,e,n={pathDelim:"."})=>{const i=Object.create(Xo);return i._tag=T1,i.path=t,i.message=e,Object.defineProperty(i,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${P(this.path,qo(n.pathDelim))}: "${this.message}")`}}),i},Oi=x(2,(t,e)=>{switch(t._tag){case A1:return L1(Oi(t.left,e),Oi(t.right,e));case v1:return U1(Oi(t.left,e),Oi(t.right,e));case N1:return vU([...e,...t.path],t.message);case C1:return Ai([...e,...t.path],t.message);case k1:return NU([...e,...t.path],t.message,t.cause);case T1:return CU([...e,...t.path],t.message)}}),kU={_tag:"Empty"},Ul=x(2,(t,e)=>{let n=Mh(e),i=t;for(;T0(n);){const s=n.head;switch(s._tag){case"Empty":{n=n.tail;break}case"AndThen":{n=Ei(s.first,Ei(s.second,n.tail));break}case"MapName":{i=zr(i,s.f),n=n.tail;break}case"Nested":{i=Yc(i,s.name),n=n.tail;break}case"Unnested":{if(P(lo(i),wC(s.name)))i=wo(i),n=n.tail;else return bo(Ai(i,`Expected ${s.name} to be in path in ConfigProvider#unnested`));break}}}return br(i)}),TU="Constant",LU="Fail",UU="Fallback",DU="Described",BU="Lazy",jU="MapOrFail",qU="Nested",WU="Primitive",KU="Sequence",HU="HashMap",GU="ZipWith";var Ty={};const ea=(t,e)=>[...t,...e],YU="effect/ConfigProvider",Ly=Symbol.for(YU),zU=Bi("effect/ConfigProvider"),JU="effect/ConfigProviderFlat",Uy=Symbol.for(JU),XU=t=>({[Ly]:Ly,pipe(){return X(this,arguments)},...t}),QU=t=>({[Uy]:Uy,patch:t.patch,load:(e,n,i=!0)=>t.load(e,n,i),enumerateChildren:t.enumerateChildren}),ZU=t=>XU({load:e=>G(fn(t,So(),e,!1),n=>Di(lo(n),{onNone:()=>Ie(Ai(So(),`Expected a single value having structure: ${e}`)),onSome:At})),flattened:t}),VU=t=>{const{pathDelim:e,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},t),i=p=>P(p,qo(e)),s=p=>p.split(e),c=()=>typeof process<"u"&&"env"in process&&typeof Ty=="object"?Ty:{};return ZU(QU({load:(p,y,M=!0)=>{const A=i(p),N=c(),C=A in N?bt(N[A]):Z();return P(C,Ch(()=>Ai(p,`Expected ${A} to exist in the process context`)),G(B=>iD(B,p,y,n,M)))},enumerateChildren:p=>z(()=>{const y=c(),M=Object.keys(y),N=Array.from(M).map(C=>s(C.toUpperCase())).filter(C=>{for(let B=0;B<p.length;B++){const mt=P(p,Xb(B)),tt=C[B];if(tt===void 0||mt!==tt)return!1}return!0}).flatMap(C=>C.slice(p.length,p.length+1));return zk(N)}),patch:kU}))},tD=(t,e,n,i)=>{const s=ey(n.length,p=>p>=i.length?Z():bt([t(p),p+1])),c=ey(i.length,p=>p>=n.length?Z():bt([e(p),p+1])),f=ea(n,s),d=ea(i,c);return[f,d]},eD=(t,e)=>{let n=e;if(n._tag==="Nested"){const i=t.slice();for(;n._tag==="Nested";)i.push(n.name),n=n.config;return i}return t},fn=(t,e,n,i)=>{const s=n;switch(s._tag){case TU:return At($n(s.value));case DU:return re(()=>fn(t,e,s.config,i));case LU:return Ie(Ai(e,s.message));case UU:return P(re(()=>fn(t,e,s.first,i)),wy(c=>s.condition(c)?P(fn(t,e,s.second,i),wy(f=>Ie(U1(c,f)))):Ie(c)));case BU:return re(()=>fn(t,e,s.config(),i));case jU:return re(()=>P(fn(t,e,s.original,i),G(Hr(c=>P(s.mapOrFail(c),Ch(Oi(eD(e,s.original))))))));case qU:return re(()=>fn(t,ea(e,$n(s.name)),s.config,i));case WU:return P(Ul(e,t.patch),G(c=>P(t.load(c,s,i),G(f=>{if(f.length===0){const d=P(CC(c),$i(()=>"<n/a>"));return Ie(Ai([],`Expected ${s.description} with name ${d}`))}return At(f)}))));case KU:return P(Ul(e,t.patch),G(c=>P(t.enumerateChildren(c),G(uD),G(f=>f.length===0?re(()=>de(fn(t,c,s.config,!0),$n)):P(Hr(f,d=>fn(t,MC(e,`[${d}]`),s.config,!0)),de(d=>{const p=HC(d);return p.length===0?$n(So()):$n(p)}))))));case HU:return re(()=>P(Ul(e,t.patch),G(c=>P(t.enumerateChildren(c),G(f=>P(f,Hr(d=>fn(t,ea(c,$n(d)),s.valueConfig,i)),de(d=>{if(d.length===0)return $n(Ph());const p=d.map(y=>Array.from(y));return P(oD(p),zr(y=>o2(ty(Yt(f),y))))})))))));case GU:return re(()=>P(fn(t,e,s.left,i),Js,G(c=>P(fn(t,e,s.right,i),Js,G(f=>{if(Es(c)&&Es(f))return Ie(L1(c.left,f.left));if(Es(c)&&xc(f))return Ie(c.left);if(xc(c)&&Es(f))return Ie(f.left);if(xc(c)&&xc(f)){const d=P(e,qo(".")),p=nD(e,d),[y,M]=tD(p,p,P(c.right,zr(br)),P(f.right,zr(br)));return P(y,ty(M),Hr(([A,N])=>P(p1(A,N),de(([C,B])=>s.zip(C,B)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},nD=(t,e)=>n=>bo(Ai(t,`The element at index ${n} in a sequence at path "${e}" was missing`)),rD=(t,e)=>t.split(new RegExp(`\\s*${sD(e)}\\s*`)),iD=(t,e,n,i,s)=>s?P(rD(t,i),Hr(c=>n.parse(c.trim())),Ch(Oi(e))):P(n.parse(t),l1({onFailure:Oi(e),onSuccess:$n})),oD=t=>Object.keys(t[0]).map(e=>t.map(n=>n[e])),sD=t=>t.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&"),uD=t=>P(Hr(t,aD),l1({onFailure:()=>So(),onSuccess:zc(Xs)}),Js,de(OC)),cD=/^(\[(\d+)\])$/,aD=t=>{const e=t.match(cD);if(e!==null){const n=e[2];return P(n!==void 0&&n.length>0?bt(n):Z(),Gb(fD))}return Z()},fD=t=>{const e=Number.parseInt(t);return Number.isNaN(e)?Z():bt(e)},Dy=Symbol.for("effect/Console"),D1=Bi("effect/Console"),lD={[Dy]:Dy,assert(t,...e){return z(()=>{console.assert(t,...e)})},clear:z(()=>{console.clear()}),count(t){return z(()=>{console.count(t)})},countReset(t){return z(()=>{console.countReset(t)})},debug(...t){return z(()=>{console.debug(...t)})},dir(t,e){return z(()=>{console.dir(t,e)})},dirxml(...t){return z(()=>{console.dirxml(...t)})},error(...t){return z(()=>{console.error(...t)})},group(t){return t!=null&&t.collapsed?z(()=>console.groupCollapsed(t==null?void 0:t.label)):z(()=>console.group(t==null?void 0:t.label))},groupEnd:z(()=>{console.groupEnd()}),info(...t){return z(()=>{console.info(...t)})},log(...t){return z(()=>{console.log(...t)})},table(t,e){return z(()=>{console.table(t,e)})},time(t){return z(()=>console.time(t))},timeEnd(t){return z(()=>console.timeEnd(t))},timeLog(t,...e){return z(()=>{console.timeLog(t,...e)})},trace(...t){return z(()=>{console.trace(...t)})},warn(...t){return z(()=>{console.warn(...t)})},unsafe:console},dD="effect/Random",By=Symbol.for(dD),hD=Bi("effect/Random");var iK;class mD{constructor(e){_(this,"seed");_(this,iK,By);_(this,"PRNG");this.seed=e,this.PRNG=new Pb(e)}get next(){return z(()=>this.PRNG.number())}get nextBoolean(){return de(this.next,e=>e>.5)}get nextInt(){return z(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(e,n){return de(this.next,i=>(n-e)*i+e)}nextIntBetween(e,n){return z(()=>this.PRNG.integer(n-e)+e)}shuffle(e){return pD(e,n=>this.nextIntBetween(0,n))}}iK=By;const pD=(t,e)=>re(()=>P(z(()=>Array.from(t)),G(n=>{const i=[];for(let s=n.length;s>=2;s=s-1)i.push(s);return P(i,La(s=>P(e(s),de(c=>gD(n,s-1,c)))),Su(u0(n)))}))),gD=(t,e,n)=>{const i=t[e];return t[e]=t[n],t[n]=i,t},yD=t=>new mD(t),_D=P(gh(),Os(Dh,EU()),Os(D1,lD),Os(hD,yD(Math.random()*4294967296>>>0)),Os(zU,VU()),Os(dd,sL)),Cs=Rt(Symbol.for("effect/DefaultServices/currentServices"),()=>O1(_D));function bD(t){return new Vr(t)}function wD(){return bD(new Map)}const jy=Symbol.for("effect/FiberRefs");var oK;class Vr{constructor(e){_(this,"locals");_(this,oK,jy);this.locals=e}pipe(){return X(this,arguments)}}oK=jy;const SD=(t,e,n,i=!1)=>{const s=t;let c=e,f=n,d=i,p;for(;p===void 0;)if(Xe(c)&&Xe(f)){const y=ze(c)[0],M=wo(c),A=ze(f)[0],N=ze(f)[1],C=wo(f);y.startTimeMillis<A.startTimeMillis?(f=C,d=!0):y.startTimeMillis>A.startTimeMillis?c=M:y.id<A.id?(f=C,d=!0):y.id>A.id?c=M:p=[N,d]}else p=[s.initial,!0];return p},OD=x(3,(t,e,n)=>{const i=new Map(t.locals);return n.locals.forEach((s,c)=>{const f=s[0][1];if(!s[0][0][nt](e)){if(!i.has(c)){if(ct(f,c.initial))return;i.set(c,[[e,c.join(c.initial,f)]]);return}const d=i.get(c),[p,y]=SD(c,d,s);if(y){const M=c.diff(p,f),A=d[0][1],N=c.join(A,c.patch(M)(A));if(!ct(A,N)){let C;const B=d[0][0];B[nt](e)?C=[[B,N],...d.slice(1)]:C=[[e,N],...d],i.set(c,C)}}}}),new Vr(i)}),ID=x(2,(t,e)=>{const n=new Map;return B1(t,n,e),new Vr(n)}),B1=(t,e,n)=>{t.locals.forEach((i,s)=>{const c=i[0][1],f=s.patch(s.fork)(c);ct(c,f)?e.set(s,i):e.set(s,[[n,f],...i])})},j1=x(2,(t,e)=>{const n=new Map(t.locals);return n.delete(e),new Vr(n)}),wd=x(2,(t,e)=>t.locals.has(e)?bt(ze(t.locals.get(e))[1]):Z()),Bh=x(2,(t,e)=>P(wd(t,e),$i(()=>e.initial))),Sd=x(2,(t,{fiberId:e,fiberRef:n,value:i})=>{if(t.locals.size===0)return new Vr(new Map([[n,[[e,i]]]]));const s=new Map(t.locals);return Od(s,e,n,i),new Vr(s)}),Od=(t,e,n,i)=>{const s=t.get(n)??[];let c;if(Xe(s)){const[f,d]=ze(s);if(f[nt](e)){if(ct(d,i))return;c=[[e,i],...s.slice(1)]}else c=[[e,i],...s]}else c=[[e,i]];t.set(n,c)},xD=x(2,(t,{entries:e,forkAs:n})=>{if(t.locals.size===0)return new Vr(new Map(e));const i=new Map(t.locals);return n!==void 0&&B1(t,i,n),e.forEach(([s,c])=>{c.length===1?Od(i,c[0][0],s,c[0][1]):c.forEach(([f,d])=>{Od(i,f,s,d)})}),new Vr(i)}),FD=Bh,$D=xD,PD=wD,MD=IL,RD=xL,ED=FL,AD=$L,vD=_1,ND=b1,CD=PL,kD=ML,TD=P(Xs,hC(t=>t.ordinal)),LD=mC(TD),UD=t=>{switch(t){case"All":return MD;case"Debug":return ND;case"Error":return ED;case"Fatal":return RD;case"Info":return vD;case"Trace":return CD;case"None":return kD;case"Warning":return AD}},DD=t=>e=>`${e.label.replace(/[\s="]/g,"_")}=${t-e.startTime}ms`,BD=DD,q1="Empty",W1="Add",K1="Remove",H1="Update",G1="AndThen",jD={_tag:q1},qD=(t,e)=>{const n=new Map(t.locals);let i=jD;for(const[s,c]of e.locals.entries()){const f=ze(c)[1],d=n.get(s);if(d!==void 0){const p=ze(d)[1];ct(p,f)||(i=Dl({_tag:H1,fiberRef:s,patch:s.diff(p,f)})(i))}else i=Dl({_tag:W1,fiberRef:s,value:f})(i);n.delete(s)}for(const[s]of n.entries())i=Dl({_tag:K1,fiberRef:s})(i);return i},Dl=x(2,(t,e)=>({_tag:G1,first:t,second:e})),WD=x(3,(t,e,n)=>{let i=n,s=$n(t);for(;Xe(s);){const c=ze(s),f=wo(s);switch(c._tag){case q1:{s=f;break}case W1:{i=Sd(i,{fiberId:e,fiberRef:c.fiberRef,value:c.value}),s=f;break}case K1:{i=j1(i,c.fiberRef),s=f;break}case H1:{const d=Bh(i,c.fiberRef);i=Sd(i,{fiberId:e,fiberRef:c.fiberRef,value:c.fiberRef.patch(c.patch)(d)}),s=f;break}case G1:{s=Yc(c.first)(Yc(c.second)(f));break}}}return i}),Y1="effect/MetricLabel",Id=Symbol.for(Y1);var sK;class KD{constructor(e,n){_(this,"key");_(this,"value");_(this,sK,Id);_(this,"_hash");this.key=e,this.value=n,this._hash=fe(Y1+this.key+this.value)}[(sK=Id,rt)](){return this._hash}[nt](e){return GD(e)&&this.key===e.key&&this.value===e.value}pipe(){return X(this,arguments)}}const HD=(t,e)=>new KD(t,e),GD=t=>at(t,Id),YD=t=>{let e,n;return typeof t=="function"?e=t:(e=t.try,n=t.catch),z(()=>{try{return e()}catch(i){throw aL(ta(n?n(i):new P1(i)))}})},qy=vb,zD="Sequential",JD="Parallel",XD="ParallelN",z1={_tag:zD},QD={_tag:JD},ZD=t=>({_tag:XD,parallelism:t}),xd=z1,Fd=QD,$d=ZD,VD=qD,tB=WD,Ka="effect/FiberStatus",vi=Symbol.for(Ka),na="Done",Wy="Running",Ky="Suspended",eB=fe(`${Ka}-${na}`);var uK;class nB{constructor(){_(this,uK,vi);_(this,"_tag",na)}[(uK=vi,rt)](){return eB}[nt](e){return jh(e)&&e._tag===na}}var cK;class rB{constructor(e){_(this,"runtimeFlags");_(this,cK,vi);_(this,"_tag",Wy);this.runtimeFlags=e}[(cK=vi,rt)](){return P(K(Ka),_t(K(this._tag)),_t(K(this.runtimeFlags)),Wt(this))}[nt](e){return jh(e)&&e._tag===Wy&&this.runtimeFlags===e.runtimeFlags}}var aK;class iB{constructor(e,n){_(this,"runtimeFlags");_(this,"blockingOn");_(this,aK,vi);_(this,"_tag",Ky);this.runtimeFlags=e,this.blockingOn=n}[(aK=vi,rt)](){return P(K(Ka),_t(K(this._tag)),_t(K(this.runtimeFlags)),_t(K(this.blockingOn)),Wt(this))}[nt](e){return jh(e)&&e._tag===Ky&&this.runtimeFlags===e.runtimeFlags&&ct(this.blockingOn,e.blockingOn)}}const oB=new nB,sB=t=>new rB(t),uB=(t,e)=>new iB(t,e),jh=t=>at(t,vi),cB=t=>t._tag===na,aB=oB,J1=sB,fB=uB,lB=cB;class X1{constructor(){_(this,"buckets",[])}scheduleTask(e,n){let i,s;for(s=0;s<this.buckets.length&&this.buckets[s][0]<=n;s++)i=this.buckets[s];if(i)i[1].push(e);else{const c=[];for(let f=0;f<s;f++)c.push(this.buckets[f]);c.push([n,[e]]);for(let f=s;f<this.buckets.length;f++)c.push(this.buckets[f]);this.buckets=c}}}class dB{constructor(e){_(this,"maxNextTickBeforeTimer");_(this,"running",!1);_(this,"tasks",new X1);this.maxNextTickBeforeTimer=e}starveInternal(e){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[i,s]of n)for(let c=0;c<s.length;c++)s[c]();this.tasks.buckets.length===0?this.running=!1:this.starve(e)}starve(e=0){e>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(e+1))}shouldYield(e){return e.currentOpCount>e.getFiberRef(I1)?e.getFiberRef(qa):!1}scheduleTask(e,n){this.tasks.scheduleTask(e,n),this.running||(this.running=!0,this.starve())}}const Q1=Rt(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new dB(2048));class hB{constructor(){_(this,"tasks",new X1);_(this,"deferred",!1)}scheduleTask(e,n){this.deferred?Q1.scheduleTask(e,n):this.tasks.scheduleTask(e,n)}shouldYield(e){return e.currentOpCount>e.getFiberRef(I1)?e.getFiberRef(qa):!1}flush(){for(;this.tasks.buckets.length>0;){const e=this.tasks.buckets;this.tasks.buckets=[];for(const[n,i]of e)for(let s=0;s<i.length;s++)i[s]()}this.deferred=!0}}const Pd=Rt(Symbol.for("effect/FiberRef/currentScheduler"),()=>Ve(Q1)),Z1=Rt(Symbol.for("effect/FiberRef/currentRequestMap"),()=>Ve(new Map)),Hy=(t,e,n,i)=>{switch(t){case void 0:return e();case"unbounded":return n();case"inherit":return w1(DL,s=>s==="unbounded"?n():s>1?i(s):e());default:return t>1?i(t):e()}},qh="InterruptSignal",Wh="Stateful",Kh="Resume",Hh="YieldNow",Bl=t=>({_tag:qh,cause:t}),Tc=t=>({_tag:Wh,onFiber:t}),so=t=>({_tag:Kh,effect:t}),mB=()=>({_tag:Hh}),pB="effect/FiberScope",ra=Symbol.for(pB);var fK;class gB{constructor(){_(this,fK,ra);_(this,"fiberId",$h);_(this,"roots",new Set)}add(e,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}fK=ra;var lK;class yB{constructor(e,n){_(this,"fiberId");_(this,"parent");_(this,lK,ra);this.fiberId=e,this.parent=n}add(e,n){this.parent.tell(Tc(i=>{i.addChild(n),n.addObserver(()=>{i.removeChild(n)})}))}}lK=ra;const _B=t=>new yB(t.id(),t),Gh=Rt(Symbol.for("effect/FiberScope/Global"),()=>new gB),bB="effect/Fiber",wB=Symbol.for(bB),SB={_E:t=>t,_A:t=>t},OB="effect/Fiber",IB=Symbol.for(OB),xB=t=>t.await,FB=t=>g1(a1(t.await),t.inheritAll),pi="effect/FiberCurrent",$B="effect/Logger",PB=Symbol.for($B),MB={_Message:t=>t,_Output:t=>t},Yh=t=>({[PB]:MB,log:t,pipe(){return X(this,arguments)}}),RB=Yh(({annotations:t,cause:e,date:n,fiberId:i,logLevel:s,message:c,spans:f})=>{const d=n.getTime();let y=[`timestamp=${n.toISOString()}`,`level=${s.label}`,`fiber=${P0(i)}`].join(" ");const M=Md(c);if(M.length>0&&(y=y+" message=",y=jl(M,y)),e!=null&&e._tag!=="Empty"&&(y=y+" cause=",y=jl(Ca(e),y)),T0(f)){y=y+" ";let A=!0;for(const N of f)A?A=!1:y=y+" ",y=y+P(N,BD(d))}if(P(t,u2)>0){y=y+" ";let A=!0;for(const[N,C]of t)A?A=!1:y=y+" ",y=y+vB(N),y=y+"=",y=jl(Md(C),y)}return y}),Md=t=>{try{return typeof t=="object"?JSON.stringify(t):String(t)}catch{return String(t)}},EB=t=>`"${t.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`,AB=/^[^\s"=]+$/,jl=(t,e)=>e+(t.match(AB)?t:EB(t)),vB=t=>t.replace(/[\s="]/g,"_"),V1="effect/MetricBoundaries",Rd=Symbol.for(V1);var dK;class NB{constructor(e){_(this,"values");_(this,dK,Rd);_(this,"_hash");this.values=e,this._hash=P(fe(V1),_t(du(this.values)))}[(dK=Rd,rt)](){return this._hash}[nt](e){return CB(e)&&ct(this.values,e.values)}pipe(){return X(this,arguments)}}const CB=t=>at(t,Rd),kB=t=>{const e=P(t,zb(Ir(Number.POSITIVE_INFINITY)),GC);return new NB(e)},TB=t=>P(PC(t.count-1,e=>t.start*Math.pow(t.factor,e)),c0,kB),LB="effect/MetricKeyType",tw=Symbol.for(LB),ew="effect/MetricKeyType/Counter",Ed=Symbol.for(ew),UB="effect/MetricKeyType/Frequency",DB=Symbol.for(UB),BB="effect/MetricKeyType/Gauge",jB=Symbol.for(BB),nw="effect/MetricKeyType/Histogram",Ad=Symbol.for(nw),qB="effect/MetricKeyType/Summary",WB=Symbol.for(qB),rw={_In:t=>t,_Out:t=>t};var hK,mK;class KB{constructor(e,n){_(this,"incremental");_(this,"bigint");_(this,hK,rw);_(this,mK,Ed);_(this,"_hash");this.incremental=e,this.bigint=n,this._hash=fe(ew)}[(hK=tw,mK=Ed,rt)](){return this._hash}[nt](e){return iw(e)}pipe(){return X(this,arguments)}}var pK,gK;class HB{constructor(e){_(this,"boundaries");_(this,pK,rw);_(this,gK,Ad);_(this,"_hash");this.boundaries=e,this._hash=P(fe(nw),_t(K(this.boundaries)))}[(pK=tw,gK=Ad,rt)](){return this._hash}[nt](e){return ow(e)&&ct(this.boundaries,e.boundaries)}pipe(){return X(this,arguments)}}const GB=t=>new KB((t==null?void 0:t.incremental)??!1,(t==null?void 0:t.bigint)??!1),YB=t=>new HB(t),iw=t=>at(t,Ed),zB=t=>at(t,DB),JB=t=>at(t,jB),ow=t=>at(t,Ad),XB=t=>at(t,WB),QB="effect/MetricKey",sw=Symbol.for(QB),ZB={_Type:t=>t},VB=ph(ct);var yK;class zh{constructor(e,n,i,s=[]){_(this,"name");_(this,"keyType");_(this,"description");_(this,"tags");_(this,yK,ZB);_(this,"_hash");this.name=e,this.keyType=n,this.description=i,this.tags=s,this._hash=P(fe(this.name+this.description),_t(K(this.keyType)),_t(du(this.tags)))}[(yK=sw,rt)](){return this._hash}[nt](e){return t3(e)&&this.name===e.name&&ct(this.keyType,e.keyType)&&ct(this.description,e.description)&&VB(this.tags,e.tags)}pipe(){return X(this,arguments)}}const t3=t=>at(t,sw),e3=(t,e)=>new zh(t,GB(e),mh(e==null?void 0:e.description)),n3=(t,e,n)=>new zh(t,YB(e),mh(n)),r3=x(2,(t,e)=>e.length===0?t:new zh(t.name,t.keyType,t.description,Vl(t.tags,e))),i3="effect/MetricState",xu=Symbol.for(i3),uw="effect/MetricState/Counter",vd=Symbol.for(uw),cw="effect/MetricState/Frequency",Nd=Symbol.for(cw),aw="effect/MetricState/Gauge",Cd=Symbol.for(aw),fw="effect/MetricState/Histogram",kd=Symbol.for(fw),lw="effect/MetricState/Summary",Td=Symbol.for(lw),Fu={_A:t=>t};var _K,bK;class o3{constructor(e){_(this,"count");_(this,_K,Fu);_(this,bK,vd);this.count=e}[(_K=xu,bK=vd,rt)](){return P(K(uw),_t(K(this.count)),Wt(this))}[nt](e){return g3(e)&&this.count===e.count}pipe(){return X(this,arguments)}}const s3=ph(ct);var wK,SK;class u3{constructor(e){_(this,"occurrences");_(this,wK,Fu);_(this,SK,Nd);_(this,"_hash");this.occurrences=e}[(wK=xu,SK=Nd,rt)](){return P(fe(cw),_t(du(Yt(this.occurrences.entries()))),Wt(this))}[nt](e){return y3(e)&&s3(Yt(this.occurrences.entries()),Yt(e.occurrences.entries()))}pipe(){return X(this,arguments)}}var OK,IK;class c3{constructor(e){_(this,"value");_(this,OK,Fu);_(this,IK,Cd);this.value=e}[(OK=xu,IK=Cd,rt)](){return P(K(aw),_t(K(this.value)),Wt(this))}[nt](e){return _3(e)&&this.value===e.value}pipe(){return X(this,arguments)}}var xK,FK;class a3{constructor(e,n,i,s,c){_(this,"buckets");_(this,"count");_(this,"min");_(this,"max");_(this,"sum");_(this,xK,Fu);_(this,FK,kd);this.buckets=e,this.count=n,this.min=i,this.max=s,this.sum=c}[(xK=xu,FK=kd,rt)](){return P(K(fw),_t(K(this.buckets)),_t(K(this.count)),_t(K(this.min)),_t(K(this.max)),_t(K(this.sum)),Wt(this))}[nt](e){return b3(e)&&ct(this.buckets,e.buckets)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return X(this,arguments)}}var $K,PK;class f3{constructor(e,n,i,s,c,f){_(this,"error");_(this,"quantiles");_(this,"count");_(this,"min");_(this,"max");_(this,"sum");_(this,$K,Fu);_(this,PK,Td);this.error=e,this.quantiles=n,this.count=i,this.min=s,this.max=c,this.sum=f}[($K=xu,PK=Td,rt)](){return P(K(lw),_t(K(this.error)),_t(K(this.quantiles)),_t(K(this.count)),_t(K(this.min)),_t(K(this.max)),_t(K(this.sum)),Wt(this))}[nt](e){return w3(e)&&this.error===e.error&&ct(this.quantiles,e.quantiles)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return X(this,arguments)}}const l3=t=>new o3(t),d3=t=>new u3(t),h3=t=>new c3(t),m3=t=>new a3(t.buckets,t.count,t.min,t.max,t.sum),p3=t=>new f3(t.error,t.quantiles,t.count,t.min,t.max,t.sum),g3=t=>at(t,vd),y3=t=>at(t,Nd),_3=t=>at(t,Cd),b3=t=>at(t,kd),w3=t=>at(t,Td),S3="effect/MetricHook",O3=Symbol.for(S3),I3={_In:t=>t,_Out:t=>t},$u=t=>({[O3]:I3,pipe(){return X(this,arguments)},...t}),Gy=BigInt(0),x3=t=>{let e=t.keyType.bigint?Gy:0;const n=t.keyType.incremental?t.keyType.bigint?i=>i>=Gy:i=>i>=0:i=>!0;return $u({get:()=>l3(e),update:i=>{n(i)&&(e=e+i)}})},F3=t=>{const e=new Map;return $u({get:()=>d3(e),update:i=>{const s=e.get(i)??0;e.set(i,s+1)}})},$3=(t,e)=>{let n=e;return $u({get:()=>h3(n),update:i=>{n=i}})},P3=t=>{const e=t.keyType.boundaries.values,n=e.length,i=new Uint32Array(n+1),s=new Float32Array(n);let c=0,f=0,d=Number.MAX_VALUE,p=Number.MIN_VALUE;P(e,zc(Xs),zr((A,N)=>{s[N]=A}));const y=A=>{let N=0,C=n;for(;N!==C;){const B=Math.floor(N+(C-N)/2),mt=s[B];A<=mt?C=B:N=B,C===N+1&&(A<=s[N]?C=N:N=C)}i[N]=i[N]+1,c=c+1,f=f+A,A<d&&(d=A),A>p&&(p=A)},M=()=>{const A=Array(n);let N=0;for(let C=0;C<n;C++){const B=s[C],mt=i[C];N=N+mt,A[C]=[B,N]}return A};return $u({get:()=>m3({buckets:M(),count:c,min:d,max:p,sum:f}),update:y})},M3=t=>{const{error:e,maxAge:n,maxSize:i,quantiles:s}=t.keyType,c=P(s,zc(Xs)),f=Array(i);let d=0,p=0,y=0,M=Number.MAX_VALUE,A=Number.MIN_VALUE;const N=B=>{const mt=[];let tt=0;for(;tt!==i-1;){const Ft=f[tt];if(Ft!=null){const[pt,ft]=Ft,Xt=_d(B-pt);_U(Xt,cU)&&Xt<=n&&mt.push(ft)}tt=tt+1}return R3(e,c,zc(mt,Xs))},C=(B,mt)=>{if(i>0){d=d+1;const tt=d%i;f[tt]=[mt,B]}p=p+1,y=y+B,B<M&&(M=B),B>A&&(A=B)};return $u({get:()=>p3({error:e,quantiles:N(Date.now()),count:p,min:M,max:A,sum:y}),update:([B,mt])=>C(B,mt)})},R3=(t,e,n)=>{const i=n.length;if(!Xe(e))return So();const s=e[0],c=e.slice(1),f=Yy(t,i,Z(),0,s,n),d=$n(f);return c.forEach(p=>{d.push(Yy(t,i,f.value,f.consumed,p,f.rest))}),zr(d,p=>[p.quantile,p.value])},Yy=(t,e,n,i,s,c)=>{let f=t,d=e,p=n,y=i,M=s,A=c,N=t,C=e,B=n,mt=i,tt=s,Ft=c;for(;;){if(!Xe(A))return{quantile:M,value:Z(),consumed:y,rest:[]};if(M===1)return{quantile:M,value:bt(Qb(A)),consumed:y+A.length,rest:[]};const pt=TC(A,_e=>_e<=A[0]),ft=M*d,Xt=f/2*ft,Ht=y+pt[0].length,_n=Math.abs(Ht-ft);if(Ht<ft-Xt){N=f,C=d,B=lo(A),mt=Ht,tt=M,Ft=pt[1],f=N,d=C,p=B,y=mt,M=tt,A=Ft;continue}if(Ht>ft+Xt)return{quantile:M,value:p,consumed:y,rest:A};switch(p._tag){case"None":{N=f,C=d,B=lo(A),mt=Ht,tt=M,Ft=pt[1],f=N,d=C,p=B,y=mt,M=tt,A=Ft;continue}case"Some":{const _e=Math.abs(ft-p.value);if(_n<_e){N=f,C=d,B=lo(A),mt=Ht,tt=M,Ft=pt[1],f=N,d=C,p=B,y=mt,M=tt,A=Ft;continue}return{quantile:M,value:bt(p.value),consumed:y,rest:A}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},E3="effect/MetricPair",A3=Symbol.for(E3),v3={_Type:t=>t},N3=(t,e)=>({[A3]:v3,metricKey:t,metricState:e,pipe(){return X(this,arguments)}}),C3="effect/MetricRegistry",zy=Symbol.for(C3);var MK;class k3{constructor(){_(this,MK,zy);_(this,"map",IU())}snapshot(){const e=[];for(const[n,i]of this.map)e.push(N3(n,i.get()));return e}get(e){const n=P(this.map,yi(e),gi);if(n==null){if(iw(e.keyType))return this.getCounter(e);if(JB(e.keyType))return this.getGauge(e);if(zB(e.keyType))return this.getFrequency(e);if(ow(e.keyType))return this.getHistogram(e);if(XB(e.keyType))return this.getSummary(e);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}else return n}getCounter(e){let n=P(this.map,yi(e),gi);if(n==null){const i=x3(e);P(this.map,Is(e))||P(this.map,xs(e,i)),n=i}return n}getFrequency(e){let n=P(this.map,yi(e),gi);if(n==null){const i=F3();P(this.map,Is(e))||P(this.map,xs(e,i)),n=i}return n}getGauge(e){let n=P(this.map,yi(e),gi);if(n==null){const i=$3(e,e.keyType.bigint?BigInt(0):0);P(this.map,Is(e))||P(this.map,xs(e,i)),n=i}return n}getHistogram(e){let n=P(this.map,yi(e),gi);if(n==null){const i=P3(e);P(this.map,Is(e))||P(this.map,xs(e,i)),n=i}return n}getSummary(e){let n=P(this.map,yi(e),gi);if(n==null){const i=M3(e);P(this.map,Is(e))||P(this.map,xs(e,i)),n=i}return n}}MK=zy;const T3=()=>new k3,L3="effect/Metric",U3=Symbol.for(L3),D3={_Type:t=>t,_In:t=>t,_Out:t=>t},Jy=Rt(Symbol.for("effect/Metric/globalMetricRegistry"),()=>T3()),dw=function(t,e,n){return Object.assign(s=>kh(s,c=>z(()=>e(c,[]))),{[U3]:D3,keyType:t,unsafeUpdate:e,unsafeValue:n,register(){return this.unsafeValue([]),this},pipe(){return X(this,arguments)}})},Ha=(t,e)=>hw(e3(t,e)),hw=t=>{let e;const n=new WeakMap,i=s=>{if(s.length===0)return e!==void 0||(e=Jy.get(t)),e;let c=n.get(s);return c!==void 0||(c=Jy.get(r3(t,s)),n.set(s,c)),c};return dw(t.keyType,(s,c)=>i(c).update(s),s=>i(s).get())},B3=(t,e,n)=>hw(n3(t,e,n)),j3=x(3,(t,e,n)=>q3(t,[HD(e,n)])),q3=x(2,(t,e)=>dw(t.keyType,(n,i)=>t.unsafeUpdate(n,Vl(e,i)),n=>t.unsafeValue(Vl(e,n)))),W3="effect/Request",K3=Symbol.for(W3),H3={_E:t=>t,_A:t=>t};({...hh,[K3]:0});const G3=x(2,(t,e)=>w1(Z1,n=>z(()=>{if(n.has(t)){const i=n.get(t);i.state.completed||(i.state.completed=!0,M1(i.result,e))}}))),Y3="effect/Supervisor",Ga=Symbol.for(Y3),Jh={_T:t=>t};var RK;const om=class om{constructor(e,n){_(this,"underlying");_(this,"value0");_(this,RK,Jh);this.underlying=e,this.value0=n}get value(){return this.value0}onStart(e,n,i,s){this.underlying.onStart(e,n,i,s)}onEnd(e,n){this.underlying.onEnd(e,n)}onEffect(e,n){this.underlying.onEffect(e,n)}onSuspend(e){this.underlying.onSuspend(e)}onResume(e){this.underlying.onResume(e)}map(e){return new om(this,P(this.value,de(e)))}zip(e){return new oa(this,e)}};RK=Ga;let ia=om;var EK;const sm=class sm{constructor(e,n){_(this,"left");_(this,"right");_(this,"_tag","Zip");_(this,EK,Jh);this.left=e,this.right=n}get value(){return p1(this.left.value,this.right.value)}onStart(e,n,i,s){this.left.onStart(e,n,i,s),this.right.onStart(e,n,i,s)}onEnd(e,n){this.left.onEnd(e,n),this.right.onEnd(e,n)}onEffect(e,n){this.left.onEffect(e,n),this.right.onEffect(e,n)}onSuspend(e){this.left.onSuspend(e),this.right.onSuspend(e)}onResume(e){this.left.onResume(e),this.right.onResume(e)}map(e){return new ia(this,P(this.value,de(e)))}zip(e){return new sm(this,e)}};EK=Ga;let oa=sm;const mw=t=>at(t,Ga)&&Fb(t,"Zip");var AK;class z3{constructor(e){_(this,"effect");_(this,AK,Jh);this.effect=e}get value(){return this.effect}onStart(e,n,i,s){}onEnd(e,n){}onEffect(e,n){}onSuspend(e){}onResume(e){}map(e){return new ia(this,P(this.value,de(e)))}zip(e){return new oa(this,e)}onRun(e,n){return e()}}AK=Ga;const J3=t=>new z3(t),Ya=Rt("effect/Supervisor/none",()=>J3(Fr)),X3=Ko,pw="Empty",gw="AddSupervisor",yw="RemoveSupervisor",_w="AndThen",ks={_tag:pw},Lc=(t,e)=>({_tag:_w,first:t,second:e}),Q3=(t,e)=>Z3(e,Ir(t)),Z3=(t,e)=>{let n=t,i=e;for(;xo(i);){const s=Fo(i);switch(s._tag){case pw:{i=bi(i);break}case gw:{n=n.zip(s.supervisor),i=bi(i);break}case yw:{n=Ld(n,s.supervisor),i=bi(i);break}case _w:{i=Tn(s.first)(Tn(s.second)(bi(i)));break}}}return n},Ld=(t,e)=>ct(t,e)?Ya:mw(t)?Ld(t.left,e).zip(Ld(t.right,e)):t,sa=t=>ct(t,Ya)?Ri():mw(t)?P(sa(t.left),Ks(sa(t.right))):xh(t),V3=(t,e)=>{if(ct(t,e))return ks;const n=sa(t),i=sa(e),s=P(i,ry(n),Qc(ks,(f,d)=>Lc(f,{_tag:gw,supervisor:d}))),c=P(n,ry(i),Qc(ks,(f,d)=>Lc(f,{_tag:yw,supervisor:d})));return Lc(s,c)},tj=X3({empty:ks,patch:Q3,combine:Lc,diff:V3}),ej=Ha("effect_fiber_started"),Xy=Ha("effect_fiber_active"),nj=Ha("effect_fiber_successes"),rj=Ha("effect_fiber_failures"),ij=j3(B3("effect_fiber_lifetimes",TB({start:.5,factor:2,count:35})),"time_unit","milliseconds"),Fs="Continue",oj="Done",Qy="Yield",sj={_E:t=>t,_A:t=>t},$s=t=>{throw new Error(`BUG: FiberRuntime - ${JSON.stringify(t)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},Br=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),gr=Rt("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),Pc={[Kc]:(t,e,n)=>e.i1(n),OnStep:(t,e,n)=>Re(Re(n)),[Hc]:(t,e,n)=>e.i2(n),[dh]:(t,e,n)=>(t.patchRuntimeFlags(t._runtimeFlags,e.patch),qr(t._runtimeFlags)&&t.isInterrupted()?kt(t.getInterruptedCause()):Re(n)),[Gc]:(t,e,n)=>(e.i2(n),e.i0()?(t.pushStack(e),e.i1()):Fr)},uj={[qh]:(t,e,n,i)=>(t.processNewInterruptSignal(i.cause),qr(e)?kt(i.cause):n),[Kh]:(t,e,n,i)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[Wh]:(t,e,n,i)=>(i.onFiber(t,J1(e)),n),[Hh]:(t,e,n,i)=>G(Lh(),()=>n)},cj=t=>La(xT(t),e=>xi(LT(e),([n,i])=>{const s=new Map;for(const c of i)for(const f of c)s.set(f.request,f);return ja(Ij(n.runAll(i),i.flat()),Z1,s)},!1,!1));var vK,NK;class bw{constructor(e,n,i){_(this,vK,SB);_(this,NK,sj);_(this,"_fiberRefs");_(this,"_fiberId");_(this,"_runtimeFlags");_(this,"_queue",new Array);_(this,"_children",null);_(this,"_observers",new Array);_(this,"_running",!1);_(this,"_stack",[]);_(this,"_asyncInterruptor",null);_(this,"_asyncBlockingOn",null);_(this,"_exitValue",null);_(this,"_steps",[]);_(this,"_supervisor");_(this,"_scheduler");_(this,"_tracer");_(this,"currentOpCount",0);_(this,"isYielding",!1);_(this,"run",()=>{this.drainQueueOnCurrentThread()});if(this._runtimeFlags=i,this._fiberId=e,this._fiberRefs=n,this._supervisor=this.getFiberRef(r_),this._scheduler=this.getFiberRef(Pd),ay(i)){const s=this.getFiberRef(Iy);ej.unsafeUpdate(1,s),Xy.unsafeUpdate(1,s)}this._tracer=As(this.getFiberRef(Cs),dd)}pipe(){return X(this,arguments)}id(){return this._fiberId}resume(e){this.tell(so(e))}get status(){return this.ask((e,n)=>n)}get runtimeFlags(){return this.ask((e,n)=>lB(n)?e._runtimeFlags:n.runtimeFlags)}scope(){return _B(this)}get children(){return this.ask(e=>Array.from(e.getChildren()))}getChildren(){return this._children===null&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef($c)}fiberRefs(){return this.ask(e=>e.getFiberRefs())}ask(e){return re(()=>{const n=QL(this._fiberId);return this.tell(Tc((i,s)=>{M1(n,z(()=>e(i,s)))})),ZL(n)})}tell(e){this._queue.push(e),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return zo(e=>{const n=i=>e(At(i));return this.tell(Tc((i,s)=>{i._exitValue!==null?n(this._exitValue):i.addObserver(n)})),z(()=>this.tell(Tc((i,s)=>{i.removeObserver(n)})))},this.id())}get inheritAll(){return Zn((e,n)=>{const i=e.id(),s=e.getFiberRefs(),c=n.runtimeFlags,f=this.getFiberRefs(),d=OD(s,i,f);e.setFiberRefs(d);const p=e.getFiberRef(n_),y=P(Cc(c,p),ly(Ho),ly(fd));return SL(y)})}get poll(){return z(()=>mh(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(e){return z(()=>this.tell(Bl(wi(e))))}unsafeInterruptAsFork(e){this.tell(Bl(wi(e)))}addObserver(e){this._exitValue!==null?e(this._exitValue):this._observers.push(e)}removeObserver(e){this._observers=this._observers.filter(n=>n!==e)}getFiberRefs(){return this.setFiberRef(n_,this._runtimeFlags),this._fiberRefs}unsafeDeleteFiberRef(e){this._fiberRefs=j1(this._fiberRefs,e)}getFiberRef(e){return this._fiberRefs.locals.has(e)?this._fiberRefs.locals.get(e)[0][1]:e.initial}setFiberRef(e,n){this._fiberRefs=Sd(this._fiberRefs,{fiberId:this._fiberId,fiberRef:e,value:n}),this.refreshRefCache()}refreshRefCache(){this._tracer=As(this.getFiberRef(Cs),dd),this._supervisor=this.getFiberRef(r_),this._scheduler=this.getFiberRef(Pd)}setFiberRefs(e){this._fiberRefs=e,this.refreshRefCache()}addChild(e){this.getChildren().add(e)}removeChild(e){this.getChildren().delete(e)}drainQueueOnCurrentThread(){let e=!0;for(;e;){let n=Fs;const i=globalThis[pi];globalThis[pi]=this;try{for(;n===Fs;)n=this._queue.length===0?oj:this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[pi]=i}this._queue.length>0&&!this._running?(this._running=!0,n===Qy?(this.drainQueueLaterOnExecutor(),e=!1):e=!0):e=!1}}drainQueueLaterOnExecutor(){this._scheduler.scheduleTask(this.run,this.getFiberRef(qa))}drainQueueWhileRunning(e,n){let i=n;for(;this._queue.length>0;){const s=this._queue.splice(0,1)[0];i=uj[s._tag](this,e,i,s)}return i}isInterrupted(){return!BT(this.getFiberRef($c))}addInterruptedCause(e){const n=this.getFiberRef($c);this.setFiberRef($c,En(n,e))}processNewInterruptSignal(e){this.addInterruptedCause(e),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(this._children===null||this._children.size===0)return!1;let e=!1;for(const n of this._children)n.tell(Bl(wi(this.id()))),e=!0;return e}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const e=this._children.values();this._children=null;let n=!1;return Th({while:()=>!n,body:()=>{const s=e.next();return s.done?z(()=>{n=!0}):Ou(s.value.await)},step:()=>{}})}return null}reportExitValue(e){if(ay(this._runtimeFlags)){const n=this.getFiberRef(Iy),i=this.id().startTimeMillis,s=Date.now();switch(ij.unsafeUpdate(s-i,n),Xy.unsafeUpdate(-1,n),e._tag){case vn:{nj.unsafeUpdate(1,n);break}case An:{rj.unsafeUpdate(1,n);break}}}if(e._tag==="Failure"){const n=this.getFiberRef(jL);!Eh(e.cause)&&n._tag==="Some"&&this.log("Fiber terminated with a non handled error",e.cause,n)}}setExitValue(e){this._exitValue=e,this.reportExitValue(e);for(let n=this._observers.length-1;n>=0;n--)this._observers[n](e)}getLoggers(){return this.getFiberRef(hj)}log(e,n,i){const s=Qn(i)?i.value:this.getFiberRef(TL),c=this.getFiberRef(aj);if(LD(c,s))return;const f=this.getFiberRef(LL),d=this.getFiberRef(kL),p=this.getLoggers(),y=this.getFiberRefs();if(I0(p)>0){const M=As(this.getFiberRef(Cs),Dh),A=new Date(M.unsafeCurrentTimeMillis());for(const N of p)N.log({fiberId:this.id(),logLevel:s,message:e,cause:n,context:y,spans:f,annotations:d,date:A})}}evaluateMessageWhileSuspended(e){switch(e._tag){case Hh:return Qy;case qh:return this.processNewInterruptSignal(e.cause),this._asyncInterruptor!==null&&(this._asyncInterruptor(kt(e.cause)),this._asyncInterruptor=null),Fs;case Kh:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(e.effect),Fs;case Wh:return e.onFiber(this,this._exitValue!==null?aB:fB(this._runtimeFlags,this._asyncBlockingOn)),Fs;default:return $s(e)}}evaluateEffect(e){this._supervisor.onResume(this);try{let n=qr(this._runtimeFlags)&&this.isInterrupted()?kt(this.getInterruptedCause()):e;for(;n!==null;){const i=n,s=this.runLoop(i);if(s===Br){const c=gr.currentOp;gr.currentOp=null,c._op===Ac?bT(this._runtimeFlags)?(this.tell(mB()),this.tell(so(Si)),n=null):n=Si:c._op===Ec&&(n=null)}else{this._runtimeFlags=P(this._runtimeFlags,wT(fd));const c=this.interruptAllChildren();c!==null?n=G(c,()=>s):(this._queue.length===0?this.setExitValue(s):this.tell(so(s)),n=null)}}}finally{this._supervisor.onSuspend(this)}}start(e){if(this._running)this.tell(so(e));else{this._running=!0;const n=globalThis[pi];globalThis[pi]=this;try{this.evaluateEffect(e)}finally{this._running=!1,globalThis[pi]=n,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(e){this.tell(so(e))}patchRuntimeFlags(e,n){const i=kc(e,n);return globalThis[pi]=this,this._runtimeFlags=i,i}initiateAsync(e,n){let i=!1;const s=c=>{i||(i=!0,this.tell(so(c)))};qr(e)&&(this._asyncInterruptor=s);try{n(s)}catch(c){s(xr(Kr(c)))}}pushStack(e){this._stack.push(e),e._op==="OnStep"&&this._steps.push({refs:this.getFiberRefs(),flags:this._runtimeFlags})}popStack(){const e=this._stack.pop();if(e)return e._op==="OnStep"&&this._steps.pop(),e}getNextSuccessCont(){let e=this.popStack();for(;e;){if(e._op!==Al)return e;e=this.popStack()}}getNextFailCont(){let e=this.popStack();for(;e;){if(e._op!==Kc&&e._op!==Gc)return e;e=this.popStack()}}[(vK=wB,NK=IB,QN)](e){return de(Ba(ji),n=>ck(n,e))}Left(e){return Ie(e.left)}None(e){return Ie(new $1)}Right(e){return Re(e.right)}Some(e){return Re(e.value)}[Eb](e){const n=e.i0(),i=this.getNextSuccessCont();return i!==void 0?(i._op in Pc||$s(i),Pc[i._op](this,i,n)):(gr.currentOp=Re(n),Br)}[vn](e){const n=e,i=this.getNextSuccessCont();return i!==void 0?(i._op in Pc||$s(i),Pc[i._op](this,i,n.i0)):(gr.currentOp=n,Br)}[An](e){const n=e.i0,i=this.getNextFailCont();if(i!==void 0)switch(i._op){case Al:case Hc:return qr(this._runtimeFlags)&&this.isInterrupted()?kt(dy(n)):i.i1(n);case"OnStep":return qr(this._runtimeFlags)&&this.isInterrupted()?kt(dy(n)):Re(kt(n));case dh:return this.patchRuntimeFlags(this._runtimeFlags,i.patch),qr(this._runtimeFlags)&&this.isInterrupted()?kt(En(n,this.getInterruptedCause())):kt(n);default:$s(i)}else return gr.currentOp=kt(n),Br}[Ab](e){return e.i0(this,J1(this._runtimeFlags))}Blocked(e){const n=this.getFiberRefs(),i=this._runtimeFlags;if(this._steps.length>0){const s=[],c=this._steps[this._steps.length-1];let f=this.popStack();for(;f&&f._op!=="OnStep";)s.push(f),f=this.popStack();this.setFiberRefs(c.refs),this._runtimeFlags=c.flags;const d=VD(c.refs,n),p=Cc(c.flags,i);return Re(r1(e.i0,Zn(y=>{for(;s.length>0;)y.pushStack(s.pop());return y.setFiberRefs(tB(y.id(),y.getFiberRefs())(d)),y._runtimeFlags=kc(p)(y._runtimeFlags),e.i1})))}return Ua(s=>G(ww(fL(e.i0)),()=>s(e.i1)))}RunBlocked(e){return cj(e.i0)}[hu](e){const n=e.i0,i=this._runtimeFlags,s=kc(i,n);if(qr(s)&&this.isInterrupted())return kt(this.getInterruptedCause());if(this.patchRuntimeFlags(this._runtimeFlags,n),e.i1){const c=Cc(s,i);return this.pushStack(new lL(c,e)),e.i1(i)}else return Si}[Kc](e){return this.pushStack(e),e.i0}OnStep(e){return this.pushStack(e),e.i0}[Al](e){return this.pushStack(e),e.i0}[Hc](e){return this.pushStack(e),e.i0}[Ec](e){return this._asyncBlockingOn=e.i1,this.initiateAsync(this._runtimeFlags,e.i0),gr.currentOp=e,Br}[Ac](e){return this.isYielding=!1,gr.currentOp=e,Br}[Gc](e){const n=e.i0,i=e.i1;return n()?(this.pushStack(e),i()):Si}[Rb](e){return e.commit()}runLoop(e){let n=e;for(this.currentOpCount=0;;){if(this._runtimeFlags&_T&&this._supervisor.onEffect(this,n),this._queue.length>0&&(n=this.drainQueueWhileRunning(this._runtimeFlags,n)),!this.isYielding){this.currentOpCount+=1;const i=this._scheduler.shouldYield(this);if(i!==!1){this.isYielding=!0,this.currentOpCount=0;const s=n;n=G(Lh({priority:i}),()=>s)}}try{if((!("_op"in n)||!(n._op in this))&&$s(n),n=this._tracer.context(()=>qc()!==n[qy]._V?pL(`Cannot execute an Effect versioned ${n[qy]._V} with a Runtime of version ${qc()}`):this[n._op](n),this),n===Br){const i=gr.currentOp;return i._op===Ac||i._op===Ec?Br:(gr.currentOp=null,i._op===vn||i._op===An?i:kt(Kr(i)))}}catch(i){cL(i)?n=kt(i.cause):GL(i)?n=kt(En(Kr(i),wi($h))):n=kt(Kr(i))}}}}const aj=Rt("effect/FiberRef/currentMinimumLogLevel",()=>Ve(UD("Info"))),fj=t=>{const e=FD(t,Cs);return As(e,D1).unsafe},lj=Rt(Symbol.for("effect/Logger/defaultLogger"),()=>Yh(t=>{const e=RB.log(t);fj(t.context).log(e)})),dj=Rt(Symbol.for("effect/Logger/tracerLogger"),()=>Yh(({annotations:t,cause:e,context:n,fiberId:i,logLevel:s,message:c})=>{const f=Gb(wd(n,ji),mu(n1)),d=yC(wd(n,Cs),y=>As(y,Dh));if(f._tag==="None"||f.value._tag==="ExternalSpan"||d._tag==="None")return;const p=Object.fromEntries(v0(t,y=>Md(y)));p["effect.fiberId"]=r2(i),p["effect.logLevel"]=s.label,e!==null&&e._tag!=="Empty"&&(p["effect.cause"]=Ca(e)),f.value.event(String(c),d.value.unsafeCurrentTimeNanos(),p)})),hj=Rt(Symbol.for("effect/FiberRef/currentLoggers"),()=>vL(xh(lj,dj))),mj=t=>{if(Array.isArray(t)||$b(t))return[t,Z()];const e=Object.keys(t),n=e.length;return[e.map(i=>t[i]),bt(i=>{const s={};for(let c=0;c<n;c++)s[e[c]]=i[c];return s})]},pj=(t,e,n)=>{const i=[];for(const s of t)i.push(Js(s));return G(Qs(i,ie,{concurrency:n==null?void 0:n.concurrency,batching:n==null?void 0:n.batching}),s=>{const c=Z(),f=s.length,d=new Array(f),p=new Array(f);let y=!1;for(let M=0;M<f;M++){const A=s[M];A._tag==="Left"?(d[M]=bt(A.left),y=!0):(p[M]=A.right,d[M]=c)}return y?e._tag==="Some"?Ie(e.value(d)):Ie(d):n!=null&&n.discard?Fr:e._tag==="Some"?At(e.value(p)):At(p)})},gj=(t,e,n)=>{const i=[];for(const s of t)i.push(Js(s));return n!=null&&n.discard?Qs(i,ie,{concurrency:n==null?void 0:n.concurrency,batching:n==null?void 0:n.batching,discard:!0}):de(Qs(i,ie,{concurrency:n==null?void 0:n.concurrency,batching:n==null?void 0:n.batching}),s=>e._tag==="Some"?e.value(s):s)},yj=(t,e)=>{const[n,i]=mj(t);return(e==null?void 0:e.mode)==="validate"?pj(n,i,e):(e==null?void 0:e.mode)==="either"?gj(n,i,e):i._tag==="Some"?de(Qs(n,ie,e),i.value):Qs(n,ie,e)},Qs=x(t=>$b(t[0]),(t,e,n)=>Zn(i=>{const s=(n==null?void 0:n.batching)===!0||(n==null?void 0:n.batching)==="inherit"&&i.getFiberRef(BL);return n!=null&&n.discard?Hy(n.concurrency,()=>uo(xd)(c=>s?xi(t,(f,d)=>c(e(f,d)),!0,!1,1):La(t,(f,d)=>c(e(f,d)))),()=>uo(Fd)(c=>xi(t,(f,d)=>c(e(f,d)),s,!1)),c=>uo($d(c))(f=>xi(t,(d,p)=>f(e(d,p)),s,!1,c))):Hy(n==null?void 0:n.concurrency,()=>uo(xd)(c=>s?Zy(t,1,(f,d)=>c(e(f,d)),!0):Hr(t,(f,d)=>c(e(f,d)))),()=>uo(Fd)(c=>_j(t,(f,d)=>c(e(f,d)),s)),c=>uo($d(c))(f=>Zy(t,c,(d,p)=>f(e(d,p)),s)))})),_j=(t,e,n)=>re(()=>{const i=Yt(t),s=new Array(i.length);return Da(xi(i,(f,d)=>G(e(f,d),p=>z(()=>s[d]=p)),n,!1),At(s))}),xi=(t,e,n,i,s)=>Ua(c=>wL(f=>Zn(d=>{let p=Array.from(t).reverse(),y=p.length;if(y===0)return Fr;let M=0,A=!1;const N=s?Math.min(p.length,s):p.length,C=new Set,B=new Array,mt=()=>C.forEach(Qt=>{Qt._scheduler.scheduleTask(()=>{Qt.unsafeInterruptAsFork(d.id())},0)}),tt=new Array,Ft=new Array,pt=new Array,ft=()=>{const Qt=B.filter(({exit:be})=>be._tag==="Failure").sort((be,Bn)=>be.index<Bn.index?-1:be.index===Bn.index?0:1).map(({exit:be})=>be);return Qt.length===0&&Qt.push(Si),Qt},Xt=Qt=>{const be=m1(f(Qt)),Bn=wj(be,d,d._runtimeFlags,Gh);return d._scheduler.scheduleTask(()=>{Bn.resume(be)},0),Bn},Ht=()=>{i||(y-=p.length,p=[]),A=!0,mt()},_n=n?_L:s1,_e=Xt(zo(Qt=>{const be=(bn,ir)=>{bn._op==="Blocked"?pt.push(bn):(B.push({index:ir,exit:bn}),bn._op==="Failure"&&!A&&Ht())},Bn=()=>{if(p.length>0){const bn=p.pop();let ir=M++;const ef=()=>{const we=p.pop();return ir=M++,G(Lh(),()=>G(_n(c(e(we,ir))),Qo))},Qo=we=>p.length>0&&(be(we,ir),p.length>0)?ef():At(we),nf=G(_n(c(e(bn,ir))),Qo),or=Xt(nf);tt.push(or),C.add(or),A&&or._scheduler.scheduleTask(()=>{or.unsafeInterruptAsFork(d.id())},0),or.addObserver(we=>{let tn;if(we._op==="Failure"?tn=we:tn=we.i0,Ft.push(or),C.delete(or),be(tn,ir),B.length===y)Qt(At($i(Py(ft(),{parallel:!0}),()=>Si)));else if(pt.length+B.length===y){const rf=pt.map(jn=>jn.i0).reduce(Y0);Qt(At(r1(rf,xi([$i(Py(ft(),{parallel:!0}),()=>Si),...pt.map(jn=>jn.i1)],jn=>jn,n,!0,s))))}else Bn()})}};for(let bn=0;bn<N;bn++)Bn()}));return Ou(kh(a1(h1(c(FB(_e)),()=>(Ht(),xB(_e)))),()=>Hr(Ft,Qt=>Qt.inheritAll)))}))),Zy=(t,e,n,i)=>re(()=>{const s=Yt(t),c=new Array(s.length);return Da(xi(s,(d,p)=>de(n(d,p),y=>c[p]=y),i,!1,e),At(c))}),ww=t=>Sj(t,Gh),bj=(t,e,n,i=null)=>{const s=Sw(t,e,n,i);return s.resume(t),s},wj=(t,e,n,i=null)=>Sw(t,e,n,i),Sw=(t,e,n,i=null)=>{const s=M0(),c=e.getFiberRefs(),f=ID(c,s),d=new bw(s,f,n),p=Bh(f,ji),y=d._supervisor;return y.onStart(p,t,bt(e),d),d.addObserver(A=>y.onEnd(A,d)),(i!==null?i:P(e.getFiberRef(pd),$i(()=>e.scope()))).add(n,d),d},Sj=(t,e)=>Zn((n,i)=>At(bj(t,n,i.runtimeFlags,e))),Vy=t=>Iu(e=>Di(mu(e,Pu),{onNone:()=>t,onSome:n=>{switch(n.strategy._tag){case"Parallel":return t;case"Sequential":case"ParallelN":return G(Wa(n,Fd),i=>Xh(t,i))}}})),t_=t=>e=>Iu(n=>Di(mu(n,Pu),{onNone:()=>e,onSome:i=>i.strategy._tag==="ParallelN"&&i.strategy.parallelism===t?e:G(Wa(i,$d(t)),s=>Xh(e,s))})),uo=t=>e=>Iu(n=>Di(mu(n,Pu),{onNone:()=>e(ie),onSome:i=>{const s=t._tag==="Parallel"?Vy:t._tag==="Sequential"?e_:t_(t.parallelism);switch(i.strategy._tag){case"Parallel":return s(e(Vy));case"Sequential":return s(e(e_));case"ParallelN":return s(e(t_(i.strategy.parallelism)))}}})),e_=t=>Iu(e=>Di(mu(e,Pu),{onNone:()=>t,onSome:n=>{switch(n.strategy._tag){case"Sequential":return t;case"Parallel":case"ParallelN":return G(Wa(n,xd),i=>Xh(t,i))}}})),Pu=Bi("effect/Scope"),Xh=x(2,(t,e)=>rU(t,ak(uk(Pu,e)))),Oj=t=>Jo(t,{differ:tj,fork:ks}),n_=CL(ST),r_=Oj(Ya),Ij=(t,e)=>c1(n=>G(G(ww(f1(t)),i=>zo(s=>{const c=e.map(p=>p.listeners.count),f=()=>{c.every(p=>p===0)&&(d.forEach(p=>p()),s(OL(i)))};i.addObserver(p=>{d.forEach(y=>y()),s(p)});const d=e.map((p,y)=>{const M=A=>{c[y]=A,f()};return p.listeners.addObserver(M),()=>p.listeners.removeObserver(M)});return f(),z(()=>{d.forEach(p=>p())})})),()=>re(()=>{const i=e.flatMap(s=>s.state.completed?[]:[s]);return La(i,s=>G3(s.request,YL(n)))}))),xj=WL,Fj=Wa,i_=(t,e)=>n=>n.replace(t,e),$j=t=>(e,n)=>{const i=M0(),s=[[ji,[[i,t.context]]]];n!=null&&n.scheduler&&s.push([Pd,[[i,n.scheduler]]]);let c=$D(t.fiberRefs,{entries:s,forkAs:i});n!=null&&n.updateRefs&&(c=n.updateRefs(c,i));const f=new bw(i,c,t.runtimeFlags);let d=e;n!=null&&n.scope&&(d=G(Fj(n.scope,z1),y=>Da(qL(y,c1(M=>ct(M,f.id())?Fr:y1(f,M))),d1(e,M=>xj(y,M)))));const p=f._supervisor;return p!==Ya&&(p.onStart(t.context,d,Z(),f),f.addObserver(y=>p.onEnd(y,f))),Gh.add(t.runtimeFlags,f),(n==null?void 0:n.immediate)===!1?f.resume(d):f.start(d),f},Pj=t=>e=>{const n=vj(t)(e);if(n._tag==="Failure")throw Ej(n.i0);return n.i0},Mj=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new Error;Error.stackTraceLimit=e;const i=`Fiber #${t.id().id} cannot be be resolved synchronously, this is caused by using runSync on an effect that performs async work`,s="AsyncFiberException";return Object.defineProperties(n,{_tag:{value:s},fiber:{value:t},message:{value:i},name:{value:s},toString:{get(){return()=>i}},[Kt]:{get(){return()=>i}}}),n},o_=Symbol.for("effect/Runtime/FiberFailure"),Rj=Symbol.for("effect/Runtime/FiberFailure/Cause"),Ej=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new Error;Error.stackTraceLimit=e;const i=t1(t);if(i.length>0){const s=i[0];n.name=s.message.split(":")[0],n.message=s.message.substring(n.name.length+2),n.stack=Ca(t)}return n[o_]=o_,n[Rj]=t,n.toJSON=()=>({_id:"FiberFailure",cause:t.toJSON()}),n.toString=()=>ye(n.toJSON()),n[Kt]=()=>n.toJSON(),n},Aj=t=>{const e=t;switch(e._op){case"Failure":case"Success":return e;case"Left":return My(e.left);case"Right":return Re(e.right);case"Some":return Re(e.value);case"None":return My($1())}},vj=t=>e=>{const n=Aj(e);if(n)return n;const i=new hB,s=$j(t)(e,{scheduler:i});i.flush();const c=s.unsafePoll();if(c)return c;throw Mj(s)};class Nj{constructor(e,n,i){_(this,"context");_(this,"runtimeFlags");_(this,"fiberRefs");this.context=e,this.runtimeFlags=n,this.fiberRefs=i}pipe(){return X(this,arguments)}}const Cj=t=>new Nj(t.context,t.runtimeFlags,t.fiberRefs),kj=H0(Ho,W0,q0),Tj=Cj({context:gh(),runtimeFlags:kj,fiberRefs:PD()}),Lj=Pj(Tj),Ud=yj,Ow=Ie,Iw=At,Uj=z,xw=YD,Mu=de,Qh=G,Dj=kh,za=Lj,Bj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jj=(t,e,n)=>{let i;const s=Bj[t];return typeof s=="string"?i=s:e===1?i=s.one:i=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function ql(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const qj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Wj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Kj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hj={date:ql({formats:qj,defaultWidth:"full"}),time:ql({formats:Wj,defaultWidth:"full"}),dateTime:ql({formats:Kj,defaultWidth:"full"})},Gj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Yj=(t,e,n,i)=>Gj[t];function Ps(t){return(e,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let s;if(i==="formatting"&&t.formattingValues){const f=t.defaultFormattingWidth||t.defaultWidth,d=n!=null&&n.width?String(n.width):f;s=t.formattingValues[d]||t.formattingValues[f]}else{const f=t.defaultWidth,d=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[d]||t.values[f]}const c=t.argumentCallback?t.argumentCallback(e):e;return s[c]}}const zj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Jj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Qj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Zj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Vj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tq=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},eq={ordinalNumber:tq,era:Ps({values:zj,defaultWidth:"wide"}),quarter:Ps({values:Jj,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ps({values:Xj,defaultWidth:"wide"}),day:Ps({values:Qj,defaultWidth:"wide"}),dayPeriod:Ps({values:Zj,defaultWidth:"wide",formattingValues:Vj,defaultFormattingWidth:"wide"})};function Ms(t){return(e,n={})=>{const i=n.width,s=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],c=e.match(s);if(!c)return null;const f=c[0],d=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],p=Array.isArray(d)?rq(d,A=>A.test(f)):nq(d,A=>A.test(f));let y;y=t.valueCallback?t.valueCallback(p):p,y=n.valueCallback?n.valueCallback(y):y;const M=e.slice(f.length);return{value:y,rest:M}}}function nq(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function rq(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function iq(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const s=i[0],c=e.match(t.parsePattern);if(!c)return null;let f=t.valueCallback?t.valueCallback(c[0]):c[0];f=n.valueCallback?n.valueCallback(f):f;const d=e.slice(s.length);return{value:f,rest:d}}}const oq=/^(\d+)(th|st|nd|rd)?/i,sq=/\d+/i,uq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cq={any:[/^b/i,/^(a|c)/i]},aq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fq={any:[/1/i,/2/i,/3/i,/4/i]},lq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yq={ordinalNumber:iq({matchPattern:oq,parsePattern:sq,valueCallback:t=>parseInt(t,10)}),era:Ms({matchPatterns:uq,defaultMatchWidth:"wide",parsePatterns:cq,defaultParseWidth:"any"}),quarter:Ms({matchPatterns:aq,defaultMatchWidth:"wide",parsePatterns:fq,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ms({matchPatterns:lq,defaultMatchWidth:"wide",parsePatterns:dq,defaultParseWidth:"any"}),day:Ms({matchPatterns:hq,defaultMatchWidth:"wide",parsePatterns:mq,defaultParseWidth:"any"}),dayPeriod:Ms({matchPatterns:pq,defaultMatchWidth:"any",parsePatterns:gq,defaultParseWidth:"any"})},_q={code:"en-US",formatDistance:jj,formatLong:Hj,formatRelative:Yj,localize:eq,match:yq,options:{weekStartsOn:0,firstWeekContainsDate:1}};let bq={};function Ja(){return bq}const Fw=6048e5,wq=864e5;function Dn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function s_(t){const e=Dn(t);return e.setHours(0,0,0,0),e}function u_(t){const e=Dn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Sq(t,e){const n=s_(t),i=s_(e),s=+n-u_(n),c=+i-u_(i);return Math.round((s-c)/wq)}function Ni(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Oq(t){const e=Dn(t),n=Ni(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Iq(t){const e=Dn(t);return Sq(e,Oq(e))+1}function Zs(t,e){var d,p,y,M;const n=Ja(),i=(e==null?void 0:e.weekStartsOn)??((p=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((M=(y=n.locale)==null?void 0:y.options)==null?void 0:M.weekStartsOn)??0,s=Dn(t),c=s.getDay(),f=(c<i?7:0)+c-i;return s.setDate(s.getDate()-f),s.setHours(0,0,0,0),s}function ua(t){return Zs(t,{weekStartsOn:1})}function $w(t){const e=Dn(t),n=e.getFullYear(),i=Ni(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const s=ua(i),c=Ni(t,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const f=ua(c);return e.getTime()>=s.getTime()?n+1:e.getTime()>=f.getTime()?n:n-1}function xq(t){const e=$w(t),n=Ni(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ua(n)}function Fq(t){const e=Dn(t),n=+ua(e)-+xq(e);return Math.round(n/Fw)+1}function Pw(t,e){var M,A,N,C;const n=Dn(t),i=n.getFullYear(),s=Ja(),c=(e==null?void 0:e.firstWeekContainsDate)??((A=(M=e==null?void 0:e.locale)==null?void 0:M.options)==null?void 0:A.firstWeekContainsDate)??s.firstWeekContainsDate??((C=(N=s.locale)==null?void 0:N.options)==null?void 0:C.firstWeekContainsDate)??1,f=Ni(t,0);f.setFullYear(i+1,0,c),f.setHours(0,0,0,0);const d=Zs(f,e),p=Ni(t,0);p.setFullYear(i,0,c),p.setHours(0,0,0,0);const y=Zs(p,e);return n.getTime()>=d.getTime()?i+1:n.getTime()>=y.getTime()?i:i-1}function $q(t,e){var d,p,y,M;const n=Ja(),i=(e==null?void 0:e.firstWeekContainsDate)??((p=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((M=(y=n.locale)==null?void 0:y.options)==null?void 0:M.firstWeekContainsDate)??1,s=Pw(t,e),c=Ni(t,0);return c.setFullYear(s,0,i),c.setHours(0,0,0,0),Zs(c,e)}function Pq(t,e){const n=Dn(t),i=+Zs(n,e)-+$q(n,e);return Math.round(i/Fw)+1}function Ot(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const jr={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return Ot(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ot(n+1,2)},d(t,e){return Ot(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ot(t.getHours()%12||12,e.length)},H(t,e){return Ot(t.getHours(),e.length)},m(t,e){return Ot(t.getMinutes(),e.length)},s(t,e){return Ot(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),s=Math.trunc(i*Math.pow(10,n-3));return Ot(s,e.length)}},co={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},c_={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return jr.y(t,e)},Y:function(t,e,n,i){const s=Pw(t,i),c=s>0?s:1-s;if(e==="YY"){const f=c%100;return Ot(f,2)}return e==="Yo"?n.ordinalNumber(c,{unit:"year"}):Ot(c,e.length)},R:function(t,e){const n=$w(t);return Ot(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ot(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Ot(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Ot(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return jr.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return Ot(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const s=Pq(t,i);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Ot(s,e.length)},I:function(t,e,n){const i=Fq(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):Ot(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):jr.d(t,e)},D:function(t,e,n){const i=Iq(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Ot(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const s=t.getDay(),c=(s-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(c);case"ee":return Ot(c,2);case"eo":return n.ordinalNumber(c,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const s=t.getDay(),c=(s-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(c);case"cc":return Ot(c,e.length);case"co":return n.ordinalNumber(c,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),s=i===0?7:i;switch(e){case"i":return String(s);case"ii":return Ot(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let s;switch(i===12?s=co.noon:i===0?s=co.midnight:s=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let s;switch(i>=17?s=co.evening:i>=12?s=co.afternoon:i>=4?s=co.morning:s=co.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return jr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):jr.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Ot(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):Ot(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):jr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):jr.s(t,e)},S:function(t,e){return jr.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return f_(i);case"XXXX":case"XX":return _i(i);case"XXXXX":case"XXX":default:return _i(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return f_(i);case"xxxx":case"xx":return _i(i);case"xxxxx":case"xxx":default:return _i(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+a_(i,":");case"OOOO":default:return"GMT"+_i(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+a_(i,":");case"zzzz":default:return"GMT"+_i(i,":")}},t:function(t,e,n){const i=Math.trunc(t.getTime()/1e3);return Ot(i,e.length)},T:function(t,e,n){const i=t.getTime();return Ot(i,e.length)}};function a_(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),s=Math.trunc(i/60),c=i%60;return c===0?n+String(s):n+String(s)+e+Ot(c,2)}function f_(t,e){return t%60===0?(t>0?"-":"+")+Ot(Math.abs(t)/60,2):_i(t,e)}function _i(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),s=Ot(Math.trunc(i/60),2),c=Ot(i%60,2);return n+s+e+c}const l_=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Mw=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Mq=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return l_(t,e);let c;switch(i){case"P":c=e.dateTime({width:"short"});break;case"PP":c=e.dateTime({width:"medium"});break;case"PPP":c=e.dateTime({width:"long"});break;case"PPPP":default:c=e.dateTime({width:"full"});break}return c.replace("{{date}}",l_(i,e)).replace("{{time}}",Mw(s,e))},Rq={p:Mw,P:Mq},Eq=/^D+$/,Aq=/^Y+$/,vq=["D","DD","YY","YYYY"];function Nq(t){return Eq.test(t)}function Cq(t){return Aq.test(t)}function kq(t,e,n){const i=Tq(t,e,n);if(console.warn(i),vq.includes(t))throw new RangeError(i)}function Tq(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function Lq(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Uq(t){if(!Lq(t)&&typeof t!="number")return!1;const e=Dn(t);return!isNaN(Number(e))}const Dq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jq=/^'([^]*?)'?$/,qq=/''/g,Wq=/[a-zA-Z]/;function Kq(t,e,n){var M,A,N,C,B,mt,tt,Ft;const i=Ja(),s=(n==null?void 0:n.locale)??i.locale??_q,c=(n==null?void 0:n.firstWeekContainsDate)??((A=(M=n==null?void 0:n.locale)==null?void 0:M.options)==null?void 0:A.firstWeekContainsDate)??i.firstWeekContainsDate??((C=(N=i.locale)==null?void 0:N.options)==null?void 0:C.firstWeekContainsDate)??1,f=(n==null?void 0:n.weekStartsOn)??((mt=(B=n==null?void 0:n.locale)==null?void 0:B.options)==null?void 0:mt.weekStartsOn)??i.weekStartsOn??((Ft=(tt=i.locale)==null?void 0:tt.options)==null?void 0:Ft.weekStartsOn)??0,d=Dn(t);if(!Uq(d))throw new RangeError("Invalid time value");let p=e.match(Bq).map(pt=>{const ft=pt[0];if(ft==="p"||ft==="P"){const Xt=Rq[ft];return Xt(pt,s.formatLong)}return pt}).join("").match(Dq).map(pt=>{if(pt==="''")return{isToken:!1,value:"'"};const ft=pt[0];if(ft==="'")return{isToken:!1,value:Hq(pt)};if(c_[ft])return{isToken:!0,value:pt};if(ft.match(Wq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ft+"`");return{isToken:!1,value:pt}});s.localize.preprocessor&&(p=s.localize.preprocessor(d,p));const y={firstWeekContainsDate:c,weekStartsOn:f,locale:s};return p.map(pt=>{if(!pt.isToken)return pt.value;const ft=pt.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Cq(ft)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Nq(ft))&&kq(ft,e,String(t));const Xt=c_[ft[0]];return Xt(d,ft,s.localize,y)}).join("")}function Hq(t){const e=t.match(jq);return e?e[1].replace(qq,"'"):t}const d_=ot.String,Wl=ot.Object,Kl=ot.Optional,Gq=ot.Boolean,h_=t=>ot.Transform(ot.String()).Decode(Yq).Encode(zq(t));function Yq(t){try{return new Date(t)}catch{return t}}function zq(t){return e=>typeof e=="string"?e:Kq(e,t)}const Jq=()=>ot.String({});function Xq(t){const e=AN[t];return ot.Union(e.map(n=>ot.Literal(n)))}function Qq(t){return ot.Transform(Xq(t)).Decode(e=>({collection:t,id:e,get:()=>qw(t,e)})).Encode(e=>e.id)}const Zq={organizations:Wl({name:d_(),location:d_(),logo:Kl(Jq())}),work_experiences:Wl({date_start:h_("yyyy-MM"),date_end:Kl(h_("yyyy-MM")),current:Kl(Gq()),organization:Qq("organizations")}),projects:Wl({})};function Rw(t){return Xa(t)&&Symbol.asyncIterator in t}function Ew(t){return Xa(t)&&Symbol.iterator in t}function Aw(t){return t instanceof Promise}function Zh(t){return t instanceof Uint8Array}function Vh(t){return t instanceof Date&&Number.isFinite(t.getTime())}function qi(t){return Xa(t)&&tm(t.constructor)&&t.constructor.name==="Object"}function Xa(t){return t!==null&&typeof t=="object"}function Ln(t){return Array.isArray(t)&&!ArrayBuffer.isView(t)}function Ru(t){return t===void 0}function Qa(t){return t===null}function Za(t){return typeof t=="boolean"}function Yn(t){return typeof t=="number"}function vw(t){return Yn(t)&&Number.isInteger(t)}function Va(t){return typeof t=="bigint"}function Or(t){return typeof t=="string"}function tm(t){return typeof t=="function"}function tf(t){return typeof t=="symbol"}function Nw(t){return Va(t)||Za(t)||Qa(t)||Yn(t)||Or(t)||tf(t)||Ru(t)}var mn;(function(t){t.ExactOptionalPropertyTypes=!1,t.AllowArrayObject=!1,t.AllowNaN=!1,t.AllowNullVoid=!1;function e(f,d){return t.ExactOptionalPropertyTypes?d in f:f[d]!==void 0}t.IsExactOptionalProperty=e;function n(f){const d=Xa(f);return t.AllowArrayObject?d:d&&!Ln(f)}t.IsObjectLike=n;function i(f){return n(f)&&!(f instanceof Date)&&!(f instanceof Uint8Array)}t.IsRecordLike=i;function s(f){const d=Yn(f);return t.AllowNaN?d:d&&Number.isFinite(f)}t.IsNumberLike=s;function c(f){const d=Ru(f);return t.AllowNullVoid?d||f===null:d}t.IsVoidLike=c})(mn||(mn={}));class Vq extends Ae{constructor(e){super(`Duplicate type kind '${e}' detected`)}}class tW extends Ae{constructor(e){super(`Duplicate string format '${e}' detected`)}}var m_;(function(t){function e(i,s){if(ga(i))throw new Vq(i);return lR(i,s),(c={})=>Ib({...c,[U]:i})}t.Type=e;function n(i,s){if(Gd(i))throw new tW(i);return fR(i,s),i}t.Format=n})(m_||(m_={}));function eW(t){switch(t.errorType){case I.ArrayContains:return"Expected array to contain at least one matching value";case I.ArrayMaxContains:return`Expected array to contain no more than ${t.schema.maxContains} matching values`;case I.ArrayMinContains:return`Expected array to contain at least ${t.schema.minContains} matching values`;case I.ArrayMaxItems:return`Expected array length to be less or equal to ${t.schema.maxItems}`;case I.ArrayMinItems:return`Expected array length to be greater or equal to ${t.schema.minItems}`;case I.ArrayUniqueItems:return"Expected array elements to be unique";case I.Array:return"Expected array";case I.AsyncIterator:return"Expected AsyncIterator";case I.BigIntExclusiveMaximum:return`Expected bigint to be less than ${t.schema.exclusiveMaximum}`;case I.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${t.schema.exclusiveMinimum}`;case I.BigIntMaximum:return`Expected bigint to be less or equal to ${t.schema.maximum}`;case I.BigIntMinimum:return`Expected bigint to be greater or equal to ${t.schema.minimum}`;case I.BigIntMultipleOf:return`Expected bigint to be a multiple of ${t.schema.multipleOf}`;case I.BigInt:return"Expected bigint";case I.Boolean:return"Expected boolean";case I.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${t.schema.exclusiveMinimumTimestamp}`;case I.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${t.schema.exclusiveMaximumTimestamp}`;case I.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${t.schema.minimumTimestamp}`;case I.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${t.schema.maximumTimestamp}`;case I.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${t.schema.multipleOfTimestamp}`;case I.Date:return"Expected Date";case I.Function:return"Expected function";case I.IntegerExclusiveMaximum:return`Expected integer to be less than ${t.schema.exclusiveMaximum}`;case I.IntegerExclusiveMinimum:return`Expected integer to be greater than ${t.schema.exclusiveMinimum}`;case I.IntegerMaximum:return`Expected integer to be less or equal to ${t.schema.maximum}`;case I.IntegerMinimum:return`Expected integer to be greater or equal to ${t.schema.minimum}`;case I.IntegerMultipleOf:return`Expected integer to be a multiple of ${t.schema.multipleOf}`;case I.Integer:return"Expected integer";case I.IntersectUnevaluatedProperties:return"Unexpected property";case I.Intersect:return"Expected all values to match";case I.Iterator:return"Expected Iterator";case I.Literal:return`Expected ${typeof t.schema.const=="string"?`'${t.schema.const}'`:t.schema.const}`;case I.Never:return"Never";case I.Not:return"Value should not match";case I.Null:return"Expected null";case I.NumberExclusiveMaximum:return`Expected number to be less than ${t.schema.exclusiveMaximum}`;case I.NumberExclusiveMinimum:return`Expected number to be greater than ${t.schema.exclusiveMinimum}`;case I.NumberMaximum:return`Expected number to be less or equal to ${t.schema.maximum}`;case I.NumberMinimum:return`Expected number to be greater or equal to ${t.schema.minimum}`;case I.NumberMultipleOf:return`Expected number to be a multiple of ${t.schema.multipleOf}`;case I.Number:return"Expected number";case I.Object:return"Expected object";case I.ObjectAdditionalProperties:return"Unexpected property";case I.ObjectMaxProperties:return`Expected object to have no more than ${t.schema.maxProperties} properties`;case I.ObjectMinProperties:return`Expected object to have at least ${t.schema.minProperties} properties`;case I.ObjectRequiredProperty:return"Required property";case I.Promise:return"Expected Promise";case I.RegExp:return"Expected string to match regular expression";case I.StringFormatUnknown:return`Unknown format '${t.schema.format}'`;case I.StringFormat:return`Expected string to match '${t.schema.format}' format`;case I.StringMaxLength:return`Expected string length less or equal to ${t.schema.maxLength}`;case I.StringMinLength:return`Expected string length greater or equal to ${t.schema.minLength}`;case I.StringPattern:return`Expected string to match '${t.schema.pattern}'`;case I.String:return"Expected string";case I.Symbol:return"Expected symbol";case I.TupleLength:return`Expected tuple to have ${t.schema.maxItems||0} elements`;case I.Tuple:return"Expected tuple";case I.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${t.schema.maxByteLength}`;case I.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${t.schema.minByteLength}`;case I.Uint8Array:return"Expected Uint8Array";case I.Undefined:return"Expected undefined";case I.Union:return"Expected union value";case I.Void:return"Expected void";case I.Kind:return`Expected kind '${t.schema[U]}'`;default:return"Unknown error type"}}let nW=eW;function rW(){return nW}class iW extends Ae{constructor(n){super(`Unable to dereference schema with $id '${n.$id}'`);_(this,"schema");this.schema=n}}function ii(t,e){const n=e.findIndex(i=>i.$id===t.$ref);if(n===-1)throw new iW(t);return e[n]}class oW extends Ae{constructor(n){super("Unable to hash value");_(this,"value");this.value=n}}var Qe;(function(t){t[t.Undefined=0]="Undefined",t[t.Null=1]="Null",t[t.Boolean=2]="Boolean",t[t.Number=3]="Number",t[t.String=4]="String",t[t.Object=5]="Object",t[t.Array=6]="Array",t[t.Date=7]="Date",t[t.Uint8Array=8]="Uint8Array",t[t.Symbol=9]="Symbol",t[t.BigInt=10]="BigInt"})(Qe||(Qe={}));let fo=BigInt("14695981039346656037");const[sW,uW]=[BigInt("1099511628211"),BigInt("2")**BigInt("64")],cW=Array.from({length:256}).map((t,e)=>BigInt(e)),Cw=new Float64Array(1),kw=new DataView(Cw.buffer),Tw=new Uint8Array(Cw.buffer);function*aW(t){const e=t===0?1:Math.ceil(Math.floor(Math.log2(t)+1)/8);for(let n=0;n<e;n++)yield t>>8*(e-1-n)&255}function fW(t){xe(Qe.Array);for(const e of t)Co(e)}function lW(t){xe(Qe.Boolean),xe(t?1:0)}function dW(t){xe(Qe.BigInt),kw.setBigInt64(0,t);for(const e of Tw)xe(e)}function hW(t){xe(Qe.Date),Co(t.getTime())}function mW(t){xe(Qe.Null)}function pW(t){xe(Qe.Number),kw.setFloat64(0,t);for(const e of Tw)xe(e)}function gW(t){xe(Qe.Object);for(const e of globalThis.Object.keys(t).sort())Co(e),Co(t[e])}function yW(t){xe(Qe.String);for(let e=0;e<t.length;e++)for(const n of aW(t.charCodeAt(e)))xe(n)}function _W(t){xe(Qe.Symbol),Co(t.description)}function bW(t){xe(Qe.Uint8Array);for(let e=0;e<t.length;e++)xe(t[e])}function wW(t){return xe(Qe.Undefined)}function Co(t){if(Ln(t))return fW(t);if(Za(t))return lW(t);if(Va(t))return dW(t);if(Vh(t))return hW(t);if(Qa(t))return mW();if(Yn(t))return pW(t);if(qi(t))return gW(t);if(Or(t))return yW(t);if(tf(t))return _W(t);if(Zh(t))return bW(t);if(Ru(t))return wW();throw new oW(t)}function xe(t){fo=fo^cW[t],fo=fo*sW%uW}function Lw(t){return fo=BigInt("14695981039346656037"),Co(t),fo}var I;(function(t){t[t.ArrayContains=0]="ArrayContains",t[t.ArrayMaxContains=1]="ArrayMaxContains",t[t.ArrayMaxItems=2]="ArrayMaxItems",t[t.ArrayMinContains=3]="ArrayMinContains",t[t.ArrayMinItems=4]="ArrayMinItems",t[t.ArrayUniqueItems=5]="ArrayUniqueItems",t[t.Array=6]="Array",t[t.AsyncIterator=7]="AsyncIterator",t[t.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",t[t.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",t[t.BigIntMaximum=10]="BigIntMaximum",t[t.BigIntMinimum=11]="BigIntMinimum",t[t.BigIntMultipleOf=12]="BigIntMultipleOf",t[t.BigInt=13]="BigInt",t[t.Boolean=14]="Boolean",t[t.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",t[t.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",t[t.DateMaximumTimestamp=17]="DateMaximumTimestamp",t[t.DateMinimumTimestamp=18]="DateMinimumTimestamp",t[t.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",t[t.Date=20]="Date",t[t.Function=21]="Function",t[t.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",t[t.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",t[t.IntegerMaximum=24]="IntegerMaximum",t[t.IntegerMinimum=25]="IntegerMinimum",t[t.IntegerMultipleOf=26]="IntegerMultipleOf",t[t.Integer=27]="Integer",t[t.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",t[t.Intersect=29]="Intersect",t[t.Iterator=30]="Iterator",t[t.Kind=31]="Kind",t[t.Literal=32]="Literal",t[t.Never=33]="Never",t[t.Not=34]="Not",t[t.Null=35]="Null",t[t.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",t[t.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",t[t.NumberMaximum=38]="NumberMaximum",t[t.NumberMinimum=39]="NumberMinimum",t[t.NumberMultipleOf=40]="NumberMultipleOf",t[t.Number=41]="Number",t[t.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",t[t.ObjectMaxProperties=43]="ObjectMaxProperties",t[t.ObjectMinProperties=44]="ObjectMinProperties",t[t.ObjectRequiredProperty=45]="ObjectRequiredProperty",t[t.Object=46]="Object",t[t.Promise=47]="Promise",t[t.RegExp=48]="RegExp",t[t.StringFormatUnknown=49]="StringFormatUnknown",t[t.StringFormat=50]="StringFormat",t[t.StringMaxLength=51]="StringMaxLength",t[t.StringMinLength=52]="StringMinLength",t[t.StringPattern=53]="StringPattern",t[t.String=54]="String",t[t.Symbol=55]="Symbol",t[t.TupleLength=56]="TupleLength",t[t.Tuple=57]="Tuple",t[t.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",t[t.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",t[t.Uint8Array=60]="Uint8Array",t[t.Undefined=61]="Undefined",t[t.Union=62]="Union",t[t.Void=63]="Void"})(I||(I={}));class SW extends Ae{constructor(n){super("Unknown type");_(this,"schema");this.schema=n}}function yr(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function st(t){return t!==void 0}class OW{constructor(e){_(this,"iterator");this.iterator=e}[Symbol.iterator](){return this.iterator}First(){const e=this.iterator.next();return e.done?void 0:e.value}}function T(t,e,n,i){return{type:t,schema:e,path:n,value:i,message:rW()({errorType:t,path:n,schema:e,value:i})}}function*IW(t,e,n,i){}function*xW(t,e,n,i){if(!Ln(i))return yield T(I.Array,t,n,i);st(t.minItems)&&!(i.length>=t.minItems)&&(yield T(I.ArrayMinItems,t,n,i)),st(t.maxItems)&&!(i.length<=t.maxItems)&&(yield T(I.ArrayMaxItems,t,n,i));for(let f=0;f<i.length;f++)yield*he(t.items,e,`${n}/${f}`,i[f]);if(t.uniqueItems===!0&&!function(){const f=new Set;for(const d of i){const p=Lw(d);if(f.has(p))return!1;f.add(p)}return!0}()&&(yield T(I.ArrayUniqueItems,t,n,i)),!(st(t.contains)||st(t.minContains)||st(t.maxContains)))return;const s=st(t.contains)?t.contains:ve(),c=i.reduce((f,d,p)=>he(s,e,`${n}${p}`,d).next().done===!0?f+1:f,0);c===0&&(yield T(I.ArrayContains,t,n,i)),Yn(t.minContains)&&c<t.minContains&&(yield T(I.ArrayMinContains,t,n,i)),Yn(t.maxContains)&&c>t.maxContains&&(yield T(I.ArrayMaxContains,t,n,i))}function*FW(t,e,n,i){Rw(i)||(yield T(I.AsyncIterator,t,n,i))}function*$W(t,e,n,i){if(!Va(i))return yield T(I.BigInt,t,n,i);st(t.exclusiveMaximum)&&!(i<t.exclusiveMaximum)&&(yield T(I.BigIntExclusiveMaximum,t,n,i)),st(t.exclusiveMinimum)&&!(i>t.exclusiveMinimum)&&(yield T(I.BigIntExclusiveMinimum,t,n,i)),st(t.maximum)&&!(i<=t.maximum)&&(yield T(I.BigIntMaximum,t,n,i)),st(t.minimum)&&!(i>=t.minimum)&&(yield T(I.BigIntMinimum,t,n,i)),st(t.multipleOf)&&i%t.multipleOf!==BigInt(0)&&(yield T(I.BigIntMultipleOf,t,n,i))}function*PW(t,e,n,i){Za(i)||(yield T(I.Boolean,t,n,i))}function*MW(t,e,n,i){yield*he(t.returns,e,n,i.prototype)}function*RW(t,e,n,i){if(!Vh(i))return yield T(I.Date,t,n,i);st(t.exclusiveMaximumTimestamp)&&!(i.getTime()<t.exclusiveMaximumTimestamp)&&(yield T(I.DateExclusiveMaximumTimestamp,t,n,i)),st(t.exclusiveMinimumTimestamp)&&!(i.getTime()>t.exclusiveMinimumTimestamp)&&(yield T(I.DateExclusiveMinimumTimestamp,t,n,i)),st(t.maximumTimestamp)&&!(i.getTime()<=t.maximumTimestamp)&&(yield T(I.DateMaximumTimestamp,t,n,i)),st(t.minimumTimestamp)&&!(i.getTime()>=t.minimumTimestamp)&&(yield T(I.DateMinimumTimestamp,t,n,i)),st(t.multipleOfTimestamp)&&i.getTime()%t.multipleOfTimestamp!==0&&(yield T(I.DateMultipleOfTimestamp,t,n,i))}function*EW(t,e,n,i){tm(i)||(yield T(I.Function,t,n,i))}function*AW(t,e,n,i){if(!vw(i))return yield T(I.Integer,t,n,i);st(t.exclusiveMaximum)&&!(i<t.exclusiveMaximum)&&(yield T(I.IntegerExclusiveMaximum,t,n,i)),st(t.exclusiveMinimum)&&!(i>t.exclusiveMinimum)&&(yield T(I.IntegerExclusiveMinimum,t,n,i)),st(t.maximum)&&!(i<=t.maximum)&&(yield T(I.IntegerMaximum,t,n,i)),st(t.minimum)&&!(i>=t.minimum)&&(yield T(I.IntegerMinimum,t,n,i)),st(t.multipleOf)&&i%t.multipleOf!==0&&(yield T(I.IntegerMultipleOf,t,n,i))}function*vW(t,e,n,i){for(const s of t.allOf){const c=he(s,e,n,i).next();c.done||(yield T(I.Intersect,t,n,i),yield c.value)}if(t.unevaluatedProperties===!1){const s=new RegExp(jc(t));for(const c of Object.getOwnPropertyNames(i))s.test(c)||(yield T(I.IntersectUnevaluatedProperties,t,`${n}/${c}`,i))}if(typeof t.unevaluatedProperties=="object"){const s=new RegExp(jc(t));for(const c of Object.getOwnPropertyNames(i))if(!s.test(c)){const f=he(t.unevaluatedProperties,e,`${n}/${c}`,i[c]).next();f.done||(yield f.value)}}}function*NW(t,e,n,i){Ew(i)||(yield T(I.Iterator,t,n,i))}function*CW(t,e,n,i){i!==t.const&&(yield T(I.Literal,t,n,i))}function*kW(t,e,n,i){yield T(I.Never,t,n,i)}function*TW(t,e,n,i){he(t.not,e,n,i).next().done===!0&&(yield T(I.Not,t,n,i))}function*LW(t,e,n,i){Qa(i)||(yield T(I.Null,t,n,i))}function*UW(t,e,n,i){if(!mn.IsNumberLike(i))return yield T(I.Number,t,n,i);st(t.exclusiveMaximum)&&!(i<t.exclusiveMaximum)&&(yield T(I.NumberExclusiveMaximum,t,n,i)),st(t.exclusiveMinimum)&&!(i>t.exclusiveMinimum)&&(yield T(I.NumberExclusiveMinimum,t,n,i)),st(t.maximum)&&!(i<=t.maximum)&&(yield T(I.NumberMaximum,t,n,i)),st(t.minimum)&&!(i>=t.minimum)&&(yield T(I.NumberMinimum,t,n,i)),st(t.multipleOf)&&i%t.multipleOf!==0&&(yield T(I.NumberMultipleOf,t,n,i))}function*DW(t,e,n,i){if(!mn.IsObjectLike(i))return yield T(I.Object,t,n,i);st(t.minProperties)&&!(Object.getOwnPropertyNames(i).length>=t.minProperties)&&(yield T(I.ObjectMinProperties,t,n,i)),st(t.maxProperties)&&!(Object.getOwnPropertyNames(i).length<=t.maxProperties)&&(yield T(I.ObjectMaxProperties,t,n,i));const s=Array.isArray(t.required)?t.required:[],c=Object.getOwnPropertyNames(t.properties),f=Object.getOwnPropertyNames(i);for(const d of s)f.includes(d)||(yield T(I.ObjectRequiredProperty,t.properties[d],`${n}/${yr(d)}`,void 0));if(t.additionalProperties===!1)for(const d of f)c.includes(d)||(yield T(I.ObjectAdditionalProperties,t,`${n}/${yr(d)}`,i[d]));if(typeof t.additionalProperties=="object")for(const d of f)c.includes(d)||(yield*he(t.additionalProperties,e,`${n}/${yr(d)}`,i[d]));for(const d of c){const p=t.properties[d];t.required&&t.required.includes(d)?(yield*he(p,e,`${n}/${yr(d)}`,i[d]),au(t)&&!(d in i)&&(yield T(I.ObjectRequiredProperty,p,`${n}/${yr(d)}`,void 0))):mn.IsExactOptionalProperty(i,d)&&(yield*he(p,e,`${n}/${yr(d)}`,i[d]))}}function*BW(t,e,n,i){Aw(i)||(yield T(I.Promise,t,n,i))}function*jW(t,e,n,i){if(!mn.IsRecordLike(i))return yield T(I.Object,t,n,i);st(t.minProperties)&&!(Object.getOwnPropertyNames(i).length>=t.minProperties)&&(yield T(I.ObjectMinProperties,t,n,i)),st(t.maxProperties)&&!(Object.getOwnPropertyNames(i).length<=t.maxProperties)&&(yield T(I.ObjectMaxProperties,t,n,i));const[s,c]=Object.entries(t.patternProperties)[0],f=new RegExp(s);for(const[d,p]of Object.entries(i))f.test(d)&&(yield*he(c,e,`${n}/${yr(d)}`,p));if(typeof t.additionalProperties=="object")for(const[d,p]of Object.entries(i))f.test(d)||(yield*he(t.additionalProperties,e,`${n}/${yr(d)}`,p));if(t.additionalProperties===!1){for(const[d,p]of Object.entries(i))if(!f.test(d))return yield T(I.ObjectAdditionalProperties,t,`${n}/${yr(d)}`,p)}}function*qW(t,e,n,i){yield*he(ii(t,e),e,n,i)}function*WW(t,e,n,i){if(!Or(i))return yield T(I.String,t,n,i);if(st(t.minLength)&&!(i.length>=t.minLength)&&(yield T(I.StringMinLength,t,n,i)),st(t.maxLength)&&!(i.length<=t.maxLength)&&(yield T(I.StringMaxLength,t,n,i)),!new RegExp(t.source,t.flags).test(i))return yield T(I.RegExp,t,n,i)}function*KW(t,e,n,i){if(!Or(i))return yield T(I.String,t,n,i);st(t.minLength)&&!(i.length>=t.minLength)&&(yield T(I.StringMinLength,t,n,i)),st(t.maxLength)&&!(i.length<=t.maxLength)&&(yield T(I.StringMaxLength,t,n,i)),Or(t.pattern)&&(new RegExp(t.pattern).test(i)||(yield T(I.StringPattern,t,n,i))),Or(t.format)&&(Gd(t.format)?U_(t.format)(i)||(yield T(I.StringFormat,t,n,i)):yield T(I.StringFormatUnknown,t,n,i))}function*HW(t,e,n,i){tf(i)||(yield T(I.Symbol,t,n,i))}function*GW(t,e,n,i){if(!Or(i))return yield T(I.String,t,n,i);new RegExp(t.pattern).test(i)||(yield T(I.StringPattern,t,n,i))}function*YW(t,e,n,i){yield*he(ii(t,e),e,n,i)}function*zW(t,e,n,i){if(!Ln(i))return yield T(I.Tuple,t,n,i);if(t.items===void 0&&i.length!==0)return yield T(I.TupleLength,t,n,i);if(i.length!==t.maxItems)return yield T(I.TupleLength,t,n,i);if(t.items)for(let s=0;s<t.items.length;s++)yield*he(t.items[s],e,`${n}/${s}`,i[s])}function*JW(t,e,n,i){Ru(i)||(yield T(I.Undefined,t,n,i))}function*XW(t,e,n,i){let s=0;for(const c of t.anyOf){const f=[...he(c,e,n,i)];if(f.length===0)return;s+=f.length}s>0&&(yield T(I.Union,t,n,i))}function*QW(t,e,n,i){if(!Zh(i))return yield T(I.Uint8Array,t,n,i);st(t.maxByteLength)&&!(i.length<=t.maxByteLength)&&(yield T(I.Uint8ArrayMaxByteLength,t,n,i)),st(t.minByteLength)&&!(i.length>=t.minByteLength)&&(yield T(I.Uint8ArrayMinByteLength,t,n,i))}function*ZW(t,e,n,i){}function*VW(t,e,n,i){mn.IsVoidLike(i)||(yield T(I.Void,t,n,i))}function*t4(t,e,n,i){D_(t[U])(t,i)||(yield T(I.Kind,t,n,i))}function*he(t,e,n,i){const s=st(t.$id)?[...e,t]:e,c=t;switch(c[U]){case"Any":return yield*IW();case"Array":return yield*xW(c,s,n,i);case"AsyncIterator":return yield*FW(c,s,n,i);case"BigInt":return yield*$W(c,s,n,i);case"Boolean":return yield*PW(c,s,n,i);case"Constructor":return yield*MW(c,s,n,i);case"Date":return yield*RW(c,s,n,i);case"Function":return yield*EW(c,s,n,i);case"Integer":return yield*AW(c,s,n,i);case"Intersect":return yield*vW(c,s,n,i);case"Iterator":return yield*NW(c,s,n,i);case"Literal":return yield*CW(c,s,n,i);case"Never":return yield*kW(c,s,n,i);case"Not":return yield*TW(c,s,n,i);case"Null":return yield*LW(c,s,n,i);case"Number":return yield*UW(c,s,n,i);case"Object":return yield*DW(c,s,n,i);case"Promise":return yield*BW(c,s,n,i);case"Record":return yield*jW(c,s,n,i);case"Ref":return yield*qW(c,s,n,i);case"RegExp":return yield*WW(c,s,n,i);case"String":return yield*KW(c,s,n,i);case"Symbol":return yield*HW(c,s,n,i);case"TemplateLiteral":return yield*GW(c,s,n,i);case"This":return yield*YW(c,s,n,i);case"Tuple":return yield*zW(c,s,n,i);case"Undefined":return yield*JW(c,s,n,i);case"Union":return yield*XW(c,s,n,i);case"Uint8Array":return yield*QW(c,s,n,i);case"Unknown":return yield*ZW();case"Void":return yield*VW(c,s,n,i);default:if(!ga(c[U]))throw new SW(t);return yield*t4(c,s,n,i)}}function p_(...t){const e=t.length===3?he(t[0],t[1],"",t[2]):he(t[0],[],"",t[1]);return new OW(e)}class e4 extends Ae{constructor(n){super("Unknown type");_(this,"schema");this.schema=n}}function n4(t){return t[U]==="Any"||t[U]==="Unknown"}function ut(t){return t!==void 0}function r4(t,e,n){return!0}function i4(t,e,n){if(!Ln(n)||ut(t.minItems)&&!(n.length>=t.minItems)||ut(t.maxItems)&&!(n.length<=t.maxItems)||!n.every(c=>me(t.items,e,c))||t.uniqueItems===!0&&!function(){const c=new Set;for(const f of n){const d=Lw(f);if(c.has(d))return!1;c.add(d)}return!0}())return!1;if(!(ut(t.contains)||Yn(t.minContains)||Yn(t.maxContains)))return!0;const i=ut(t.contains)?t.contains:ve(),s=n.reduce((c,f)=>me(i,e,f)?c+1:c,0);return!(s===0||Yn(t.minContains)&&s<t.minContains||Yn(t.maxContains)&&s>t.maxContains)}function o4(t,e,n){return Rw(n)}function s4(t,e,n){return!(!Va(n)||ut(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)||ut(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)||ut(t.maximum)&&!(n<=t.maximum)||ut(t.minimum)&&!(n>=t.minimum)||ut(t.multipleOf)&&n%t.multipleOf!==BigInt(0))}function u4(t,e,n){return Za(n)}function c4(t,e,n){return me(t.returns,e,n.prototype)}function a4(t,e,n){return!(!Vh(n)||ut(t.exclusiveMaximumTimestamp)&&!(n.getTime()<t.exclusiveMaximumTimestamp)||ut(t.exclusiveMinimumTimestamp)&&!(n.getTime()>t.exclusiveMinimumTimestamp)||ut(t.maximumTimestamp)&&!(n.getTime()<=t.maximumTimestamp)||ut(t.minimumTimestamp)&&!(n.getTime()>=t.minimumTimestamp)||ut(t.multipleOfTimestamp)&&n.getTime()%t.multipleOfTimestamp!==0)}function f4(t,e,n){return tm(n)}function l4(t,e,n){return!(!vw(n)||ut(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)||ut(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)||ut(t.maximum)&&!(n<=t.maximum)||ut(t.minimum)&&!(n>=t.minimum)||ut(t.multipleOf)&&n%t.multipleOf!==0)}function d4(t,e,n){const i=t.allOf.every(s=>me(s,e,n));if(t.unevaluatedProperties===!1){const s=new RegExp(jc(t)),c=Object.getOwnPropertyNames(n).every(f=>s.test(f));return i&&c}else if($t(t.unevaluatedProperties)){const s=new RegExp(jc(t)),c=Object.getOwnPropertyNames(n).every(f=>s.test(f)||me(t.unevaluatedProperties,e,n[f]));return i&&c}else return i}function h4(t,e,n){return Ew(n)}function m4(t,e,n){return n===t.const}function p4(t,e,n){return!1}function g4(t,e,n){return!me(t.not,e,n)}function y4(t,e,n){return Qa(n)}function _4(t,e,n){return!(!mn.IsNumberLike(n)||ut(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)||ut(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)||ut(t.minimum)&&!(n>=t.minimum)||ut(t.maximum)&&!(n<=t.maximum)||ut(t.multipleOf)&&n%t.multipleOf!==0)}function b4(t,e,n){if(!mn.IsObjectLike(n)||ut(t.minProperties)&&!(Object.getOwnPropertyNames(n).length>=t.minProperties)||ut(t.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=t.maxProperties))return!1;const i=Object.getOwnPropertyNames(t.properties);for(const s of i){const c=t.properties[s];if(t.required&&t.required.includes(s)){if(!me(c,e,n[s])||(au(c)||n4(c))&&!(s in n))return!1}else if(mn.IsExactOptionalProperty(n,s)&&!me(c,e,n[s]))return!1}if(t.additionalProperties===!1){const s=Object.getOwnPropertyNames(n);return t.required&&t.required.length===i.length&&s.length===i.length?!0:s.every(c=>i.includes(c))}else return typeof t.additionalProperties=="object"?Object.getOwnPropertyNames(n).every(c=>i.includes(c)||me(t.additionalProperties,e,n[c])):!0}function w4(t,e,n){return Aw(n)}function S4(t,e,n){if(!mn.IsRecordLike(n)||ut(t.minProperties)&&!(Object.getOwnPropertyNames(n).length>=t.minProperties)||ut(t.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=t.maxProperties))return!1;const[i,s]=Object.entries(t.patternProperties)[0],c=new RegExp(i),f=Object.entries(n).every(([y,M])=>c.test(y)?me(s,e,M):!0),d=typeof t.additionalProperties=="object"?Object.entries(n).every(([y,M])=>c.test(y)?!0:me(t.additionalProperties,e,M)):!0,p=t.additionalProperties===!1?Object.getOwnPropertyNames(n).every(y=>c.test(y)):!0;return f&&d&&p}function O4(t,e,n){return me(ii(t,e),e,n)}function I4(t,e,n){const i=new RegExp(t.source,t.flags);return ut(t.minLength)&&!(n.length>=t.minLength)||ut(t.maxLength)&&!(n.length<=t.maxLength)?!1:i.test(n)}function x4(t,e,n){return!Or(n)||ut(t.minLength)&&!(n.length>=t.minLength)||ut(t.maxLength)&&!(n.length<=t.maxLength)||ut(t.pattern)&&!new RegExp(t.pattern).test(n)?!1:ut(t.format)?Gd(t.format)?U_(t.format)(n):!1:!0}function F4(t,e,n){return tf(n)}function $4(t,e,n){return Or(n)&&new RegExp(t.pattern).test(n)}function P4(t,e,n){return me(ii(t,e),e,n)}function M4(t,e,n){if(!Ln(n)||t.items===void 0&&n.length!==0||n.length!==t.maxItems)return!1;if(!t.items)return!0;for(let i=0;i<t.items.length;i++)if(!me(t.items[i],e,n[i]))return!1;return!0}function R4(t,e,n){return Ru(n)}function E4(t,e,n){return t.anyOf.some(i=>me(i,e,n))}function A4(t,e,n){return!(!Zh(n)||ut(t.maxByteLength)&&!(n.length<=t.maxByteLength)||ut(t.minByteLength)&&!(n.length>=t.minByteLength))}function v4(t,e,n){return!0}function N4(t,e,n){return mn.IsVoidLike(n)}function C4(t,e,n){return ga(t[U])?D_(t[U])(t,n):!1}function me(t,e,n){const i=ut(t.$id)?[...e,t]:e,s=t;switch(s[U]){case"Any":return r4();case"Array":return i4(s,i,n);case"AsyncIterator":return o4(s,i,n);case"BigInt":return s4(s,i,n);case"Boolean":return u4(s,i,n);case"Constructor":return c4(s,i,n);case"Date":return a4(s,i,n);case"Function":return f4(s,i,n);case"Integer":return l4(s,i,n);case"Intersect":return d4(s,i,n);case"Iterator":return h4(s,i,n);case"Literal":return m4(s,i,n);case"Never":return p4();case"Not":return g4(s,i,n);case"Null":return y4(s,i,n);case"Number":return _4(s,i,n);case"Object":return b4(s,i,n);case"Promise":return w4(s,i,n);case"Record":return S4(s,i,n);case"Ref":return O4(s,i,n);case"RegExp":return I4(s,i,n);case"String":return x4(s,i,n);case"Symbol":return F4(s,i,n);case"TemplateLiteral":return $4(s,i,n);case"This":return P4(s,i,n);case"Tuple":return M4(s,i,n);case"Undefined":return R4(s,i,n);case"Union":return E4(s,i,n);case"Uint8Array":return A4(s,i,n);case"Unknown":return v4();case"Void":return N4(s,i,n);default:if(!ga(s[U]))throw new e4(s);return C4(s,i,n)}}function Vs(...t){return t.length===3?me(t[0],t[1],t[2]):me(t[0],[],t[1])}const k4=ue({type:qt("insert"),path:Xr(),value:su()}),T4=ue({type:qt("update"),path:Xr(),value:su()}),L4=ue({type:qt("delete"),path:Xr()});Ne([k4,T4,L4]);class U4 extends Ae{constructor(n,i,s){super("Unable to decode due to invalid value");_(this,"schema");_(this,"value");_(this,"error");this.schema=n,this.value=i,this.error=s}}class D4 extends Ae{constructor(n,i,s){super(`${s instanceof Error?s.message:"Unknown error"}`);_(this,"schema");_(this,"value");this.schema=n,this.value=i}}function Lt(t,e){try{return ei(t)?t[Mn].Decode(e):e}catch(n){throw new D4(t,e,n)}}function B4(t,e,n){return Ln(n)?Lt(t,n.map(i=>rr(t.items,e,i))):Lt(t,n)}function j4(t,e,n){if(!qi(n)||Nw(n))return Lt(t,n);const i=ri(t),s=i.reduce((p,y)=>y in p?{...p,[y]:rr(iu(t,[y]),e,p[y])}:p,n);if(!ei(t.unevaluatedProperties))return Lt(t,s);const c=Object.getOwnPropertyNames(s),f=t.unevaluatedProperties,d=c.reduce((p,y)=>i.includes(y)?p:{...p,[y]:Lt(f,p[y])},s);return Lt(t,d)}function q4(t,e,n){return Lt(t,rr(t.not,e,n))}function W4(t,e,n){if(!qi(n))return Lt(t,n);const i=ri(t),s=i.reduce((p,y)=>y in p?{...p,[y]:rr(t.properties[y],e,p[y])}:p,n);if(!$t(t.additionalProperties))return Lt(t,s);const c=Object.getOwnPropertyNames(s),f=t.additionalProperties,d=c.reduce((p,y)=>i.includes(y)?p:{...p,[y]:Lt(f,p[y])},s);return Lt(t,d)}function K4(t,e,n){if(!qi(n))return Lt(t,n);const i=Object.getOwnPropertyNames(t.patternProperties)[0],s=new RegExp(i),c=Object.getOwnPropertyNames(n).reduce((y,M)=>s.test(M)?{...y,[M]:rr(t.patternProperties[i],e,y[M])}:y,n);if(!$t(t.additionalProperties))return Lt(t,c);const f=Object.getOwnPropertyNames(c),d=t.additionalProperties,p=f.reduce((y,M)=>s.test(M)?y:{...y,[M]:Lt(d,y[M])},c);return Lt(t,p)}function H4(t,e,n){const i=ii(t,e);return Lt(t,rr(i,e,n))}function G4(t,e,n){const i=ii(t,e);return Lt(t,rr(i,e,n))}function Y4(t,e,n){return Ln(n)&&Ln(t.items)?Lt(t,t.items.map((i,s)=>rr(i,e,n[s]))):Lt(t,n)}function z4(t,e,n){for(const i of t.anyOf){if(!Vs(i,e,n))continue;const s=rr(i,e,n);return Lt(t,s)}return Lt(t,n)}function rr(t,e,n){const i=typeof t.$id=="string"?[...e,t]:e,s=t;switch(t[U]){case"Array":return B4(s,i,n);case"Intersect":return j4(s,i,n);case"Not":return q4(s,i,n);case"Object":return W4(s,i,n);case"Record":return K4(s,i,n);case"Ref":return H4(s,i,n);case"Symbol":return Lt(s,n);case"This":return G4(s,i,n);case"Tuple":return Y4(s,i,n);case"Union":return z4(s,i,n);default:return Lt(s,n)}}function J4(t,e,n){return rr(t,e,n)}class X4 extends Ae{constructor(n,i,s){super("Unable to encode due to invalid value");_(this,"schema");_(this,"value");_(this,"error");this.schema=n,this.value=i,this.error=s}}class Q4 extends Ae{constructor(n,i,s){super(`${s instanceof Error?s.message:"Unknown error"}`);_(this,"schema");_(this,"value");this.schema=n,this.value=i}}function oe(t,e){try{return ei(t)?t[Mn].Encode(e):e}catch(n){throw new Q4(t,e,n)}}function Z4(t,e,n){const i=oe(t,n);return Ln(i)?i.map(s=>Vn(t.items,e,s)):i}function V4(t,e,n){const i=oe(t,n);if(!qi(n)||Nw(n))return i;const s=ri(t),c=s.reduce((p,y)=>y in i?{...p,[y]:Vn(iu(t,[y]),e,p[y])}:p,i);if(!ei(t.unevaluatedProperties))return oe(t,c);const f=Object.getOwnPropertyNames(c),d=t.unevaluatedProperties;return f.reduce((p,y)=>s.includes(y)?p:{...p,[y]:oe(d,p[y])},c)}function t6(t,e,n){return oe(t.not,oe(t,n))}function e6(t,e,n){const i=oe(t,n);if(!qi(n))return i;const s=ri(t),c=s.reduce((p,y)=>y in p?{...p,[y]:Vn(t.properties[y],e,p[y])}:p,i);if(!$t(t.additionalProperties))return c;const f=Object.getOwnPropertyNames(c),d=t.additionalProperties;return f.reduce((p,y)=>s.includes(y)?p:{...p,[y]:oe(d,p[y])},c)}function n6(t,e,n){const i=oe(t,n);if(!qi(n))return i;const s=Object.getOwnPropertyNames(t.patternProperties)[0],c=new RegExp(s),f=Object.getOwnPropertyNames(n).reduce((y,M)=>c.test(M)?{...y,[M]:Vn(t.patternProperties[s],e,y[M])}:y,i);if(!$t(t.additionalProperties))return oe(t,f);const d=Object.getOwnPropertyNames(f),p=t.additionalProperties;return d.reduce((y,M)=>c.test(M)?y:{...y,[M]:oe(p,y[M])},f)}function r6(t,e,n){const i=ii(t,e),s=Vn(i,e,n);return oe(t,s)}function i6(t,e,n){const i=ii(t,e),s=Vn(i,e,n);return oe(t,s)}function o6(t,e,n){const i=oe(t,n);return Ln(t.items)?t.items.map((s,c)=>Vn(s,e,i[c])):[]}function s6(t,e,n){for(const i of t.anyOf){if(!Vs(i,e,n))continue;const s=Vn(i,e,n);return oe(t,s)}for(const i of t.anyOf){const s=Vn(i,e,n);if(Vs(t,e,s))return oe(t,s)}return oe(t,n)}function Vn(t,e,n){const i=typeof t.$id=="string"?[...e,t]:e,s=t;switch(t[U]){case"Array":return Z4(s,i,n);case"Intersect":return V4(s,i,n);case"Not":return t6(s,i,n);case"Object":return e6(s,i,n);case"Record":return n6(s,i,n);case"Ref":return r6(s,i,n);case"This":return i6(s,i,n);case"Tuple":return o6(s,i,n);case"Union":return s6(s,i,n);default:return oe(s,n)}}function u6(t,e,n){return Vn(t,e,n)}function em(...t){return Vs.apply(Vs,t)}function Uw(...t){const[e,n,i]=t.length===3?[t[0],t[1],t[2]]:[t[0],[],t[1]];if(!em(e,n,i))throw new U4(e,i,nm(e,n,i).First());return J4(e,n,i)}function c6(...t){const[e,n,i]=t.length===3?[t[0],t[1],t[2]]:[t[0],[],t[1]],s=u6(e,n,i);if(!em(e,n,s))throw new X4(e,i,nm(e,n,i).First());return s}function nm(...t){return p_.apply(p_,t)}const Dd=""+new URL("../assets/logo.BN0rvja2.jpeg",import.meta.url).href,a6=t=>({}),g_=t=>({doc:t[0]});function f6(t){let e;const n=t[4].default,i=NM(n,t,t[3],g_);return{c(){i&&i.c()},l(s){i&&i.l(s)},m(s,c){i&&i.m(s,c),e=!0},p(s,[c]){i&&i.p&&(!e||c&8)&&CM(i,n,s,s[3],e?TM(n,s[3],c,a6):kM(s[3]),g_)},i(s){e||(Bd(i,s),e=!0)},o(s){jd(i,s),e=!1},d(s){i&&i.d(s)}}}const l6=Symbol("DCK");function d6(t,e,n){let{$$slots:i={},$$scope:s}=e,{collection:c}=e,{name:f}=e;const d=qw(c,f);return LM(l6,{content:d==null?void 0:d.content}),t.$$set=p=>{"collection"in p&&n(1,c=p.collection),"name"in p&&n(2,f=p.name),"$$scope"in p&&n(3,s=p.$$scope)},[d,c,f,s,i]}class Dw extends Pr{constructor(e){super(),Mr(this,e,d6,f6,$r,{collection:1,name:2})}}function h6(t){let e,n=JSON.stringify(t[0],null,2)+"",i;return{c(){e=Gr("pre"),i=O_(n)},l(s){e=Yr(s,"PRE",{});var c=I_(e);i=x_(c,n),c.forEach(Ge)},m(s,c){Pn(s,e,c),F_(e,i)},p(s,c){c&1&&n!==(n=JSON.stringify(s[0],null,2)+"")&&$_(i,n)},d(s){s&&Ge(e)}}}function m6(t){let e,n="Mo bellissima dyne",i,s,c,f,d,p,y,M,A;return d=new Dw({props:{collection:"organizations",name:"freelance",$$slots:{default:[h6,({doc:N})=>({0:N}),({doc:N})=>N?1:0]},$$scope:{ctx:t}}}),{c(){e=Gr("p"),e.textContent=n,i=$l(),s=Gr("img"),f=$l(),__(d.$$.fragment),p=$l(),y=Gr("img"),this.h()},l(N){e=Yr(N,"P",{"data-svelte-h":!0}),aa(e)!=="svelte-1k1q0s1"&&(e.textContent=n),i=Pl(N),s=Yr(N,"IMG",{src:!0,alt:!0}),f=Pl(N),b_(d.$$.fragment,N),p=Pl(N),y=Yr(N,"IMG",{src:!0,alt:!0}),this.h()},h(){Ug(s.src,c=Dd)||Oc(s,"src",c),Oc(s,"alt","dyne logo"),Ug(y.src,M=Dd)||Oc(y,"src",M),Oc(y,"alt","dyne logo")},m(N,C){Pn(N,e,C),Pn(N,i,C),Pn(N,s,C),Pn(N,f,C),w_(d,N,C),Pn(N,p,C),Pn(N,y,C),A=!0},p(N,[C]){const B={};C&3&&(B.$$scope={dirty:C,ctx:N}),d.$set(B)},i(N){A||(Bd(d.$$.fragment,N),A=!0)},o(N){jd(d.$$.fragment,N),A=!1},d(N){N&&(Ge(e),Ge(i),Ge(s),Ge(f),Ge(p),Ge(y)),S_(d,N)}}}const p6=oi("organizations",{name:"Dyne.org",location:"Amsterdam, Paesi Bassi",logo:Dd});let g6=class extends Pr{constructor(e){super(),Mr(this,e,null,m6,$r,{})}};const y6=Object.freeze(Object.defineProperty({__proto__:null,default:g6,props:p6},Symbol.toStringTag,{value:"Module"}));function _6(t){let e,n="Mo bellissima ff";return{c(){e=Gr("p"),e.textContent=n},l(i){e=Yr(i,"P",{"data-svelte-h":!0}),aa(e)!=="svelte-fi9953"&&(e.textContent=n)},m(i,s){Pn(i,e,s)},p:wr,i:wr,o:wr,d(i){i&&Ge(e)}}}const b6=oi("organizations",{name:"Studio FF3300",location:"Bari, Italia"});let w6=class extends Pr{constructor(e){super(),Mr(this,e,null,_6,$r,{})}};const S6=Object.freeze(Object.defineProperty({__proto__:null,default:w6,props:b6},Symbol.toStringTag,{value:"Module"}));function O6(t){let e,n="Mo bellissimo il freelance";return{c(){e=Gr("p"),e.textContent=n},l(i){e=Yr(i,"P",{"data-svelte-h":!0}),aa(e)!=="svelte-khatbd"&&(e.textContent=n)},m(i,s){Pn(i,e,s)},p:wr,i:wr,o:wr,d(i){i&&Ge(e)}}}const I6=oi("organizations",{name:"Freelance",location:"Bari, Italia"});let x6=class extends Pr{constructor(e){super(),Mr(this,e,null,O6,$r,{})}};const F6=Object.freeze(Object.defineProperty({__proto__:null,default:x6,props:I6},Symbol.toStringTag,{value:"Module"}));function $6(t){let e,n="Mo bellissima la sos";return{c(){e=Gr("p"),e.textContent=n},l(i){e=Yr(i,"P",{"data-svelte-h":!0}),aa(e)!=="svelte-1yooyin"&&(e.textContent=n)},m(i,s){Pn(i,e,s)},p:wr,i:wr,o:wr,d(i){i&&Ge(e)}}}const P6=oi("organizations",{name:"La Scuola Open Source",location:"Bari, Italia"});let M6=class extends Pr{constructor(e){super(),Mr(this,e,null,$6,$r,{})}};const R6=Object.freeze(Object.defineProperty({__proto__:null,default:M6,props:P6},Symbol.toStringTag,{value:"Module"})),E6=oi("work_experiences",{date_start:"2019-07",current:!0,organization:"freelance"});let A6=class extends Pr{constructor(e){super(),Mr(this,e,null,null,$r,{})}};const v6=Object.freeze(Object.defineProperty({__proto__:null,default:A6,props:E6},Symbol.toStringTag,{value:"Module"})),N6=oi("work_experiences",{date_start:"2021-05",current:!0,organization:"la-scuola-open-source"});let C6=class extends Pr{constructor(e){super(),Mr(this,e,null,null,$r,{})}};const k6=Object.freeze(Object.defineProperty({__proto__:null,default:C6,props:N6},Symbol.toStringTag,{value:"Module"})),T6=oi("work_experiences",{date_start:"2021-09",date_end:"2022-03",current:!1,organization:"freelance"});let L6=class extends Pr{constructor(e){super(),Mr(this,e,null,null,$r,{})}};const U6=Object.freeze(Object.defineProperty({__proto__:null,default:L6,props:T6},Symbol.toStringTag,{value:"Module"}));function D6(t){let e,n=JSON.stringify(t[0],null,2)+"",i;return{c(){e=Gr("pre"),i=O_(n)},l(s){e=Yr(s,"PRE",{});var c=I_(e);i=x_(c,n),c.forEach(Ge)},m(s,c){Pn(s,e,c),F_(e,i)},p(s,c){c&1&&n!==(n=JSON.stringify(s[0],null,2)+"")&&$_(i,n)},d(s){s&&Ge(e)}}}function B6(t){let e,n;return e=new Dw({props:{collection:"organizations",name:Bw.organization.id,$$slots:{default:[D6,({doc:i})=>({0:i}),({doc:i})=>i?1:0]},$$scope:{ctx:t}}}),{c(){__(e.$$.fragment)},l(i){b_(e.$$.fragment,i)},m(i,s){w_(e,i,s),n=!0},p(i,[s]){const c={};s&3&&(c.$$scope={dirty:s,ctx:i}),e.$set(c)},i(i){n||(Bd(e.$$.fragment,i),n=!0)},o(i){jd(e.$$.fragment,i),n=!1},d(i){S_(e,i)}}}const Bw=oi("work_experiences",{date_start:"2022-10",current:!0,organization:"dyne"});class j6 extends Pr{constructor(e){super(),Mr(this,e,null,B6,$r,{})}}const q6=Object.freeze(Object.defineProperty({__proto__:null,default:j6,props:Bw},Symbol.toStringTag,{value:"Module"})),y_=Object.assign({"./organizations/dyne/+page.svelte":y6,"./organizations/ff3300/+page.svelte":S6,"./organizations/freelance/+page.svelte":F6,"./organizations/la-scuola-open-source/+page.svelte":R6,"./projects/join/+page.svelte":UM,"./projects/reaction-diffusion/+page.svelte":DM,"./projects/scabec/+page.svelte":BM,"./projects/signroom/+page.svelte":jM,"./work_experiences/2019-07_oggi_freelance_docente/+page.svelte":v6,"./work_experiences/2021-05_oggi_sos/+page.svelte":k6,"./work_experiences/2021-09_2022-03_sos/+page.svelte":U6,"./work_experiences/2022-10_oggi_dyne/+page.svelte":q6}),W6=ot.Object({props:ot.Optional(ot.Object({})),default:ot.Any()}),K6=ot.Record(ot.String(),W6);function H6(){return em(K6,y_)?Iw(y_):Ow(new Error("Invalid Vite glob import"))}function G6(t){return P(t,i_("/+page.svelte",""),i_("./","/"),qM)}function Y6(t){return P(t,xC,zr(([e,n])=>({path:G6(e),props:n.props,content:n.default})))}function rm(){return P(H6(),Mu(Y6))}function z6(t){return P(rm(),Mu(e=>P(e,Zb(n=>n.path.includes(t)),lo)))}function jw(t,e){return xw({try:()=>{const n=c6(e,t.props),i=Uw(e,n);return{...t,props:i}},catch:()=>{const n=[...nm(e,t.props)];return console.log(t,n),new Error(`Parse error: ${t.path}`)}})}var Rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ca={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ca.exports;(function(t,e){(function(){var n,i="4.17.21",s=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",d="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",y=500,M="__lodash_placeholder__",A=1,N=2,C=4,B=1,mt=2,tt=1,Ft=2,pt=4,ft=8,Xt=16,Ht=32,_n=64,_e=128,Qt=256,be=512,Bn=30,bn="...",ir=800,ef=16,Qo=1,nf=2,or=3,we=1/0,tn=9007199254740991,rf=17976931348623157e292,jn=NaN,qn=4294967295,Ww=qn-1,Kw=qn>>>1,Hw=[["ary",_e],["bind",tt],["bindKey",Ft],["curry",ft],["curryRight",Xt],["flip",be],["partial",Ht],["partialRight",_n],["rearg",Qt]],Wi="[object Arguments]",Eu="[object Array]",Gw="[object AsyncFunction]",Zo="[object Boolean]",Vo="[object Date]",Yw="[object DOMException]",Au="[object Error]",vu="[object Function]",um="[object GeneratorFunction]",wn="[object Map]",ts="[object Number]",zw="[object Null]",sr="[object Object]",cm="[object Promise]",Jw="[object Proxy]",es="[object RegExp]",Sn="[object Set]",ns="[object String]",Nu="[object Symbol]",Xw="[object Undefined]",rs="[object WeakMap]",Qw="[object WeakSet]",is="[object ArrayBuffer]",Ki="[object DataView]",of="[object Float32Array]",sf="[object Float64Array]",uf="[object Int8Array]",cf="[object Int16Array]",af="[object Int32Array]",ff="[object Uint8Array]",lf="[object Uint8ClampedArray]",df="[object Uint16Array]",hf="[object Uint32Array]",Zw=/\b__p \+= '';/g,Vw=/\b(__p \+=) '' \+/g,tS=/(__e\(.*?\)|\b__t\)) \+\n'';/g,am=/&(?:amp|lt|gt|quot|#39);/g,fm=/[&<>"']/g,eS=RegExp(am.source),nS=RegExp(fm.source),rS=/<%-([\s\S]+?)%>/g,iS=/<%([\s\S]+?)%>/g,lm=/<%=([\s\S]+?)%>/g,oS=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sS=/^\w*$/,uS=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mf=/[\\^$.*+?()[\]{}|]/g,cS=RegExp(mf.source),pf=/^\s+/,aS=/\s/,fS=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lS=/\{\n\/\* \[wrapped with (.+)\] \*/,dS=/,? & /,hS=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,mS=/[()=,{}\[\]\/\s]/,pS=/\\(\\)?/g,gS=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dm=/\w*$/,yS=/^[-+]0x[0-9a-f]+$/i,_S=/^0b[01]+$/i,bS=/^\[object .+?Constructor\]$/,wS=/^0o[0-7]+$/i,SS=/^(?:0|[1-9]\d*)$/,OS=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cu=/($^)/,IS=/['\n\r\u2028\u2029\\]/g,ku="\\ud800-\\udfff",xS="\\u0300-\\u036f",FS="\\ufe20-\\ufe2f",$S="\\u20d0-\\u20ff",hm=xS+FS+$S,mm="\\u2700-\\u27bf",pm="a-z\\xdf-\\xf6\\xf8-\\xff",PS="\\xac\\xb1\\xd7\\xf7",MS="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",RS="\\u2000-\\u206f",ES=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",gm="A-Z\\xc0-\\xd6\\xd8-\\xde",ym="\\ufe0e\\ufe0f",_m=PS+MS+RS+ES,gf="['’]",AS="["+ku+"]",bm="["+_m+"]",Tu="["+hm+"]",wm="\\d+",vS="["+mm+"]",Sm="["+pm+"]",Om="[^"+ku+_m+wm+mm+pm+gm+"]",yf="\\ud83c[\\udffb-\\udfff]",NS="(?:"+Tu+"|"+yf+")",Im="[^"+ku+"]",_f="(?:\\ud83c[\\udde6-\\uddff]){2}",bf="[\\ud800-\\udbff][\\udc00-\\udfff]",Hi="["+gm+"]",xm="\\u200d",Fm="(?:"+Sm+"|"+Om+")",CS="(?:"+Hi+"|"+Om+")",$m="(?:"+gf+"(?:d|ll|m|re|s|t|ve))?",Pm="(?:"+gf+"(?:D|LL|M|RE|S|T|VE))?",Mm=NS+"?",Rm="["+ym+"]?",kS="(?:"+xm+"(?:"+[Im,_f,bf].join("|")+")"+Rm+Mm+")*",TS="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",LS="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Em=Rm+Mm+kS,US="(?:"+[vS,_f,bf].join("|")+")"+Em,DS="(?:"+[Im+Tu+"?",Tu,_f,bf,AS].join("|")+")",BS=RegExp(gf,"g"),jS=RegExp(Tu,"g"),wf=RegExp(yf+"(?="+yf+")|"+DS+Em,"g"),qS=RegExp([Hi+"?"+Sm+"+"+$m+"(?="+[bm,Hi,"$"].join("|")+")",CS+"+"+Pm+"(?="+[bm,Hi+Fm,"$"].join("|")+")",Hi+"?"+Fm+"+"+$m,Hi+"+"+Pm,LS,TS,wm,US].join("|"),"g"),WS=RegExp("["+xm+ku+hm+ym+"]"),KS=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,HS=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],GS=-1,vt={};vt[of]=vt[sf]=vt[uf]=vt[cf]=vt[af]=vt[ff]=vt[lf]=vt[df]=vt[hf]=!0,vt[Wi]=vt[Eu]=vt[is]=vt[Zo]=vt[Ki]=vt[Vo]=vt[Au]=vt[vu]=vt[wn]=vt[ts]=vt[sr]=vt[es]=vt[Sn]=vt[ns]=vt[rs]=!1;var Et={};Et[Wi]=Et[Eu]=Et[is]=Et[Ki]=Et[Zo]=Et[Vo]=Et[of]=Et[sf]=Et[uf]=Et[cf]=Et[af]=Et[wn]=Et[ts]=Et[sr]=Et[es]=Et[Sn]=Et[ns]=Et[Nu]=Et[ff]=Et[lf]=Et[df]=Et[hf]=!0,Et[Au]=Et[vu]=Et[rs]=!1;var YS={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},zS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},JS={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},XS={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},QS=parseFloat,ZS=parseInt,Am=typeof Rs=="object"&&Rs&&Rs.Object===Object&&Rs,VS=typeof self=="object"&&self&&self.Object===Object&&self,ce=Am||VS||Function("return this")(),Sf=e&&!e.nodeType&&e,si=Sf&&!0&&t&&!t.nodeType&&t,vm=si&&si.exports===Sf,Of=vm&&Am.process,en=function(){try{var w=si&&si.require&&si.require("util").types;return w||Of&&Of.binding&&Of.binding("util")}catch{}}(),Nm=en&&en.isArrayBuffer,Cm=en&&en.isDate,km=en&&en.isMap,Tm=en&&en.isRegExp,Lm=en&&en.isSet,Um=en&&en.isTypedArray;function Be(w,$,O){switch(O.length){case 0:return w.call($);case 1:return w.call($,O[0]);case 2:return w.call($,O[0],O[1]);case 3:return w.call($,O[0],O[1],O[2])}return w.apply($,O)}function tO(w,$,O,L){for(var Y=-1,yt=w==null?0:w.length;++Y<yt;){var Zt=w[Y];$(L,Zt,O(Zt),w)}return L}function nn(w,$){for(var O=-1,L=w==null?0:w.length;++O<L&&$(w[O],O,w)!==!1;);return w}function eO(w,$){for(var O=w==null?0:w.length;O--&&$(w[O],O,w)!==!1;);return w}function Dm(w,$){for(var O=-1,L=w==null?0:w.length;++O<L;)if(!$(w[O],O,w))return!1;return!0}function Ar(w,$){for(var O=-1,L=w==null?0:w.length,Y=0,yt=[];++O<L;){var Zt=w[O];$(Zt,O,w)&&(yt[Y++]=Zt)}return yt}function Lu(w,$){var O=w==null?0:w.length;return!!O&&Gi(w,$,0)>-1}function If(w,$,O){for(var L=-1,Y=w==null?0:w.length;++L<Y;)if(O($,w[L]))return!0;return!1}function Ct(w,$){for(var O=-1,L=w==null?0:w.length,Y=Array(L);++O<L;)Y[O]=$(w[O],O,w);return Y}function vr(w,$){for(var O=-1,L=$.length,Y=w.length;++O<L;)w[Y+O]=$[O];return w}function xf(w,$,O,L){var Y=-1,yt=w==null?0:w.length;for(L&&yt&&(O=w[++Y]);++Y<yt;)O=$(O,w[Y],Y,w);return O}function nO(w,$,O,L){var Y=w==null?0:w.length;for(L&&Y&&(O=w[--Y]);Y--;)O=$(O,w[Y],Y,w);return O}function Ff(w,$){for(var O=-1,L=w==null?0:w.length;++O<L;)if($(w[O],O,w))return!0;return!1}var rO=$f("length");function iO(w){return w.split("")}function oO(w){return w.match(hS)||[]}function Bm(w,$,O){var L;return O(w,function(Y,yt,Zt){if($(Y,yt,Zt))return L=yt,!1}),L}function Uu(w,$,O,L){for(var Y=w.length,yt=O+(L?1:-1);L?yt--:++yt<Y;)if($(w[yt],yt,w))return yt;return-1}function Gi(w,$,O){return $===$?yO(w,$,O):Uu(w,jm,O)}function sO(w,$,O,L){for(var Y=O-1,yt=w.length;++Y<yt;)if(L(w[Y],$))return Y;return-1}function jm(w){return w!==w}function qm(w,$){var O=w==null?0:w.length;return O?Mf(w,$)/O:jn}function $f(w){return function($){return $==null?n:$[w]}}function Pf(w){return function($){return w==null?n:w[$]}}function Wm(w,$,O,L,Y){return Y(w,function(yt,Zt,Pt){O=L?(L=!1,yt):$(O,yt,Zt,Pt)}),O}function uO(w,$){var O=w.length;for(w.sort($);O--;)w[O]=w[O].value;return w}function Mf(w,$){for(var O,L=-1,Y=w.length;++L<Y;){var yt=$(w[L]);yt!==n&&(O=O===n?yt:O+yt)}return O}function Rf(w,$){for(var O=-1,L=Array(w);++O<w;)L[O]=$(O);return L}function cO(w,$){return Ct($,function(O){return[O,w[O]]})}function Km(w){return w&&w.slice(0,zm(w)+1).replace(pf,"")}function je(w){return function($){return w($)}}function Ef(w,$){return Ct($,function(O){return w[O]})}function os(w,$){return w.has($)}function Hm(w,$){for(var O=-1,L=w.length;++O<L&&Gi($,w[O],0)>-1;);return O}function Gm(w,$){for(var O=w.length;O--&&Gi($,w[O],0)>-1;);return O}function aO(w,$){for(var O=w.length,L=0;O--;)w[O]===$&&++L;return L}var fO=Pf(YS),lO=Pf(zS);function dO(w){return"\\"+XS[w]}function hO(w,$){return w==null?n:w[$]}function Yi(w){return WS.test(w)}function mO(w){return KS.test(w)}function pO(w){for(var $,O=[];!($=w.next()).done;)O.push($.value);return O}function Af(w){var $=-1,O=Array(w.size);return w.forEach(function(L,Y){O[++$]=[Y,L]}),O}function Ym(w,$){return function(O){return w($(O))}}function Nr(w,$){for(var O=-1,L=w.length,Y=0,yt=[];++O<L;){var Zt=w[O];(Zt===$||Zt===M)&&(w[O]=M,yt[Y++]=O)}return yt}function Du(w){var $=-1,O=Array(w.size);return w.forEach(function(L){O[++$]=L}),O}function gO(w){var $=-1,O=Array(w.size);return w.forEach(function(L){O[++$]=[L,L]}),O}function yO(w,$,O){for(var L=O-1,Y=w.length;++L<Y;)if(w[L]===$)return L;return-1}function _O(w,$,O){for(var L=O+1;L--;)if(w[L]===$)return L;return L}function zi(w){return Yi(w)?wO(w):rO(w)}function On(w){return Yi(w)?SO(w):iO(w)}function zm(w){for(var $=w.length;$--&&aS.test(w.charAt($)););return $}var bO=Pf(JS);function wO(w){for(var $=wf.lastIndex=0;wf.test(w);)++$;return $}function SO(w){return w.match(wf)||[]}function OO(w){return w.match(qS)||[]}var IO=function w($){$=$==null?ce:Ji.defaults(ce.Object(),$,Ji.pick(ce,HS));var O=$.Array,L=$.Date,Y=$.Error,yt=$.Function,Zt=$.Math,Pt=$.Object,vf=$.RegExp,xO=$.String,rn=$.TypeError,Bu=O.prototype,FO=yt.prototype,Xi=Pt.prototype,ju=$["__core-js_shared__"],qu=FO.toString,St=Xi.hasOwnProperty,$O=0,Jm=function(){var r=/[^.]+$/.exec(ju&&ju.keys&&ju.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Wu=Xi.toString,PO=qu.call(Pt),MO=ce._,RO=vf("^"+qu.call(St).replace(mf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ku=vm?$.Buffer:n,Cr=$.Symbol,Hu=$.Uint8Array,Xm=Ku?Ku.allocUnsafe:n,Gu=Ym(Pt.getPrototypeOf,Pt),Qm=Pt.create,Zm=Xi.propertyIsEnumerable,Yu=Bu.splice,Vm=Cr?Cr.isConcatSpreadable:n,ss=Cr?Cr.iterator:n,ui=Cr?Cr.toStringTag:n,zu=function(){try{var r=di(Pt,"defineProperty");return r({},"",{}),r}catch{}}(),EO=$.clearTimeout!==ce.clearTimeout&&$.clearTimeout,AO=L&&L.now!==ce.Date.now&&L.now,vO=$.setTimeout!==ce.setTimeout&&$.setTimeout,Ju=Zt.ceil,Xu=Zt.floor,Nf=Pt.getOwnPropertySymbols,NO=Ku?Ku.isBuffer:n,tp=$.isFinite,CO=Bu.join,kO=Ym(Pt.keys,Pt),Vt=Zt.max,Se=Zt.min,TO=L.now,LO=$.parseInt,ep=Zt.random,UO=Bu.reverse,Cf=di($,"DataView"),us=di($,"Map"),kf=di($,"Promise"),Qi=di($,"Set"),cs=di($,"WeakMap"),as=di(Pt,"create"),Qu=cs&&new cs,Zi={},DO=hi(Cf),BO=hi(us),jO=hi(kf),qO=hi(Qi),WO=hi(cs),Zu=Cr?Cr.prototype:n,fs=Zu?Zu.valueOf:n,np=Zu?Zu.toString:n;function h(r){if(Ut(r)&&!J(r)&&!(r instanceof lt)){if(r instanceof on)return r;if(St.call(r,"__wrapped__"))return rg(r)}return new on(r)}var Vi=function(){function r(){}return function(o){if(!Tt(o))return{};if(Qm)return Qm(o);r.prototype=o;var u=new r;return r.prototype=n,u}}();function Vu(){}function on(r,o){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=n}h.templateSettings={escape:rS,evaluate:iS,interpolate:lm,variable:"",imports:{_:h}},h.prototype=Vu.prototype,h.prototype.constructor=h,on.prototype=Vi(Vu.prototype),on.prototype.constructor=on;function lt(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=qn,this.__views__=[]}function KO(){var r=new lt(this.__wrapped__);return r.__actions__=Ce(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Ce(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Ce(this.__views__),r}function HO(){if(this.__filtered__){var r=new lt(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function GO(){var r=this.__wrapped__.value(),o=this.__dir__,u=J(r),a=o<0,l=u?r.length:0,m=ix(0,l,this.__views__),g=m.start,b=m.end,S=b-g,R=a?b:g-1,E=this.__iteratees__,v=E.length,k=0,D=Se(S,this.__takeCount__);if(!u||!a&&l==S&&D==S)return $p(r,this.__actions__);var q=[];t:for(;S--&&k<D;){R+=o;for(var V=-1,W=r[R];++V<v;){var it=E[V],dt=it.iteratee,Ke=it.type,Me=dt(W);if(Ke==nf)W=Me;else if(!Me){if(Ke==Qo)continue t;break t}}q[k++]=W}return q}lt.prototype=Vi(Vu.prototype),lt.prototype.constructor=lt;function ci(r){var o=-1,u=r==null?0:r.length;for(this.clear();++o<u;){var a=r[o];this.set(a[0],a[1])}}function YO(){this.__data__=as?as(null):{},this.size=0}function zO(r){var o=this.has(r)&&delete this.__data__[r];return this.size-=o?1:0,o}function JO(r){var o=this.__data__;if(as){var u=o[r];return u===p?n:u}return St.call(o,r)?o[r]:n}function XO(r){var o=this.__data__;return as?o[r]!==n:St.call(o,r)}function QO(r,o){var u=this.__data__;return this.size+=this.has(r)?0:1,u[r]=as&&o===n?p:o,this}ci.prototype.clear=YO,ci.prototype.delete=zO,ci.prototype.get=JO,ci.prototype.has=XO,ci.prototype.set=QO;function ur(r){var o=-1,u=r==null?0:r.length;for(this.clear();++o<u;){var a=r[o];this.set(a[0],a[1])}}function ZO(){this.__data__=[],this.size=0}function VO(r){var o=this.__data__,u=tc(o,r);if(u<0)return!1;var a=o.length-1;return u==a?o.pop():Yu.call(o,u,1),--this.size,!0}function tI(r){var o=this.__data__,u=tc(o,r);return u<0?n:o[u][1]}function eI(r){return tc(this.__data__,r)>-1}function nI(r,o){var u=this.__data__,a=tc(u,r);return a<0?(++this.size,u.push([r,o])):u[a][1]=o,this}ur.prototype.clear=ZO,ur.prototype.delete=VO,ur.prototype.get=tI,ur.prototype.has=eI,ur.prototype.set=nI;function cr(r){var o=-1,u=r==null?0:r.length;for(this.clear();++o<u;){var a=r[o];this.set(a[0],a[1])}}function rI(){this.size=0,this.__data__={hash:new ci,map:new(us||ur),string:new ci}}function iI(r){var o=dc(this,r).delete(r);return this.size-=o?1:0,o}function oI(r){return dc(this,r).get(r)}function sI(r){return dc(this,r).has(r)}function uI(r,o){var u=dc(this,r),a=u.size;return u.set(r,o),this.size+=u.size==a?0:1,this}cr.prototype.clear=rI,cr.prototype.delete=iI,cr.prototype.get=oI,cr.prototype.has=sI,cr.prototype.set=uI;function ai(r){var o=-1,u=r==null?0:r.length;for(this.__data__=new cr;++o<u;)this.add(r[o])}function cI(r){return this.__data__.set(r,p),this}function aI(r){return this.__data__.has(r)}ai.prototype.add=ai.prototype.push=cI,ai.prototype.has=aI;function In(r){var o=this.__data__=new ur(r);this.size=o.size}function fI(){this.__data__=new ur,this.size=0}function lI(r){var o=this.__data__,u=o.delete(r);return this.size=o.size,u}function dI(r){return this.__data__.get(r)}function hI(r){return this.__data__.has(r)}function mI(r,o){var u=this.__data__;if(u instanceof ur){var a=u.__data__;if(!us||a.length<s-1)return a.push([r,o]),this.size=++u.size,this;u=this.__data__=new cr(a)}return u.set(r,o),this.size=u.size,this}In.prototype.clear=fI,In.prototype.delete=lI,In.prototype.get=dI,In.prototype.has=hI,In.prototype.set=mI;function rp(r,o){var u=J(r),a=!u&&mi(r),l=!u&&!a&&Dr(r),m=!u&&!a&&!l&&ro(r),g=u||a||l||m,b=g?Rf(r.length,xO):[],S=b.length;for(var R in r)(o||St.call(r,R))&&!(g&&(R=="length"||l&&(R=="offset"||R=="parent")||m&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||dr(R,S)))&&b.push(R);return b}function ip(r){var o=r.length;return o?r[Gf(0,o-1)]:n}function pI(r,o){return hc(Ce(r),fi(o,0,r.length))}function gI(r){return hc(Ce(r))}function Tf(r,o,u){(u!==n&&!xn(r[o],u)||u===n&&!(o in r))&&ar(r,o,u)}function ls(r,o,u){var a=r[o];(!(St.call(r,o)&&xn(a,u))||u===n&&!(o in r))&&ar(r,o,u)}function tc(r,o){for(var u=r.length;u--;)if(xn(r[u][0],o))return u;return-1}function yI(r,o,u,a){return kr(r,function(l,m,g){o(a,l,u(l),g)}),a}function op(r,o){return r&&Kn(o,ne(o),r)}function _I(r,o){return r&&Kn(o,Te(o),r)}function ar(r,o,u){o=="__proto__"&&zu?zu(r,o,{configurable:!0,enumerable:!0,value:u,writable:!0}):r[o]=u}function Lf(r,o){for(var u=-1,a=o.length,l=O(a),m=r==null;++u<a;)l[u]=m?n:yl(r,o[u]);return l}function fi(r,o,u){return r===r&&(u!==n&&(r=r<=u?r:u),o!==n&&(r=r>=o?r:o)),r}function sn(r,o,u,a,l,m){var g,b=o&A,S=o&N,R=o&C;if(u&&(g=l?u(r,a,l,m):u(r)),g!==n)return g;if(!Tt(r))return r;var E=J(r);if(E){if(g=sx(r),!b)return Ce(r,g)}else{var v=Oe(r),k=v==vu||v==um;if(Dr(r))return Rp(r,b);if(v==sr||v==Wi||k&&!l){if(g=S||k?{}:zp(r),!b)return S?JI(r,_I(g,r)):zI(r,op(g,r))}else{if(!Et[v])return l?r:{};g=ux(r,v,b)}}m||(m=new In);var D=m.get(r);if(D)return D;m.set(r,g),Ig(r)?r.forEach(function(W){g.add(sn(W,o,u,W,r,m))}):Sg(r)&&r.forEach(function(W,it){g.set(it,sn(W,o,u,it,r,m))});var q=R?S?rl:nl:S?Te:ne,V=E?n:q(r);return nn(V||r,function(W,it){V&&(it=W,W=r[it]),ls(g,it,sn(W,o,u,it,r,m))}),g}function bI(r){var o=ne(r);return function(u){return sp(u,r,o)}}function sp(r,o,u){var a=u.length;if(r==null)return!a;for(r=Pt(r);a--;){var l=u[a],m=o[l],g=r[l];if(g===n&&!(l in r)||!m(g))return!1}return!0}function up(r,o,u){if(typeof r!="function")throw new rn(f);return _s(function(){r.apply(n,u)},o)}function ds(r,o,u,a){var l=-1,m=Lu,g=!0,b=r.length,S=[],R=o.length;if(!b)return S;u&&(o=Ct(o,je(u))),a?(m=If,g=!1):o.length>=s&&(m=os,g=!1,o=new ai(o));t:for(;++l<b;){var E=r[l],v=u==null?E:u(E);if(E=a||E!==0?E:0,g&&v===v){for(var k=R;k--;)if(o[k]===v)continue t;S.push(E)}else m(o,v,a)||S.push(E)}return S}var kr=Cp(Wn),cp=Cp(Df,!0);function wI(r,o){var u=!0;return kr(r,function(a,l,m){return u=!!o(a,l,m),u}),u}function ec(r,o,u){for(var a=-1,l=r.length;++a<l;){var m=r[a],g=o(m);if(g!=null&&(b===n?g===g&&!We(g):u(g,b)))var b=g,S=m}return S}function SI(r,o,u,a){var l=r.length;for(u=Q(u),u<0&&(u=-u>l?0:l+u),a=a===n||a>l?l:Q(a),a<0&&(a+=l),a=u>a?0:Fg(a);u<a;)r[u++]=o;return r}function ap(r,o){var u=[];return kr(r,function(a,l,m){o(a,l,m)&&u.push(a)}),u}function ae(r,o,u,a,l){var m=-1,g=r.length;for(u||(u=ax),l||(l=[]);++m<g;){var b=r[m];o>0&&u(b)?o>1?ae(b,o-1,u,a,l):vr(l,b):a||(l[l.length]=b)}return l}var Uf=kp(),fp=kp(!0);function Wn(r,o){return r&&Uf(r,o,ne)}function Df(r,o){return r&&fp(r,o,ne)}function nc(r,o){return Ar(o,function(u){return hr(r[u])})}function li(r,o){o=Lr(o,r);for(var u=0,a=o.length;r!=null&&u<a;)r=r[Hn(o[u++])];return u&&u==a?r:n}function lp(r,o,u){var a=o(r);return J(r)?a:vr(a,u(r))}function $e(r){return r==null?r===n?Xw:zw:ui&&ui in Pt(r)?rx(r):gx(r)}function Bf(r,o){return r>o}function OI(r,o){return r!=null&&St.call(r,o)}function II(r,o){return r!=null&&o in Pt(r)}function xI(r,o,u){return r>=Se(o,u)&&r<Vt(o,u)}function jf(r,o,u){for(var a=u?If:Lu,l=r[0].length,m=r.length,g=m,b=O(m),S=1/0,R=[];g--;){var E=r[g];g&&o&&(E=Ct(E,je(o))),S=Se(E.length,S),b[g]=!u&&(o||l>=120&&E.length>=120)?new ai(g&&E):n}E=r[0];var v=-1,k=b[0];t:for(;++v<l&&R.length<S;){var D=E[v],q=o?o(D):D;if(D=u||D!==0?D:0,!(k?os(k,q):a(R,q,u))){for(g=m;--g;){var V=b[g];if(!(V?os(V,q):a(r[g],q,u)))continue t}k&&k.push(q),R.push(D)}}return R}function FI(r,o,u,a){return Wn(r,function(l,m,g){o(a,u(l),m,g)}),a}function hs(r,o,u){o=Lr(o,r),r=Zp(r,o);var a=r==null?r:r[Hn(cn(o))];return a==null?n:Be(a,r,u)}function dp(r){return Ut(r)&&$e(r)==Wi}function $I(r){return Ut(r)&&$e(r)==is}function PI(r){return Ut(r)&&$e(r)==Vo}function ms(r,o,u,a,l){return r===o?!0:r==null||o==null||!Ut(r)&&!Ut(o)?r!==r&&o!==o:MI(r,o,u,a,ms,l)}function MI(r,o,u,a,l,m){var g=J(r),b=J(o),S=g?Eu:Oe(r),R=b?Eu:Oe(o);S=S==Wi?sr:S,R=R==Wi?sr:R;var E=S==sr,v=R==sr,k=S==R;if(k&&Dr(r)){if(!Dr(o))return!1;g=!0,E=!1}if(k&&!E)return m||(m=new In),g||ro(r)?Hp(r,o,u,a,l,m):ex(r,o,S,u,a,l,m);if(!(u&B)){var D=E&&St.call(r,"__wrapped__"),q=v&&St.call(o,"__wrapped__");if(D||q){var V=D?r.value():r,W=q?o.value():o;return m||(m=new In),l(V,W,u,a,m)}}return k?(m||(m=new In),nx(r,o,u,a,l,m)):!1}function RI(r){return Ut(r)&&Oe(r)==wn}function qf(r,o,u,a){var l=u.length,m=l,g=!a;if(r==null)return!m;for(r=Pt(r);l--;){var b=u[l];if(g&&b[2]?b[1]!==r[b[0]]:!(b[0]in r))return!1}for(;++l<m;){b=u[l];var S=b[0],R=r[S],E=b[1];if(g&&b[2]){if(R===n&&!(S in r))return!1}else{var v=new In;if(a)var k=a(R,E,S,r,o,v);if(!(k===n?ms(E,R,B|mt,a,v):k))return!1}}return!0}function hp(r){if(!Tt(r)||lx(r))return!1;var o=hr(r)?RO:bS;return o.test(hi(r))}function EI(r){return Ut(r)&&$e(r)==es}function AI(r){return Ut(r)&&Oe(r)==Sn}function vI(r){return Ut(r)&&bc(r.length)&&!!vt[$e(r)]}function mp(r){return typeof r=="function"?r:r==null?Le:typeof r=="object"?J(r)?yp(r[0],r[1]):gp(r):Tg(r)}function Wf(r){if(!ys(r))return kO(r);var o=[];for(var u in Pt(r))St.call(r,u)&&u!="constructor"&&o.push(u);return o}function NI(r){if(!Tt(r))return px(r);var o=ys(r),u=[];for(var a in r)a=="constructor"&&(o||!St.call(r,a))||u.push(a);return u}function Kf(r,o){return r<o}function pp(r,o){var u=-1,a=ke(r)?O(r.length):[];return kr(r,function(l,m,g){a[++u]=o(l,m,g)}),a}function gp(r){var o=ol(r);return o.length==1&&o[0][2]?Xp(o[0][0],o[0][1]):function(u){return u===r||qf(u,r,o)}}function yp(r,o){return ul(r)&&Jp(o)?Xp(Hn(r),o):function(u){var a=yl(u,r);return a===n&&a===o?_l(u,r):ms(o,a,B|mt)}}function rc(r,o,u,a,l){r!==o&&Uf(o,function(m,g){if(l||(l=new In),Tt(m))CI(r,o,g,u,rc,a,l);else{var b=a?a(al(r,g),m,g+"",r,o,l):n;b===n&&(b=m),Tf(r,g,b)}},Te)}function CI(r,o,u,a,l,m,g){var b=al(r,u),S=al(o,u),R=g.get(S);if(R){Tf(r,u,R);return}var E=m?m(b,S,u+"",r,o,g):n,v=E===n;if(v){var k=J(S),D=!k&&Dr(S),q=!k&&!D&&ro(S);E=S,k||D||q?J(b)?E=b:Dt(b)?E=Ce(b):D?(v=!1,E=Rp(S,!0)):q?(v=!1,E=Ep(S,!0)):E=[]:bs(S)||mi(S)?(E=b,mi(b)?E=$g(b):(!Tt(b)||hr(b))&&(E=zp(S))):v=!1}v&&(g.set(S,E),l(E,S,a,m,g),g.delete(S)),Tf(r,u,E)}function _p(r,o){var u=r.length;if(u)return o+=o<0?u:0,dr(o,u)?r[o]:n}function bp(r,o,u){o.length?o=Ct(o,function(m){return J(m)?function(g){return li(g,m.length===1?m[0]:m)}:m}):o=[Le];var a=-1;o=Ct(o,je(j()));var l=pp(r,function(m,g,b){var S=Ct(o,function(R){return R(m)});return{criteria:S,index:++a,value:m}});return uO(l,function(m,g){return YI(m,g,u)})}function kI(r,o){return wp(r,o,function(u,a){return _l(r,a)})}function wp(r,o,u){for(var a=-1,l=o.length,m={};++a<l;){var g=o[a],b=li(r,g);u(b,g)&&ps(m,Lr(g,r),b)}return m}function TI(r){return function(o){return li(o,r)}}function Hf(r,o,u,a){var l=a?sO:Gi,m=-1,g=o.length,b=r;for(r===o&&(o=Ce(o)),u&&(b=Ct(r,je(u)));++m<g;)for(var S=0,R=o[m],E=u?u(R):R;(S=l(b,E,S,a))>-1;)b!==r&&Yu.call(b,S,1),Yu.call(r,S,1);return r}function Sp(r,o){for(var u=r?o.length:0,a=u-1;u--;){var l=o[u];if(u==a||l!==m){var m=l;dr(l)?Yu.call(r,l,1):Jf(r,l)}}return r}function Gf(r,o){return r+Xu(ep()*(o-r+1))}function LI(r,o,u,a){for(var l=-1,m=Vt(Ju((o-r)/(u||1)),0),g=O(m);m--;)g[a?m:++l]=r,r+=u;return g}function Yf(r,o){var u="";if(!r||o<1||o>tn)return u;do o%2&&(u+=r),o=Xu(o/2),o&&(r+=r);while(o);return u}function et(r,o){return fl(Qp(r,o,Le),r+"")}function UI(r){return ip(io(r))}function DI(r,o){var u=io(r);return hc(u,fi(o,0,u.length))}function ps(r,o,u,a){if(!Tt(r))return r;o=Lr(o,r);for(var l=-1,m=o.length,g=m-1,b=r;b!=null&&++l<m;){var S=Hn(o[l]),R=u;if(S==="__proto__"||S==="constructor"||S==="prototype")return r;if(l!=g){var E=b[S];R=a?a(E,S,b):n,R===n&&(R=Tt(E)?E:dr(o[l+1])?[]:{})}ls(b,S,R),b=b[S]}return r}var Op=Qu?function(r,o){return Qu.set(r,o),r}:Le,BI=zu?function(r,o){return zu(r,"toString",{configurable:!0,enumerable:!1,value:wl(o),writable:!0})}:Le;function jI(r){return hc(io(r))}function un(r,o,u){var a=-1,l=r.length;o<0&&(o=-o>l?0:l+o),u=u>l?l:u,u<0&&(u+=l),l=o>u?0:u-o>>>0,o>>>=0;for(var m=O(l);++a<l;)m[a]=r[a+o];return m}function qI(r,o){var u;return kr(r,function(a,l,m){return u=o(a,l,m),!u}),!!u}function ic(r,o,u){var a=0,l=r==null?a:r.length;if(typeof o=="number"&&o===o&&l<=Kw){for(;a<l;){var m=a+l>>>1,g=r[m];g!==null&&!We(g)&&(u?g<=o:g<o)?a=m+1:l=m}return l}return zf(r,o,Le,u)}function zf(r,o,u,a){var l=0,m=r==null?0:r.length;if(m===0)return 0;o=u(o);for(var g=o!==o,b=o===null,S=We(o),R=o===n;l<m;){var E=Xu((l+m)/2),v=u(r[E]),k=v!==n,D=v===null,q=v===v,V=We(v);if(g)var W=a||q;else R?W=q&&(a||k):b?W=q&&k&&(a||!D):S?W=q&&k&&!D&&(a||!V):D||V?W=!1:W=a?v<=o:v<o;W?l=E+1:m=E}return Se(m,Ww)}function Ip(r,o){for(var u=-1,a=r.length,l=0,m=[];++u<a;){var g=r[u],b=o?o(g):g;if(!u||!xn(b,S)){var S=b;m[l++]=g===0?0:g}}return m}function xp(r){return typeof r=="number"?r:We(r)?jn:+r}function qe(r){if(typeof r=="string")return r;if(J(r))return Ct(r,qe)+"";if(We(r))return np?np.call(r):"";var o=r+"";return o=="0"&&1/r==-we?"-0":o}function Tr(r,o,u){var a=-1,l=Lu,m=r.length,g=!0,b=[],S=b;if(u)g=!1,l=If;else if(m>=s){var R=o?null:VI(r);if(R)return Du(R);g=!1,l=os,S=new ai}else S=o?[]:b;t:for(;++a<m;){var E=r[a],v=o?o(E):E;if(E=u||E!==0?E:0,g&&v===v){for(var k=S.length;k--;)if(S[k]===v)continue t;o&&S.push(v),b.push(E)}else l(S,v,u)||(S!==b&&S.push(v),b.push(E))}return b}function Jf(r,o){return o=Lr(o,r),r=Zp(r,o),r==null||delete r[Hn(cn(o))]}function Fp(r,o,u,a){return ps(r,o,u(li(r,o)),a)}function oc(r,o,u,a){for(var l=r.length,m=a?l:-1;(a?m--:++m<l)&&o(r[m],m,r););return u?un(r,a?0:m,a?m+1:l):un(r,a?m+1:0,a?l:m)}function $p(r,o){var u=r;return u instanceof lt&&(u=u.value()),xf(o,function(a,l){return l.func.apply(l.thisArg,vr([a],l.args))},u)}function Xf(r,o,u){var a=r.length;if(a<2)return a?Tr(r[0]):[];for(var l=-1,m=O(a);++l<a;)for(var g=r[l],b=-1;++b<a;)b!=l&&(m[l]=ds(m[l]||g,r[b],o,u));return Tr(ae(m,1),o,u)}function Pp(r,o,u){for(var a=-1,l=r.length,m=o.length,g={};++a<l;){var b=a<m?o[a]:n;u(g,r[a],b)}return g}function Qf(r){return Dt(r)?r:[]}function Zf(r){return typeof r=="function"?r:Le}function Lr(r,o){return J(r)?r:ul(r,o)?[r]:ng(wt(r))}var WI=et;function Ur(r,o,u){var a=r.length;return u=u===n?a:u,!o&&u>=a?r:un(r,o,u)}var Mp=EO||function(r){return ce.clearTimeout(r)};function Rp(r,o){if(o)return r.slice();var u=r.length,a=Xm?Xm(u):new r.constructor(u);return r.copy(a),a}function Vf(r){var o=new r.constructor(r.byteLength);return new Hu(o).set(new Hu(r)),o}function KI(r,o){var u=o?Vf(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.byteLength)}function HI(r){var o=new r.constructor(r.source,dm.exec(r));return o.lastIndex=r.lastIndex,o}function GI(r){return fs?Pt(fs.call(r)):{}}function Ep(r,o){var u=o?Vf(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.length)}function Ap(r,o){if(r!==o){var u=r!==n,a=r===null,l=r===r,m=We(r),g=o!==n,b=o===null,S=o===o,R=We(o);if(!b&&!R&&!m&&r>o||m&&g&&S&&!b&&!R||a&&g&&S||!u&&S||!l)return 1;if(!a&&!m&&!R&&r<o||R&&u&&l&&!a&&!m||b&&u&&l||!g&&l||!S)return-1}return 0}function YI(r,o,u){for(var a=-1,l=r.criteria,m=o.criteria,g=l.length,b=u.length;++a<g;){var S=Ap(l[a],m[a]);if(S){if(a>=b)return S;var R=u[a];return S*(R=="desc"?-1:1)}}return r.index-o.index}function vp(r,o,u,a){for(var l=-1,m=r.length,g=u.length,b=-1,S=o.length,R=Vt(m-g,0),E=O(S+R),v=!a;++b<S;)E[b]=o[b];for(;++l<g;)(v||l<m)&&(E[u[l]]=r[l]);for(;R--;)E[b++]=r[l++];return E}function Np(r,o,u,a){for(var l=-1,m=r.length,g=-1,b=u.length,S=-1,R=o.length,E=Vt(m-b,0),v=O(E+R),k=!a;++l<E;)v[l]=r[l];for(var D=l;++S<R;)v[D+S]=o[S];for(;++g<b;)(k||l<m)&&(v[D+u[g]]=r[l++]);return v}function Ce(r,o){var u=-1,a=r.length;for(o||(o=O(a));++u<a;)o[u]=r[u];return o}function Kn(r,o,u,a){var l=!u;u||(u={});for(var m=-1,g=o.length;++m<g;){var b=o[m],S=a?a(u[b],r[b],b,u,r):n;S===n&&(S=r[b]),l?ar(u,b,S):ls(u,b,S)}return u}function zI(r,o){return Kn(r,sl(r),o)}function JI(r,o){return Kn(r,Gp(r),o)}function sc(r,o){return function(u,a){var l=J(u)?tO:yI,m=o?o():{};return l(u,r,j(a,2),m)}}function to(r){return et(function(o,u){var a=-1,l=u.length,m=l>1?u[l-1]:n,g=l>2?u[2]:n;for(m=r.length>3&&typeof m=="function"?(l--,m):n,g&&Pe(u[0],u[1],g)&&(m=l<3?n:m,l=1),o=Pt(o);++a<l;){var b=u[a];b&&r(o,b,a,m)}return o})}function Cp(r,o){return function(u,a){if(u==null)return u;if(!ke(u))return r(u,a);for(var l=u.length,m=o?l:-1,g=Pt(u);(o?m--:++m<l)&&a(g[m],m,g)!==!1;);return u}}function kp(r){return function(o,u,a){for(var l=-1,m=Pt(o),g=a(o),b=g.length;b--;){var S=g[r?b:++l];if(u(m[S],S,m)===!1)break}return o}}function XI(r,o,u){var a=o&tt,l=gs(r);function m(){var g=this&&this!==ce&&this instanceof m?l:r;return g.apply(a?u:this,arguments)}return m}function Tp(r){return function(o){o=wt(o);var u=Yi(o)?On(o):n,a=u?u[0]:o.charAt(0),l=u?Ur(u,1).join(""):o.slice(1);return a[r]()+l}}function eo(r){return function(o){return xf(Cg(Ng(o).replace(BS,"")),r,"")}}function gs(r){return function(){var o=arguments;switch(o.length){case 0:return new r;case 1:return new r(o[0]);case 2:return new r(o[0],o[1]);case 3:return new r(o[0],o[1],o[2]);case 4:return new r(o[0],o[1],o[2],o[3]);case 5:return new r(o[0],o[1],o[2],o[3],o[4]);case 6:return new r(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new r(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var u=Vi(r.prototype),a=r.apply(u,o);return Tt(a)?a:u}}function QI(r,o,u){var a=gs(r);function l(){for(var m=arguments.length,g=O(m),b=m,S=no(l);b--;)g[b]=arguments[b];var R=m<3&&g[0]!==S&&g[m-1]!==S?[]:Nr(g,S);if(m-=R.length,m<u)return jp(r,o,uc,l.placeholder,n,g,R,n,n,u-m);var E=this&&this!==ce&&this instanceof l?a:r;return Be(E,this,g)}return l}function Lp(r){return function(o,u,a){var l=Pt(o);if(!ke(o)){var m=j(u,3);o=ne(o),u=function(b){return m(l[b],b,l)}}var g=r(o,u,a);return g>-1?l[m?o[g]:g]:n}}function Up(r){return lr(function(o){var u=o.length,a=u,l=on.prototype.thru;for(r&&o.reverse();a--;){var m=o[a];if(typeof m!="function")throw new rn(f);if(l&&!g&&lc(m)=="wrapper")var g=new on([],!0)}for(a=g?a:u;++a<u;){m=o[a];var b=lc(m),S=b=="wrapper"?il(m):n;S&&cl(S[0])&&S[1]==(_e|ft|Ht|Qt)&&!S[4].length&&S[9]==1?g=g[lc(S[0])].apply(g,S[3]):g=m.length==1&&cl(m)?g[b]():g.thru(m)}return function(){var R=arguments,E=R[0];if(g&&R.length==1&&J(E))return g.plant(E).value();for(var v=0,k=u?o[v].apply(this,R):E;++v<u;)k=o[v].call(this,k);return k}})}function uc(r,o,u,a,l,m,g,b,S,R){var E=o&_e,v=o&tt,k=o&Ft,D=o&(ft|Xt),q=o&be,V=k?n:gs(r);function W(){for(var it=arguments.length,dt=O(it),Ke=it;Ke--;)dt[Ke]=arguments[Ke];if(D)var Me=no(W),He=aO(dt,Me);if(a&&(dt=vp(dt,a,l,D)),m&&(dt=Np(dt,m,g,D)),it-=He,D&&it<R){var Bt=Nr(dt,Me);return jp(r,o,uc,W.placeholder,u,dt,Bt,b,S,R-it)}var Fn=v?u:this,pr=k?Fn[r]:r;return it=dt.length,b?dt=yx(dt,b):q&&it>1&&dt.reverse(),E&&S<it&&(dt.length=S),this&&this!==ce&&this instanceof W&&(pr=V||gs(pr)),pr.apply(Fn,dt)}return W}function Dp(r,o){return function(u,a){return FI(u,r,o(a),{})}}function cc(r,o){return function(u,a){var l;if(u===n&&a===n)return o;if(u!==n&&(l=u),a!==n){if(l===n)return a;typeof u=="string"||typeof a=="string"?(u=qe(u),a=qe(a)):(u=xp(u),a=xp(a)),l=r(u,a)}return l}}function tl(r){return lr(function(o){return o=Ct(o,je(j())),et(function(u){var a=this;return r(o,function(l){return Be(l,a,u)})})})}function ac(r,o){o=o===n?" ":qe(o);var u=o.length;if(u<2)return u?Yf(o,r):o;var a=Yf(o,Ju(r/zi(o)));return Yi(o)?Ur(On(a),0,r).join(""):a.slice(0,r)}function ZI(r,o,u,a){var l=o&tt,m=gs(r);function g(){for(var b=-1,S=arguments.length,R=-1,E=a.length,v=O(E+S),k=this&&this!==ce&&this instanceof g?m:r;++R<E;)v[R]=a[R];for(;S--;)v[R++]=arguments[++b];return Be(k,l?u:this,v)}return g}function Bp(r){return function(o,u,a){return a&&typeof a!="number"&&Pe(o,u,a)&&(u=a=n),o=mr(o),u===n?(u=o,o=0):u=mr(u),a=a===n?o<u?1:-1:mr(a),LI(o,u,a,r)}}function fc(r){return function(o,u){return typeof o=="string"&&typeof u=="string"||(o=an(o),u=an(u)),r(o,u)}}function jp(r,o,u,a,l,m,g,b,S,R){var E=o&ft,v=E?g:n,k=E?n:g,D=E?m:n,q=E?n:m;o|=E?Ht:_n,o&=~(E?_n:Ht),o&pt||(o&=~(tt|Ft));var V=[r,o,l,D,v,q,k,b,S,R],W=u.apply(n,V);return cl(r)&&Vp(W,V),W.placeholder=a,tg(W,r,o)}function el(r){var o=Zt[r];return function(u,a){if(u=an(u),a=a==null?0:Se(Q(a),292),a&&tp(u)){var l=(wt(u)+"e").split("e"),m=o(l[0]+"e"+(+l[1]+a));return l=(wt(m)+"e").split("e"),+(l[0]+"e"+(+l[1]-a))}return o(u)}}var VI=Qi&&1/Du(new Qi([,-0]))[1]==we?function(r){return new Qi(r)}:Il;function qp(r){return function(o){var u=Oe(o);return u==wn?Af(o):u==Sn?gO(o):cO(o,r(o))}}function fr(r,o,u,a,l,m,g,b){var S=o&Ft;if(!S&&typeof r!="function")throw new rn(f);var R=a?a.length:0;if(R||(o&=~(Ht|_n),a=l=n),g=g===n?g:Vt(Q(g),0),b=b===n?b:Q(b),R-=l?l.length:0,o&_n){var E=a,v=l;a=l=n}var k=S?n:il(r),D=[r,o,u,a,l,E,v,m,g,b];if(k&&mx(D,k),r=D[0],o=D[1],u=D[2],a=D[3],l=D[4],b=D[9]=D[9]===n?S?0:r.length:Vt(D[9]-R,0),!b&&o&(ft|Xt)&&(o&=~(ft|Xt)),!o||o==tt)var q=XI(r,o,u);else o==ft||o==Xt?q=QI(r,o,b):(o==Ht||o==(tt|Ht))&&!l.length?q=ZI(r,o,u,a):q=uc.apply(n,D);var V=k?Op:Vp;return tg(V(q,D),r,o)}function Wp(r,o,u,a){return r===n||xn(r,Xi[u])&&!St.call(a,u)?o:r}function Kp(r,o,u,a,l,m){return Tt(r)&&Tt(o)&&(m.set(o,r),rc(r,o,n,Kp,m),m.delete(o)),r}function tx(r){return bs(r)?n:r}function Hp(r,o,u,a,l,m){var g=u&B,b=r.length,S=o.length;if(b!=S&&!(g&&S>b))return!1;var R=m.get(r),E=m.get(o);if(R&&E)return R==o&&E==r;var v=-1,k=!0,D=u&mt?new ai:n;for(m.set(r,o),m.set(o,r);++v<b;){var q=r[v],V=o[v];if(a)var W=g?a(V,q,v,o,r,m):a(q,V,v,r,o,m);if(W!==n){if(W)continue;k=!1;break}if(D){if(!Ff(o,function(it,dt){if(!os(D,dt)&&(q===it||l(q,it,u,a,m)))return D.push(dt)})){k=!1;break}}else if(!(q===V||l(q,V,u,a,m))){k=!1;break}}return m.delete(r),m.delete(o),k}function ex(r,o,u,a,l,m,g){switch(u){case Ki:if(r.byteLength!=o.byteLength||r.byteOffset!=o.byteOffset)return!1;r=r.buffer,o=o.buffer;case is:return!(r.byteLength!=o.byteLength||!m(new Hu(r),new Hu(o)));case Zo:case Vo:case ts:return xn(+r,+o);case Au:return r.name==o.name&&r.message==o.message;case es:case ns:return r==o+"";case wn:var b=Af;case Sn:var S=a&B;if(b||(b=Du),r.size!=o.size&&!S)return!1;var R=g.get(r);if(R)return R==o;a|=mt,g.set(r,o);var E=Hp(b(r),b(o),a,l,m,g);return g.delete(r),E;case Nu:if(fs)return fs.call(r)==fs.call(o)}return!1}function nx(r,o,u,a,l,m){var g=u&B,b=nl(r),S=b.length,R=nl(o),E=R.length;if(S!=E&&!g)return!1;for(var v=S;v--;){var k=b[v];if(!(g?k in o:St.call(o,k)))return!1}var D=m.get(r),q=m.get(o);if(D&&q)return D==o&&q==r;var V=!0;m.set(r,o),m.set(o,r);for(var W=g;++v<S;){k=b[v];var it=r[k],dt=o[k];if(a)var Ke=g?a(dt,it,k,o,r,m):a(it,dt,k,r,o,m);if(!(Ke===n?it===dt||l(it,dt,u,a,m):Ke)){V=!1;break}W||(W=k=="constructor")}if(V&&!W){var Me=r.constructor,He=o.constructor;Me!=He&&"constructor"in r&&"constructor"in o&&!(typeof Me=="function"&&Me instanceof Me&&typeof He=="function"&&He instanceof He)&&(V=!1)}return m.delete(r),m.delete(o),V}function lr(r){return fl(Qp(r,n,sg),r+"")}function nl(r){return lp(r,ne,sl)}function rl(r){return lp(r,Te,Gp)}var il=Qu?function(r){return Qu.get(r)}:Il;function lc(r){for(var o=r.name+"",u=Zi[o],a=St.call(Zi,o)?u.length:0;a--;){var l=u[a],m=l.func;if(m==null||m==r)return l.name}return o}function no(r){var o=St.call(h,"placeholder")?h:r;return o.placeholder}function j(){var r=h.iteratee||Sl;return r=r===Sl?mp:r,arguments.length?r(arguments[0],arguments[1]):r}function dc(r,o){var u=r.__data__;return fx(o)?u[typeof o=="string"?"string":"hash"]:u.map}function ol(r){for(var o=ne(r),u=o.length;u--;){var a=o[u],l=r[a];o[u]=[a,l,Jp(l)]}return o}function di(r,o){var u=hO(r,o);return hp(u)?u:n}function rx(r){var o=St.call(r,ui),u=r[ui];try{r[ui]=n;var a=!0}catch{}var l=Wu.call(r);return a&&(o?r[ui]=u:delete r[ui]),l}var sl=Nf?function(r){return r==null?[]:(r=Pt(r),Ar(Nf(r),function(o){return Zm.call(r,o)}))}:xl,Gp=Nf?function(r){for(var o=[];r;)vr(o,sl(r)),r=Gu(r);return o}:xl,Oe=$e;(Cf&&Oe(new Cf(new ArrayBuffer(1)))!=Ki||us&&Oe(new us)!=wn||kf&&Oe(kf.resolve())!=cm||Qi&&Oe(new Qi)!=Sn||cs&&Oe(new cs)!=rs)&&(Oe=function(r){var o=$e(r),u=o==sr?r.constructor:n,a=u?hi(u):"";if(a)switch(a){case DO:return Ki;case BO:return wn;case jO:return cm;case qO:return Sn;case WO:return rs}return o});function ix(r,o,u){for(var a=-1,l=u.length;++a<l;){var m=u[a],g=m.size;switch(m.type){case"drop":r+=g;break;case"dropRight":o-=g;break;case"take":o=Se(o,r+g);break;case"takeRight":r=Vt(r,o-g);break}}return{start:r,end:o}}function ox(r){var o=r.match(lS);return o?o[1].split(dS):[]}function Yp(r,o,u){o=Lr(o,r);for(var a=-1,l=o.length,m=!1;++a<l;){var g=Hn(o[a]);if(!(m=r!=null&&u(r,g)))break;r=r[g]}return m||++a!=l?m:(l=r==null?0:r.length,!!l&&bc(l)&&dr(g,l)&&(J(r)||mi(r)))}function sx(r){var o=r.length,u=new r.constructor(o);return o&&typeof r[0]=="string"&&St.call(r,"index")&&(u.index=r.index,u.input=r.input),u}function zp(r){return typeof r.constructor=="function"&&!ys(r)?Vi(Gu(r)):{}}function ux(r,o,u){var a=r.constructor;switch(o){case is:return Vf(r);case Zo:case Vo:return new a(+r);case Ki:return KI(r,u);case of:case sf:case uf:case cf:case af:case ff:case lf:case df:case hf:return Ep(r,u);case wn:return new a;case ts:case ns:return new a(r);case es:return HI(r);case Sn:return new a;case Nu:return GI(r)}}function cx(r,o){var u=o.length;if(!u)return r;var a=u-1;return o[a]=(u>1?"& ":"")+o[a],o=o.join(u>2?", ":" "),r.replace(fS,`{
/* [wrapped with `+o+`] */
`)}function ax(r){return J(r)||mi(r)||!!(Vm&&r&&r[Vm])}function dr(r,o){var u=typeof r;return o=o??tn,!!o&&(u=="number"||u!="symbol"&&SS.test(r))&&r>-1&&r%1==0&&r<o}function Pe(r,o,u){if(!Tt(u))return!1;var a=typeof o;return(a=="number"?ke(u)&&dr(o,u.length):a=="string"&&o in u)?xn(u[o],r):!1}function ul(r,o){if(J(r))return!1;var u=typeof r;return u=="number"||u=="symbol"||u=="boolean"||r==null||We(r)?!0:sS.test(r)||!oS.test(r)||o!=null&&r in Pt(o)}function fx(r){var o=typeof r;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null}function cl(r){var o=lc(r),u=h[o];if(typeof u!="function"||!(o in lt.prototype))return!1;if(r===u)return!0;var a=il(u);return!!a&&r===a[0]}function lx(r){return!!Jm&&Jm in r}var dx=ju?hr:Fl;function ys(r){var o=r&&r.constructor,u=typeof o=="function"&&o.prototype||Xi;return r===u}function Jp(r){return r===r&&!Tt(r)}function Xp(r,o){return function(u){return u==null?!1:u[r]===o&&(o!==n||r in Pt(u))}}function hx(r){var o=yc(r,function(a){return u.size===y&&u.clear(),a}),u=o.cache;return o}function mx(r,o){var u=r[1],a=o[1],l=u|a,m=l<(tt|Ft|_e),g=a==_e&&u==ft||a==_e&&u==Qt&&r[7].length<=o[8]||a==(_e|Qt)&&o[7].length<=o[8]&&u==ft;if(!(m||g))return r;a&tt&&(r[2]=o[2],l|=u&tt?0:pt);var b=o[3];if(b){var S=r[3];r[3]=S?vp(S,b,o[4]):b,r[4]=S?Nr(r[3],M):o[4]}return b=o[5],b&&(S=r[5],r[5]=S?Np(S,b,o[6]):b,r[6]=S?Nr(r[5],M):o[6]),b=o[7],b&&(r[7]=b),a&_e&&(r[8]=r[8]==null?o[8]:Se(r[8],o[8])),r[9]==null&&(r[9]=o[9]),r[0]=o[0],r[1]=l,r}function px(r){var o=[];if(r!=null)for(var u in Pt(r))o.push(u);return o}function gx(r){return Wu.call(r)}function Qp(r,o,u){return o=Vt(o===n?r.length-1:o,0),function(){for(var a=arguments,l=-1,m=Vt(a.length-o,0),g=O(m);++l<m;)g[l]=a[o+l];l=-1;for(var b=O(o+1);++l<o;)b[l]=a[l];return b[o]=u(g),Be(r,this,b)}}function Zp(r,o){return o.length<2?r:li(r,un(o,0,-1))}function yx(r,o){for(var u=r.length,a=Se(o.length,u),l=Ce(r);a--;){var m=o[a];r[a]=dr(m,u)?l[m]:n}return r}function al(r,o){if(!(o==="constructor"&&typeof r[o]=="function")&&o!="__proto__")return r[o]}var Vp=eg(Op),_s=vO||function(r,o){return ce.setTimeout(r,o)},fl=eg(BI);function tg(r,o,u){var a=o+"";return fl(r,cx(a,_x(ox(a),u)))}function eg(r){var o=0,u=0;return function(){var a=TO(),l=ef-(a-u);if(u=a,l>0){if(++o>=ir)return arguments[0]}else o=0;return r.apply(n,arguments)}}function hc(r,o){var u=-1,a=r.length,l=a-1;for(o=o===n?a:o;++u<o;){var m=Gf(u,l),g=r[m];r[m]=r[u],r[u]=g}return r.length=o,r}var ng=hx(function(r){var o=[];return r.charCodeAt(0)===46&&o.push(""),r.replace(uS,function(u,a,l,m){o.push(l?m.replace(pS,"$1"):a||u)}),o});function Hn(r){if(typeof r=="string"||We(r))return r;var o=r+"";return o=="0"&&1/r==-we?"-0":o}function hi(r){if(r!=null){try{return qu.call(r)}catch{}try{return r+""}catch{}}return""}function _x(r,o){return nn(Hw,function(u){var a="_."+u[0];o&u[1]&&!Lu(r,a)&&r.push(a)}),r.sort()}function rg(r){if(r instanceof lt)return r.clone();var o=new on(r.__wrapped__,r.__chain__);return o.__actions__=Ce(r.__actions__),o.__index__=r.__index__,o.__values__=r.__values__,o}function bx(r,o,u){(u?Pe(r,o,u):o===n)?o=1:o=Vt(Q(o),0);var a=r==null?0:r.length;if(!a||o<1)return[];for(var l=0,m=0,g=O(Ju(a/o));l<a;)g[m++]=un(r,l,l+=o);return g}function wx(r){for(var o=-1,u=r==null?0:r.length,a=0,l=[];++o<u;){var m=r[o];m&&(l[a++]=m)}return l}function Sx(){var r=arguments.length;if(!r)return[];for(var o=O(r-1),u=arguments[0],a=r;a--;)o[a-1]=arguments[a];return vr(J(u)?Ce(u):[u],ae(o,1))}var Ox=et(function(r,o){return Dt(r)?ds(r,ae(o,1,Dt,!0)):[]}),Ix=et(function(r,o){var u=cn(o);return Dt(u)&&(u=n),Dt(r)?ds(r,ae(o,1,Dt,!0),j(u,2)):[]}),xx=et(function(r,o){var u=cn(o);return Dt(u)&&(u=n),Dt(r)?ds(r,ae(o,1,Dt,!0),n,u):[]});function Fx(r,o,u){var a=r==null?0:r.length;return a?(o=u||o===n?1:Q(o),un(r,o<0?0:o,a)):[]}function $x(r,o,u){var a=r==null?0:r.length;return a?(o=u||o===n?1:Q(o),o=a-o,un(r,0,o<0?0:o)):[]}function Px(r,o){return r&&r.length?oc(r,j(o,3),!0,!0):[]}function Mx(r,o){return r&&r.length?oc(r,j(o,3),!0):[]}function Rx(r,o,u,a){var l=r==null?0:r.length;return l?(u&&typeof u!="number"&&Pe(r,o,u)&&(u=0,a=l),SI(r,o,u,a)):[]}function ig(r,o,u){var a=r==null?0:r.length;if(!a)return-1;var l=u==null?0:Q(u);return l<0&&(l=Vt(a+l,0)),Uu(r,j(o,3),l)}function og(r,o,u){var a=r==null?0:r.length;if(!a)return-1;var l=a-1;return u!==n&&(l=Q(u),l=u<0?Vt(a+l,0):Se(l,a-1)),Uu(r,j(o,3),l,!0)}function sg(r){var o=r==null?0:r.length;return o?ae(r,1):[]}function Ex(r){var o=r==null?0:r.length;return o?ae(r,we):[]}function Ax(r,o){var u=r==null?0:r.length;return u?(o=o===n?1:Q(o),ae(r,o)):[]}function vx(r){for(var o=-1,u=r==null?0:r.length,a={};++o<u;){var l=r[o];a[l[0]]=l[1]}return a}function ug(r){return r&&r.length?r[0]:n}function Nx(r,o,u){var a=r==null?0:r.length;if(!a)return-1;var l=u==null?0:Q(u);return l<0&&(l=Vt(a+l,0)),Gi(r,o,l)}function Cx(r){var o=r==null?0:r.length;return o?un(r,0,-1):[]}var kx=et(function(r){var o=Ct(r,Qf);return o.length&&o[0]===r[0]?jf(o):[]}),Tx=et(function(r){var o=cn(r),u=Ct(r,Qf);return o===cn(u)?o=n:u.pop(),u.length&&u[0]===r[0]?jf(u,j(o,2)):[]}),Lx=et(function(r){var o=cn(r),u=Ct(r,Qf);return o=typeof o=="function"?o:n,o&&u.pop(),u.length&&u[0]===r[0]?jf(u,n,o):[]});function Ux(r,o){return r==null?"":CO.call(r,o)}function cn(r){var o=r==null?0:r.length;return o?r[o-1]:n}function Dx(r,o,u){var a=r==null?0:r.length;if(!a)return-1;var l=a;return u!==n&&(l=Q(u),l=l<0?Vt(a+l,0):Se(l,a-1)),o===o?_O(r,o,l):Uu(r,jm,l,!0)}function Bx(r,o){return r&&r.length?_p(r,Q(o)):n}var jx=et(cg);function cg(r,o){return r&&r.length&&o&&o.length?Hf(r,o):r}function qx(r,o,u){return r&&r.length&&o&&o.length?Hf(r,o,j(u,2)):r}function Wx(r,o,u){return r&&r.length&&o&&o.length?Hf(r,o,n,u):r}var Kx=lr(function(r,o){var u=r==null?0:r.length,a=Lf(r,o);return Sp(r,Ct(o,function(l){return dr(l,u)?+l:l}).sort(Ap)),a});function Hx(r,o){var u=[];if(!(r&&r.length))return u;var a=-1,l=[],m=r.length;for(o=j(o,3);++a<m;){var g=r[a];o(g,a,r)&&(u.push(g),l.push(a))}return Sp(r,l),u}function ll(r){return r==null?r:UO.call(r)}function Gx(r,o,u){var a=r==null?0:r.length;return a?(u&&typeof u!="number"&&Pe(r,o,u)?(o=0,u=a):(o=o==null?0:Q(o),u=u===n?a:Q(u)),un(r,o,u)):[]}function Yx(r,o){return ic(r,o)}function zx(r,o,u){return zf(r,o,j(u,2))}function Jx(r,o){var u=r==null?0:r.length;if(u){var a=ic(r,o);if(a<u&&xn(r[a],o))return a}return-1}function Xx(r,o){return ic(r,o,!0)}function Qx(r,o,u){return zf(r,o,j(u,2),!0)}function Zx(r,o){var u=r==null?0:r.length;if(u){var a=ic(r,o,!0)-1;if(xn(r[a],o))return a}return-1}function Vx(r){return r&&r.length?Ip(r):[]}function tF(r,o){return r&&r.length?Ip(r,j(o,2)):[]}function eF(r){var o=r==null?0:r.length;return o?un(r,1,o):[]}function nF(r,o,u){return r&&r.length?(o=u||o===n?1:Q(o),un(r,0,o<0?0:o)):[]}function rF(r,o,u){var a=r==null?0:r.length;return a?(o=u||o===n?1:Q(o),o=a-o,un(r,o<0?0:o,a)):[]}function iF(r,o){return r&&r.length?oc(r,j(o,3),!1,!0):[]}function oF(r,o){return r&&r.length?oc(r,j(o,3)):[]}var sF=et(function(r){return Tr(ae(r,1,Dt,!0))}),uF=et(function(r){var o=cn(r);return Dt(o)&&(o=n),Tr(ae(r,1,Dt,!0),j(o,2))}),cF=et(function(r){var o=cn(r);return o=typeof o=="function"?o:n,Tr(ae(r,1,Dt,!0),n,o)});function aF(r){return r&&r.length?Tr(r):[]}function fF(r,o){return r&&r.length?Tr(r,j(o,2)):[]}function lF(r,o){return o=typeof o=="function"?o:n,r&&r.length?Tr(r,n,o):[]}function dl(r){if(!(r&&r.length))return[];var o=0;return r=Ar(r,function(u){if(Dt(u))return o=Vt(u.length,o),!0}),Rf(o,function(u){return Ct(r,$f(u))})}function ag(r,o){if(!(r&&r.length))return[];var u=dl(r);return o==null?u:Ct(u,function(a){return Be(o,n,a)})}var dF=et(function(r,o){return Dt(r)?ds(r,o):[]}),hF=et(function(r){return Xf(Ar(r,Dt))}),mF=et(function(r){var o=cn(r);return Dt(o)&&(o=n),Xf(Ar(r,Dt),j(o,2))}),pF=et(function(r){var o=cn(r);return o=typeof o=="function"?o:n,Xf(Ar(r,Dt),n,o)}),gF=et(dl);function yF(r,o){return Pp(r||[],o||[],ls)}function _F(r,o){return Pp(r||[],o||[],ps)}var bF=et(function(r){var o=r.length,u=o>1?r[o-1]:n;return u=typeof u=="function"?(r.pop(),u):n,ag(r,u)});function fg(r){var o=h(r);return o.__chain__=!0,o}function wF(r,o){return o(r),r}function mc(r,o){return o(r)}var SF=lr(function(r){var o=r.length,u=o?r[0]:0,a=this.__wrapped__,l=function(m){return Lf(m,r)};return o>1||this.__actions__.length||!(a instanceof lt)||!dr(u)?this.thru(l):(a=a.slice(u,+u+(o?1:0)),a.__actions__.push({func:mc,args:[l],thisArg:n}),new on(a,this.__chain__).thru(function(m){return o&&!m.length&&m.push(n),m}))});function OF(){return fg(this)}function IF(){return new on(this.value(),this.__chain__)}function xF(){this.__values__===n&&(this.__values__=xg(this.value()));var r=this.__index__>=this.__values__.length,o=r?n:this.__values__[this.__index__++];return{done:r,value:o}}function FF(){return this}function $F(r){for(var o,u=this;u instanceof Vu;){var a=rg(u);a.__index__=0,a.__values__=n,o?l.__wrapped__=a:o=a;var l=a;u=u.__wrapped__}return l.__wrapped__=r,o}function PF(){var r=this.__wrapped__;if(r instanceof lt){var o=r;return this.__actions__.length&&(o=new lt(this)),o=o.reverse(),o.__actions__.push({func:mc,args:[ll],thisArg:n}),new on(o,this.__chain__)}return this.thru(ll)}function MF(){return $p(this.__wrapped__,this.__actions__)}var RF=sc(function(r,o,u){St.call(r,u)?++r[u]:ar(r,u,1)});function EF(r,o,u){var a=J(r)?Dm:wI;return u&&Pe(r,o,u)&&(o=n),a(r,j(o,3))}function AF(r,o){var u=J(r)?Ar:ap;return u(r,j(o,3))}var vF=Lp(ig),NF=Lp(og);function CF(r,o){return ae(pc(r,o),1)}function kF(r,o){return ae(pc(r,o),we)}function TF(r,o,u){return u=u===n?1:Q(u),ae(pc(r,o),u)}function lg(r,o){var u=J(r)?nn:kr;return u(r,j(o,3))}function dg(r,o){var u=J(r)?eO:cp;return u(r,j(o,3))}var LF=sc(function(r,o,u){St.call(r,u)?r[u].push(o):ar(r,u,[o])});function UF(r,o,u,a){r=ke(r)?r:io(r),u=u&&!a?Q(u):0;var l=r.length;return u<0&&(u=Vt(l+u,0)),wc(r)?u<=l&&r.indexOf(o,u)>-1:!!l&&Gi(r,o,u)>-1}var DF=et(function(r,o,u){var a=-1,l=typeof o=="function",m=ke(r)?O(r.length):[];return kr(r,function(g){m[++a]=l?Be(o,g,u):hs(g,o,u)}),m}),BF=sc(function(r,o,u){ar(r,u,o)});function pc(r,o){var u=J(r)?Ct:pp;return u(r,j(o,3))}function jF(r,o,u,a){return r==null?[]:(J(o)||(o=o==null?[]:[o]),u=a?n:u,J(u)||(u=u==null?[]:[u]),bp(r,o,u))}var qF=sc(function(r,o,u){r[u?0:1].push(o)},function(){return[[],[]]});function WF(r,o,u){var a=J(r)?xf:Wm,l=arguments.length<3;return a(r,j(o,4),u,l,kr)}function KF(r,o,u){var a=J(r)?nO:Wm,l=arguments.length<3;return a(r,j(o,4),u,l,cp)}function HF(r,o){var u=J(r)?Ar:ap;return u(r,_c(j(o,3)))}function GF(r){var o=J(r)?ip:UI;return o(r)}function YF(r,o,u){(u?Pe(r,o,u):o===n)?o=1:o=Q(o);var a=J(r)?pI:DI;return a(r,o)}function zF(r){var o=J(r)?gI:jI;return o(r)}function JF(r){if(r==null)return 0;if(ke(r))return wc(r)?zi(r):r.length;var o=Oe(r);return o==wn||o==Sn?r.size:Wf(r).length}function XF(r,o,u){var a=J(r)?Ff:qI;return u&&Pe(r,o,u)&&(o=n),a(r,j(o,3))}var QF=et(function(r,o){if(r==null)return[];var u=o.length;return u>1&&Pe(r,o[0],o[1])?o=[]:u>2&&Pe(o[0],o[1],o[2])&&(o=[o[0]]),bp(r,ae(o,1),[])}),gc=AO||function(){return ce.Date.now()};function ZF(r,o){if(typeof o!="function")throw new rn(f);return r=Q(r),function(){if(--r<1)return o.apply(this,arguments)}}function hg(r,o,u){return o=u?n:o,o=r&&o==null?r.length:o,fr(r,_e,n,n,n,n,o)}function mg(r,o){var u;if(typeof o!="function")throw new rn(f);return r=Q(r),function(){return--r>0&&(u=o.apply(this,arguments)),r<=1&&(o=n),u}}var hl=et(function(r,o,u){var a=tt;if(u.length){var l=Nr(u,no(hl));a|=Ht}return fr(r,a,o,u,l)}),pg=et(function(r,o,u){var a=tt|Ft;if(u.length){var l=Nr(u,no(pg));a|=Ht}return fr(o,a,r,u,l)});function gg(r,o,u){o=u?n:o;var a=fr(r,ft,n,n,n,n,n,o);return a.placeholder=gg.placeholder,a}function yg(r,o,u){o=u?n:o;var a=fr(r,Xt,n,n,n,n,n,o);return a.placeholder=yg.placeholder,a}function _g(r,o,u){var a,l,m,g,b,S,R=0,E=!1,v=!1,k=!0;if(typeof r!="function")throw new rn(f);o=an(o)||0,Tt(u)&&(E=!!u.leading,v="maxWait"in u,m=v?Vt(an(u.maxWait)||0,o):m,k="trailing"in u?!!u.trailing:k);function D(Bt){var Fn=a,pr=l;return a=l=n,R=Bt,g=r.apply(pr,Fn),g}function q(Bt){return R=Bt,b=_s(it,o),E?D(Bt):g}function V(Bt){var Fn=Bt-S,pr=Bt-R,Lg=o-Fn;return v?Se(Lg,m-pr):Lg}function W(Bt){var Fn=Bt-S,pr=Bt-R;return S===n||Fn>=o||Fn<0||v&&pr>=m}function it(){var Bt=gc();if(W(Bt))return dt(Bt);b=_s(it,V(Bt))}function dt(Bt){return b=n,k&&a?D(Bt):(a=l=n,g)}function Ke(){b!==n&&Mp(b),R=0,a=S=l=b=n}function Me(){return b===n?g:dt(gc())}function He(){var Bt=gc(),Fn=W(Bt);if(a=arguments,l=this,S=Bt,Fn){if(b===n)return q(S);if(v)return Mp(b),b=_s(it,o),D(S)}return b===n&&(b=_s(it,o)),g}return He.cancel=Ke,He.flush=Me,He}var VF=et(function(r,o){return up(r,1,o)}),t$=et(function(r,o,u){return up(r,an(o)||0,u)});function e$(r){return fr(r,be)}function yc(r,o){if(typeof r!="function"||o!=null&&typeof o!="function")throw new rn(f);var u=function(){var a=arguments,l=o?o.apply(this,a):a[0],m=u.cache;if(m.has(l))return m.get(l);var g=r.apply(this,a);return u.cache=m.set(l,g)||m,g};return u.cache=new(yc.Cache||cr),u}yc.Cache=cr;function _c(r){if(typeof r!="function")throw new rn(f);return function(){var o=arguments;switch(o.length){case 0:return!r.call(this);case 1:return!r.call(this,o[0]);case 2:return!r.call(this,o[0],o[1]);case 3:return!r.call(this,o[0],o[1],o[2])}return!r.apply(this,o)}}function n$(r){return mg(2,r)}var r$=WI(function(r,o){o=o.length==1&&J(o[0])?Ct(o[0],je(j())):Ct(ae(o,1),je(j()));var u=o.length;return et(function(a){for(var l=-1,m=Se(a.length,u);++l<m;)a[l]=o[l].call(this,a[l]);return Be(r,this,a)})}),ml=et(function(r,o){var u=Nr(o,no(ml));return fr(r,Ht,n,o,u)}),bg=et(function(r,o){var u=Nr(o,no(bg));return fr(r,_n,n,o,u)}),i$=lr(function(r,o){return fr(r,Qt,n,n,n,o)});function o$(r,o){if(typeof r!="function")throw new rn(f);return o=o===n?o:Q(o),et(r,o)}function s$(r,o){if(typeof r!="function")throw new rn(f);return o=o==null?0:Vt(Q(o),0),et(function(u){var a=u[o],l=Ur(u,0,o);return a&&vr(l,a),Be(r,this,l)})}function u$(r,o,u){var a=!0,l=!0;if(typeof r!="function")throw new rn(f);return Tt(u)&&(a="leading"in u?!!u.leading:a,l="trailing"in u?!!u.trailing:l),_g(r,o,{leading:a,maxWait:o,trailing:l})}function c$(r){return hg(r,1)}function a$(r,o){return ml(Zf(o),r)}function f$(){if(!arguments.length)return[];var r=arguments[0];return J(r)?r:[r]}function l$(r){return sn(r,C)}function d$(r,o){return o=typeof o=="function"?o:n,sn(r,C,o)}function h$(r){return sn(r,A|C)}function m$(r,o){return o=typeof o=="function"?o:n,sn(r,A|C,o)}function p$(r,o){return o==null||sp(r,o,ne(o))}function xn(r,o){return r===o||r!==r&&o!==o}var g$=fc(Bf),y$=fc(function(r,o){return r>=o}),mi=dp(function(){return arguments}())?dp:function(r){return Ut(r)&&St.call(r,"callee")&&!Zm.call(r,"callee")},J=O.isArray,_$=Nm?je(Nm):$I;function ke(r){return r!=null&&bc(r.length)&&!hr(r)}function Dt(r){return Ut(r)&&ke(r)}function b$(r){return r===!0||r===!1||Ut(r)&&$e(r)==Zo}var Dr=NO||Fl,w$=Cm?je(Cm):PI;function S$(r){return Ut(r)&&r.nodeType===1&&!bs(r)}function O$(r){if(r==null)return!0;if(ke(r)&&(J(r)||typeof r=="string"||typeof r.splice=="function"||Dr(r)||ro(r)||mi(r)))return!r.length;var o=Oe(r);if(o==wn||o==Sn)return!r.size;if(ys(r))return!Wf(r).length;for(var u in r)if(St.call(r,u))return!1;return!0}function I$(r,o){return ms(r,o)}function x$(r,o,u){u=typeof u=="function"?u:n;var a=u?u(r,o):n;return a===n?ms(r,o,n,u):!!a}function pl(r){if(!Ut(r))return!1;var o=$e(r);return o==Au||o==Yw||typeof r.message=="string"&&typeof r.name=="string"&&!bs(r)}function F$(r){return typeof r=="number"&&tp(r)}function hr(r){if(!Tt(r))return!1;var o=$e(r);return o==vu||o==um||o==Gw||o==Jw}function wg(r){return typeof r=="number"&&r==Q(r)}function bc(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=tn}function Tt(r){var o=typeof r;return r!=null&&(o=="object"||o=="function")}function Ut(r){return r!=null&&typeof r=="object"}var Sg=km?je(km):RI;function $$(r,o){return r===o||qf(r,o,ol(o))}function P$(r,o,u){return u=typeof u=="function"?u:n,qf(r,o,ol(o),u)}function M$(r){return Og(r)&&r!=+r}function R$(r){if(dx(r))throw new Y(c);return hp(r)}function E$(r){return r===null}function A$(r){return r==null}function Og(r){return typeof r=="number"||Ut(r)&&$e(r)==ts}function bs(r){if(!Ut(r)||$e(r)!=sr)return!1;var o=Gu(r);if(o===null)return!0;var u=St.call(o,"constructor")&&o.constructor;return typeof u=="function"&&u instanceof u&&qu.call(u)==PO}var gl=Tm?je(Tm):EI;function v$(r){return wg(r)&&r>=-tn&&r<=tn}var Ig=Lm?je(Lm):AI;function wc(r){return typeof r=="string"||!J(r)&&Ut(r)&&$e(r)==ns}function We(r){return typeof r=="symbol"||Ut(r)&&$e(r)==Nu}var ro=Um?je(Um):vI;function N$(r){return r===n}function C$(r){return Ut(r)&&Oe(r)==rs}function k$(r){return Ut(r)&&$e(r)==Qw}var T$=fc(Kf),L$=fc(function(r,o){return r<=o});function xg(r){if(!r)return[];if(ke(r))return wc(r)?On(r):Ce(r);if(ss&&r[ss])return pO(r[ss]());var o=Oe(r),u=o==wn?Af:o==Sn?Du:io;return u(r)}function mr(r){if(!r)return r===0?r:0;if(r=an(r),r===we||r===-we){var o=r<0?-1:1;return o*rf}return r===r?r:0}function Q(r){var o=mr(r),u=o%1;return o===o?u?o-u:o:0}function Fg(r){return r?fi(Q(r),0,qn):0}function an(r){if(typeof r=="number")return r;if(We(r))return jn;if(Tt(r)){var o=typeof r.valueOf=="function"?r.valueOf():r;r=Tt(o)?o+"":o}if(typeof r!="string")return r===0?r:+r;r=Km(r);var u=_S.test(r);return u||wS.test(r)?ZS(r.slice(2),u?2:8):yS.test(r)?jn:+r}function $g(r){return Kn(r,Te(r))}function U$(r){return r?fi(Q(r),-tn,tn):r===0?r:0}function wt(r){return r==null?"":qe(r)}var D$=to(function(r,o){if(ys(o)||ke(o)){Kn(o,ne(o),r);return}for(var u in o)St.call(o,u)&&ls(r,u,o[u])}),Pg=to(function(r,o){Kn(o,Te(o),r)}),Sc=to(function(r,o,u,a){Kn(o,Te(o),r,a)}),B$=to(function(r,o,u,a){Kn(o,ne(o),r,a)}),j$=lr(Lf);function q$(r,o){var u=Vi(r);return o==null?u:op(u,o)}var W$=et(function(r,o){r=Pt(r);var u=-1,a=o.length,l=a>2?o[2]:n;for(l&&Pe(o[0],o[1],l)&&(a=1);++u<a;)for(var m=o[u],g=Te(m),b=-1,S=g.length;++b<S;){var R=g[b],E=r[R];(E===n||xn(E,Xi[R])&&!St.call(r,R))&&(r[R]=m[R])}return r}),K$=et(function(r){return r.push(n,Kp),Be(Mg,n,r)});function H$(r,o){return Bm(r,j(o,3),Wn)}function G$(r,o){return Bm(r,j(o,3),Df)}function Y$(r,o){return r==null?r:Uf(r,j(o,3),Te)}function z$(r,o){return r==null?r:fp(r,j(o,3),Te)}function J$(r,o){return r&&Wn(r,j(o,3))}function X$(r,o){return r&&Df(r,j(o,3))}function Q$(r){return r==null?[]:nc(r,ne(r))}function Z$(r){return r==null?[]:nc(r,Te(r))}function yl(r,o,u){var a=r==null?n:li(r,o);return a===n?u:a}function V$(r,o){return r!=null&&Yp(r,o,OI)}function _l(r,o){return r!=null&&Yp(r,o,II)}var tP=Dp(function(r,o,u){o!=null&&typeof o.toString!="function"&&(o=Wu.call(o)),r[o]=u},wl(Le)),eP=Dp(function(r,o,u){o!=null&&typeof o.toString!="function"&&(o=Wu.call(o)),St.call(r,o)?r[o].push(u):r[o]=[u]},j),nP=et(hs);function ne(r){return ke(r)?rp(r):Wf(r)}function Te(r){return ke(r)?rp(r,!0):NI(r)}function rP(r,o){var u={};return o=j(o,3),Wn(r,function(a,l,m){ar(u,o(a,l,m),a)}),u}function iP(r,o){var u={};return o=j(o,3),Wn(r,function(a,l,m){ar(u,l,o(a,l,m))}),u}var oP=to(function(r,o,u){rc(r,o,u)}),Mg=to(function(r,o,u,a){rc(r,o,u,a)}),sP=lr(function(r,o){var u={};if(r==null)return u;var a=!1;o=Ct(o,function(m){return m=Lr(m,r),a||(a=m.length>1),m}),Kn(r,rl(r),u),a&&(u=sn(u,A|N|C,tx));for(var l=o.length;l--;)Jf(u,o[l]);return u});function uP(r,o){return Rg(r,_c(j(o)))}var cP=lr(function(r,o){return r==null?{}:kI(r,o)});function Rg(r,o){if(r==null)return{};var u=Ct(rl(r),function(a){return[a]});return o=j(o),wp(r,u,function(a,l){return o(a,l[0])})}function aP(r,o,u){o=Lr(o,r);var a=-1,l=o.length;for(l||(l=1,r=n);++a<l;){var m=r==null?n:r[Hn(o[a])];m===n&&(a=l,m=u),r=hr(m)?m.call(r):m}return r}function fP(r,o,u){return r==null?r:ps(r,o,u)}function lP(r,o,u,a){return a=typeof a=="function"?a:n,r==null?r:ps(r,o,u,a)}var Eg=qp(ne),Ag=qp(Te);function dP(r,o,u){var a=J(r),l=a||Dr(r)||ro(r);if(o=j(o,4),u==null){var m=r&&r.constructor;l?u=a?new m:[]:Tt(r)?u=hr(m)?Vi(Gu(r)):{}:u={}}return(l?nn:Wn)(r,function(g,b,S){return o(u,g,b,S)}),u}function hP(r,o){return r==null?!0:Jf(r,o)}function mP(r,o,u){return r==null?r:Fp(r,o,Zf(u))}function pP(r,o,u,a){return a=typeof a=="function"?a:n,r==null?r:Fp(r,o,Zf(u),a)}function io(r){return r==null?[]:Ef(r,ne(r))}function gP(r){return r==null?[]:Ef(r,Te(r))}function yP(r,o,u){return u===n&&(u=o,o=n),u!==n&&(u=an(u),u=u===u?u:0),o!==n&&(o=an(o),o=o===o?o:0),fi(an(r),o,u)}function _P(r,o,u){return o=mr(o),u===n?(u=o,o=0):u=mr(u),r=an(r),xI(r,o,u)}function bP(r,o,u){if(u&&typeof u!="boolean"&&Pe(r,o,u)&&(o=u=n),u===n&&(typeof o=="boolean"?(u=o,o=n):typeof r=="boolean"&&(u=r,r=n)),r===n&&o===n?(r=0,o=1):(r=mr(r),o===n?(o=r,r=0):o=mr(o)),r>o){var a=r;r=o,o=a}if(u||r%1||o%1){var l=ep();return Se(r+l*(o-r+QS("1e-"+((l+"").length-1))),o)}return Gf(r,o)}var wP=eo(function(r,o,u){return o=o.toLowerCase(),r+(u?vg(o):o)});function vg(r){return bl(wt(r).toLowerCase())}function Ng(r){return r=wt(r),r&&r.replace(OS,fO).replace(jS,"")}function SP(r,o,u){r=wt(r),o=qe(o);var a=r.length;u=u===n?a:fi(Q(u),0,a);var l=u;return u-=o.length,u>=0&&r.slice(u,l)==o}function OP(r){return r=wt(r),r&&nS.test(r)?r.replace(fm,lO):r}function IP(r){return r=wt(r),r&&cS.test(r)?r.replace(mf,"\\$&"):r}var xP=eo(function(r,o,u){return r+(u?"-":"")+o.toLowerCase()}),FP=eo(function(r,o,u){return r+(u?" ":"")+o.toLowerCase()}),$P=Tp("toLowerCase");function PP(r,o,u){r=wt(r),o=Q(o);var a=o?zi(r):0;if(!o||a>=o)return r;var l=(o-a)/2;return ac(Xu(l),u)+r+ac(Ju(l),u)}function MP(r,o,u){r=wt(r),o=Q(o);var a=o?zi(r):0;return o&&a<o?r+ac(o-a,u):r}function RP(r,o,u){r=wt(r),o=Q(o);var a=o?zi(r):0;return o&&a<o?ac(o-a,u)+r:r}function EP(r,o,u){return u||o==null?o=0:o&&(o=+o),LO(wt(r).replace(pf,""),o||0)}function AP(r,o,u){return(u?Pe(r,o,u):o===n)?o=1:o=Q(o),Yf(wt(r),o)}function vP(){var r=arguments,o=wt(r[0]);return r.length<3?o:o.replace(r[1],r[2])}var NP=eo(function(r,o,u){return r+(u?"_":"")+o.toLowerCase()});function CP(r,o,u){return u&&typeof u!="number"&&Pe(r,o,u)&&(o=u=n),u=u===n?qn:u>>>0,u?(r=wt(r),r&&(typeof o=="string"||o!=null&&!gl(o))&&(o=qe(o),!o&&Yi(r))?Ur(On(r),0,u):r.split(o,u)):[]}var kP=eo(function(r,o,u){return r+(u?" ":"")+bl(o)});function TP(r,o,u){return r=wt(r),u=u==null?0:fi(Q(u),0,r.length),o=qe(o),r.slice(u,u+o.length)==o}function LP(r,o,u){var a=h.templateSettings;u&&Pe(r,o,u)&&(o=n),r=wt(r),o=Sc({},o,a,Wp);var l=Sc({},o.imports,a.imports,Wp),m=ne(l),g=Ef(l,m),b,S,R=0,E=o.interpolate||Cu,v="__p += '",k=vf((o.escape||Cu).source+"|"+E.source+"|"+(E===lm?gS:Cu).source+"|"+(o.evaluate||Cu).source+"|$","g"),D="//# sourceURL="+(St.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++GS+"]")+`
`;r.replace(k,function(W,it,dt,Ke,Me,He){return dt||(dt=Ke),v+=r.slice(R,He).replace(IS,dO),it&&(b=!0,v+=`' +
__e(`+it+`) +
'`),Me&&(S=!0,v+=`';
`+Me+`;
__p += '`),dt&&(v+=`' +
((__t = (`+dt+`)) == null ? '' : __t) +
'`),R=He+W.length,W}),v+=`';
`;var q=St.call(o,"variable")&&o.variable;if(!q)v=`with (obj) {
`+v+`
}
`;else if(mS.test(q))throw new Y(d);v=(S?v.replace(Zw,""):v).replace(Vw,"$1").replace(tS,"$1;"),v="function("+(q||"obj")+`) {
`+(q?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(S?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+v+`return __p
}`;var V=kg(function(){return yt(m,D+"return "+v).apply(n,g)});if(V.source=v,pl(V))throw V;return V}function UP(r){return wt(r).toLowerCase()}function DP(r){return wt(r).toUpperCase()}function BP(r,o,u){if(r=wt(r),r&&(u||o===n))return Km(r);if(!r||!(o=qe(o)))return r;var a=On(r),l=On(o),m=Hm(a,l),g=Gm(a,l)+1;return Ur(a,m,g).join("")}function jP(r,o,u){if(r=wt(r),r&&(u||o===n))return r.slice(0,zm(r)+1);if(!r||!(o=qe(o)))return r;var a=On(r),l=Gm(a,On(o))+1;return Ur(a,0,l).join("")}function qP(r,o,u){if(r=wt(r),r&&(u||o===n))return r.replace(pf,"");if(!r||!(o=qe(o)))return r;var a=On(r),l=Hm(a,On(o));return Ur(a,l).join("")}function WP(r,o){var u=Bn,a=bn;if(Tt(o)){var l="separator"in o?o.separator:l;u="length"in o?Q(o.length):u,a="omission"in o?qe(o.omission):a}r=wt(r);var m=r.length;if(Yi(r)){var g=On(r);m=g.length}if(u>=m)return r;var b=u-zi(a);if(b<1)return a;var S=g?Ur(g,0,b).join(""):r.slice(0,b);if(l===n)return S+a;if(g&&(b+=S.length-b),gl(l)){if(r.slice(b).search(l)){var R,E=S;for(l.global||(l=vf(l.source,wt(dm.exec(l))+"g")),l.lastIndex=0;R=l.exec(E);)var v=R.index;S=S.slice(0,v===n?b:v)}}else if(r.indexOf(qe(l),b)!=b){var k=S.lastIndexOf(l);k>-1&&(S=S.slice(0,k))}return S+a}function KP(r){return r=wt(r),r&&eS.test(r)?r.replace(am,bO):r}var HP=eo(function(r,o,u){return r+(u?" ":"")+o.toUpperCase()}),bl=Tp("toUpperCase");function Cg(r,o,u){return r=wt(r),o=u?n:o,o===n?mO(r)?OO(r):oO(r):r.match(o)||[]}var kg=et(function(r,o){try{return Be(r,n,o)}catch(u){return pl(u)?u:new Y(u)}}),GP=lr(function(r,o){return nn(o,function(u){u=Hn(u),ar(r,u,hl(r[u],r))}),r});function YP(r){var o=r==null?0:r.length,u=j();return r=o?Ct(r,function(a){if(typeof a[1]!="function")throw new rn(f);return[u(a[0]),a[1]]}):[],et(function(a){for(var l=-1;++l<o;){var m=r[l];if(Be(m[0],this,a))return Be(m[1],this,a)}})}function zP(r){return bI(sn(r,A))}function wl(r){return function(){return r}}function JP(r,o){return r==null||r!==r?o:r}var XP=Up(),QP=Up(!0);function Le(r){return r}function Sl(r){return mp(typeof r=="function"?r:sn(r,A))}function ZP(r){return gp(sn(r,A))}function VP(r,o){return yp(r,sn(o,A))}var tM=et(function(r,o){return function(u){return hs(u,r,o)}}),eM=et(function(r,o){return function(u){return hs(r,u,o)}});function Ol(r,o,u){var a=ne(o),l=nc(o,a);u==null&&!(Tt(o)&&(l.length||!a.length))&&(u=o,o=r,r=this,l=nc(o,ne(o)));var m=!(Tt(u)&&"chain"in u)||!!u.chain,g=hr(r);return nn(l,function(b){var S=o[b];r[b]=S,g&&(r.prototype[b]=function(){var R=this.__chain__;if(m||R){var E=r(this.__wrapped__),v=E.__actions__=Ce(this.__actions__);return v.push({func:S,args:arguments,thisArg:r}),E.__chain__=R,E}return S.apply(r,vr([this.value()],arguments))})}),r}function nM(){return ce._===this&&(ce._=MO),this}function Il(){}function rM(r){return r=Q(r),et(function(o){return _p(o,r)})}var iM=tl(Ct),oM=tl(Dm),sM=tl(Ff);function Tg(r){return ul(r)?$f(Hn(r)):TI(r)}function uM(r){return function(o){return r==null?n:li(r,o)}}var cM=Bp(),aM=Bp(!0);function xl(){return[]}function Fl(){return!1}function fM(){return{}}function lM(){return""}function dM(){return!0}function hM(r,o){if(r=Q(r),r<1||r>tn)return[];var u=qn,a=Se(r,qn);o=j(o),r-=qn;for(var l=Rf(a,o);++u<r;)o(u);return l}function mM(r){return J(r)?Ct(r,Hn):We(r)?[r]:Ce(ng(wt(r)))}function pM(r){var o=++$O;return wt(r)+o}var gM=cc(function(r,o){return r+o},0),yM=el("ceil"),_M=cc(function(r,o){return r/o},1),bM=el("floor");function wM(r){return r&&r.length?ec(r,Le,Bf):n}function SM(r,o){return r&&r.length?ec(r,j(o,2),Bf):n}function OM(r){return qm(r,Le)}function IM(r,o){return qm(r,j(o,2))}function xM(r){return r&&r.length?ec(r,Le,Kf):n}function FM(r,o){return r&&r.length?ec(r,j(o,2),Kf):n}var $M=cc(function(r,o){return r*o},1),PM=el("round"),MM=cc(function(r,o){return r-o},0);function RM(r){return r&&r.length?Mf(r,Le):0}function EM(r,o){return r&&r.length?Mf(r,j(o,2)):0}return h.after=ZF,h.ary=hg,h.assign=D$,h.assignIn=Pg,h.assignInWith=Sc,h.assignWith=B$,h.at=j$,h.before=mg,h.bind=hl,h.bindAll=GP,h.bindKey=pg,h.castArray=f$,h.chain=fg,h.chunk=bx,h.compact=wx,h.concat=Sx,h.cond=YP,h.conforms=zP,h.constant=wl,h.countBy=RF,h.create=q$,h.curry=gg,h.curryRight=yg,h.debounce=_g,h.defaults=W$,h.defaultsDeep=K$,h.defer=VF,h.delay=t$,h.difference=Ox,h.differenceBy=Ix,h.differenceWith=xx,h.drop=Fx,h.dropRight=$x,h.dropRightWhile=Px,h.dropWhile=Mx,h.fill=Rx,h.filter=AF,h.flatMap=CF,h.flatMapDeep=kF,h.flatMapDepth=TF,h.flatten=sg,h.flattenDeep=Ex,h.flattenDepth=Ax,h.flip=e$,h.flow=XP,h.flowRight=QP,h.fromPairs=vx,h.functions=Q$,h.functionsIn=Z$,h.groupBy=LF,h.initial=Cx,h.intersection=kx,h.intersectionBy=Tx,h.intersectionWith=Lx,h.invert=tP,h.invertBy=eP,h.invokeMap=DF,h.iteratee=Sl,h.keyBy=BF,h.keys=ne,h.keysIn=Te,h.map=pc,h.mapKeys=rP,h.mapValues=iP,h.matches=ZP,h.matchesProperty=VP,h.memoize=yc,h.merge=oP,h.mergeWith=Mg,h.method=tM,h.methodOf=eM,h.mixin=Ol,h.negate=_c,h.nthArg=rM,h.omit=sP,h.omitBy=uP,h.once=n$,h.orderBy=jF,h.over=iM,h.overArgs=r$,h.overEvery=oM,h.overSome=sM,h.partial=ml,h.partialRight=bg,h.partition=qF,h.pick=cP,h.pickBy=Rg,h.property=Tg,h.propertyOf=uM,h.pull=jx,h.pullAll=cg,h.pullAllBy=qx,h.pullAllWith=Wx,h.pullAt=Kx,h.range=cM,h.rangeRight=aM,h.rearg=i$,h.reject=HF,h.remove=Hx,h.rest=o$,h.reverse=ll,h.sampleSize=YF,h.set=fP,h.setWith=lP,h.shuffle=zF,h.slice=Gx,h.sortBy=QF,h.sortedUniq=Vx,h.sortedUniqBy=tF,h.split=CP,h.spread=s$,h.tail=eF,h.take=nF,h.takeRight=rF,h.takeRightWhile=iF,h.takeWhile=oF,h.tap=wF,h.throttle=u$,h.thru=mc,h.toArray=xg,h.toPairs=Eg,h.toPairsIn=Ag,h.toPath=mM,h.toPlainObject=$g,h.transform=dP,h.unary=c$,h.union=sF,h.unionBy=uF,h.unionWith=cF,h.uniq=aF,h.uniqBy=fF,h.uniqWith=lF,h.unset=hP,h.unzip=dl,h.unzipWith=ag,h.update=mP,h.updateWith=pP,h.values=io,h.valuesIn=gP,h.without=dF,h.words=Cg,h.wrap=a$,h.xor=hF,h.xorBy=mF,h.xorWith=pF,h.zip=gF,h.zipObject=yF,h.zipObjectDeep=_F,h.zipWith=bF,h.entries=Eg,h.entriesIn=Ag,h.extend=Pg,h.extendWith=Sc,Ol(h,h),h.add=gM,h.attempt=kg,h.camelCase=wP,h.capitalize=vg,h.ceil=yM,h.clamp=yP,h.clone=l$,h.cloneDeep=h$,h.cloneDeepWith=m$,h.cloneWith=d$,h.conformsTo=p$,h.deburr=Ng,h.defaultTo=JP,h.divide=_M,h.endsWith=SP,h.eq=xn,h.escape=OP,h.escapeRegExp=IP,h.every=EF,h.find=vF,h.findIndex=ig,h.findKey=H$,h.findLast=NF,h.findLastIndex=og,h.findLastKey=G$,h.floor=bM,h.forEach=lg,h.forEachRight=dg,h.forIn=Y$,h.forInRight=z$,h.forOwn=J$,h.forOwnRight=X$,h.get=yl,h.gt=g$,h.gte=y$,h.has=V$,h.hasIn=_l,h.head=ug,h.identity=Le,h.includes=UF,h.indexOf=Nx,h.inRange=_P,h.invoke=nP,h.isArguments=mi,h.isArray=J,h.isArrayBuffer=_$,h.isArrayLike=ke,h.isArrayLikeObject=Dt,h.isBoolean=b$,h.isBuffer=Dr,h.isDate=w$,h.isElement=S$,h.isEmpty=O$,h.isEqual=I$,h.isEqualWith=x$,h.isError=pl,h.isFinite=F$,h.isFunction=hr,h.isInteger=wg,h.isLength=bc,h.isMap=Sg,h.isMatch=$$,h.isMatchWith=P$,h.isNaN=M$,h.isNative=R$,h.isNil=A$,h.isNull=E$,h.isNumber=Og,h.isObject=Tt,h.isObjectLike=Ut,h.isPlainObject=bs,h.isRegExp=gl,h.isSafeInteger=v$,h.isSet=Ig,h.isString=wc,h.isSymbol=We,h.isTypedArray=ro,h.isUndefined=N$,h.isWeakMap=C$,h.isWeakSet=k$,h.join=Ux,h.kebabCase=xP,h.last=cn,h.lastIndexOf=Dx,h.lowerCase=FP,h.lowerFirst=$P,h.lt=T$,h.lte=L$,h.max=wM,h.maxBy=SM,h.mean=OM,h.meanBy=IM,h.min=xM,h.minBy=FM,h.stubArray=xl,h.stubFalse=Fl,h.stubObject=fM,h.stubString=lM,h.stubTrue=dM,h.multiply=$M,h.nth=Bx,h.noConflict=nM,h.noop=Il,h.now=gc,h.pad=PP,h.padEnd=MP,h.padStart=RP,h.parseInt=EP,h.random=bP,h.reduce=WF,h.reduceRight=KF,h.repeat=AP,h.replace=vP,h.result=aP,h.round=PM,h.runInContext=w,h.sample=GF,h.size=JF,h.snakeCase=NP,h.some=XF,h.sortedIndex=Yx,h.sortedIndexBy=zx,h.sortedIndexOf=Jx,h.sortedLastIndex=Xx,h.sortedLastIndexBy=Qx,h.sortedLastIndexOf=Zx,h.startCase=kP,h.startsWith=TP,h.subtract=MM,h.sum=RM,h.sumBy=EM,h.template=LP,h.times=hM,h.toFinite=mr,h.toInteger=Q,h.toLength=Fg,h.toLower=UP,h.toNumber=an,h.toSafeInteger=U$,h.toString=wt,h.toUpper=DP,h.trim=BP,h.trimEnd=jP,h.trimStart=qP,h.truncate=WP,h.unescape=KP,h.uniqueId=pM,h.upperCase=HP,h.upperFirst=bl,h.each=lg,h.eachRight=dg,h.first=ug,Ol(h,function(){var r={};return Wn(h,function(o,u){St.call(h.prototype,u)||(r[u]=o)}),r}(),{chain:!1}),h.VERSION=i,nn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){h[r].placeholder=h}),nn(["drop","take"],function(r,o){lt.prototype[r]=function(u){u=u===n?1:Vt(Q(u),0);var a=this.__filtered__&&!o?new lt(this):this.clone();return a.__filtered__?a.__takeCount__=Se(u,a.__takeCount__):a.__views__.push({size:Se(u,qn),type:r+(a.__dir__<0?"Right":"")}),a},lt.prototype[r+"Right"]=function(u){return this.reverse()[r](u).reverse()}}),nn(["filter","map","takeWhile"],function(r,o){var u=o+1,a=u==Qo||u==or;lt.prototype[r]=function(l){var m=this.clone();return m.__iteratees__.push({iteratee:j(l,3),type:u}),m.__filtered__=m.__filtered__||a,m}}),nn(["head","last"],function(r,o){var u="take"+(o?"Right":"");lt.prototype[r]=function(){return this[u](1).value()[0]}}),nn(["initial","tail"],function(r,o){var u="drop"+(o?"":"Right");lt.prototype[r]=function(){return this.__filtered__?new lt(this):this[u](1)}}),lt.prototype.compact=function(){return this.filter(Le)},lt.prototype.find=function(r){return this.filter(r).head()},lt.prototype.findLast=function(r){return this.reverse().find(r)},lt.prototype.invokeMap=et(function(r,o){return typeof r=="function"?new lt(this):this.map(function(u){return hs(u,r,o)})}),lt.prototype.reject=function(r){return this.filter(_c(j(r)))},lt.prototype.slice=function(r,o){r=Q(r);var u=this;return u.__filtered__&&(r>0||o<0)?new lt(u):(r<0?u=u.takeRight(-r):r&&(u=u.drop(r)),o!==n&&(o=Q(o),u=o<0?u.dropRight(-o):u.take(o-r)),u)},lt.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},lt.prototype.toArray=function(){return this.take(qn)},Wn(lt.prototype,function(r,o){var u=/^(?:filter|find|map|reject)|While$/.test(o),a=/^(?:head|last)$/.test(o),l=h[a?"take"+(o=="last"?"Right":""):o],m=a||/^find/.test(o);l&&(h.prototype[o]=function(){var g=this.__wrapped__,b=a?[1]:arguments,S=g instanceof lt,R=b[0],E=S||J(g),v=function(it){var dt=l.apply(h,vr([it],b));return a&&k?dt[0]:dt};E&&u&&typeof R=="function"&&R.length!=1&&(S=E=!1);var k=this.__chain__,D=!!this.__actions__.length,q=m&&!k,V=S&&!D;if(!m&&E){g=V?g:new lt(this);var W=r.apply(g,b);return W.__actions__.push({func:mc,args:[v],thisArg:n}),new on(W,k)}return q&&V?r.apply(this,b):(W=this.thru(v),q?a?W.value()[0]:W.value():W)})}),nn(["pop","push","shift","sort","splice","unshift"],function(r){var o=Bu[r],u=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",a=/^(?:pop|shift)$/.test(r);h.prototype[r]=function(){var l=arguments;if(a&&!this.__chain__){var m=this.value();return o.apply(J(m)?m:[],l)}return this[u](function(g){return o.apply(J(g)?g:[],l)})}}),Wn(lt.prototype,function(r,o){var u=h[o];if(u){var a=u.name+"";St.call(Zi,a)||(Zi[a]=[]),Zi[a].push({name:o,func:u})}}),Zi[uc(n,Ft).name]=[{name:"wrapper",func:n}],lt.prototype.clone=KO,lt.prototype.reverse=HO,lt.prototype.value=GO,h.prototype.at=SF,h.prototype.chain=OF,h.prototype.commit=IF,h.prototype.next=xF,h.prototype.plant=$F,h.prototype.reverse=PF,h.prototype.toJSON=h.prototype.valueOf=h.prototype.value=MF,h.prototype.first=h.prototype.head,ss&&(h.prototype[ss]=FF),h},Ji=IO();si?((si.exports=Ji)._=Ji,Sf._=Ji):ce._=Ji}).call(Rs)})(ca,ca.exports);ca.exports;function im(t){const e=Zq[t];return e?Iw(e):Ow(new Error(`Schema for "${t}" not found`))}function XK(){return P(rm(),Mu(zr(t=>t.path)),za)}function oi(t,e){return P(im(t),Qh(n=>xw({try:()=>Uw(n,e),catch:()=>new Error("Invalid data")})),za)}function qw(t,e){return P(Ud([z6(`${t}/${e}`),im(t)]),Mu(([n,i])=>({base_document:gC(n),schema:i})),Qh(({base_document:n,schema:i})=>jw(n,i)),za)}function QK(t,e={}){return P(Ud([P(rm(),Mu(Zb(n=>n.path.startsWith(`/${t}`)))),im(t)]),Dj(n=>Uj(()=>console.log(n))),Qh(([n,i])=>Ud(n.map(s=>jw(s,i)))),za)}const J6=ot.Union([ot.Literal("asc"),ot.Literal("desc")]);ot.Tuple([ot.String(),J6]);export{Dw as D,g6 as P,qw as a,XK as b,w6 as c,x6 as d,M6 as e,A6 as f,QK as g,C6 as h,L6 as i,j6 as j};
