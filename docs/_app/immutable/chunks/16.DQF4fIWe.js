var vM=Object.defineProperty;var NM=(t,e,n)=>e in t?vM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _=(t,e,n)=>(NM(t,typeof e!="symbol"?e+"":e,n),n);import{s as $r,c as kM,u as CM,g as TM,a as LM,y as UM,f as Lg,n as wr}from"./scheduler.BRd-yEOV.js";import{S as Pr,i as Mr,t as jd,j as qd,e as Gr,s as Pl,v as __,c as Yr,g as fa,a as Ml,w as b_,f as Ic,h as Pn,x as w_,d as Ge,y as S_,k as O_,b as I_,l as x_,m as F_,n as $_}from"./index.BHR9i4nQ.js";import{_ as DM}from"./9.CIeohZ6G.js";import{_ as BM}from"./10.CIeohZ6G.js";import{_ as jM}from"./11.CIeohZ6G.js";import{_ as qM}from"./12.CIeohZ6G.js";import{h as WM}from"./utils.Dr-dCr-I.js";function KM(t){return Ee(t)&&!tr(t)&&!da(t)&&Symbol.asyncIterator in t}function tr(t){return Array.isArray(t)}function P_(t){return typeof t=="bigint"}function la(t){return typeof t=="boolean"}function M_(t){return t instanceof globalThis.Date}function HM(t){return typeof t=="function"}function GM(t){return Ee(t)&&!tr(t)&&!da(t)&&Symbol.iterator in t}function YM(t){return t===null}function Jr(t){return typeof t=="number"}function Ee(t){return typeof t=="object"&&t!==null}function zM(t){return t instanceof globalThis.RegExp}function ee(t){return typeof t=="string"}function JM(t){return typeof t=="symbol"}function da(t){return t instanceof globalThis.Uint8Array}function jt(t){return t===void 0}function XM(t){return t.map(e=>Dc(e))}function QM(t){return new Date(t.getTime())}function ZM(t){return new Uint8Array(t)}function VM(t){return new RegExp(t.source,t.flags)}function tR(t){const e=Object.getOwnPropertyNames(t).reduce((i,s)=>({...i,[s]:Dc(t[s])}),{}),n=Object.getOwnPropertySymbols(t).reduce((i,s)=>({...i,[s]:Dc(t[s])}),{});return{...e,...n}}function Dc(t){return tr(t)?XM(t):M_(t)?QM(t):da(t)?ZM(t):zM(t)?VM(t):Ee(t)?tR(t):t}function eR(t){return Dc(t)}function Jn(t){return t.map(e=>H(e))}function H(t,e={}){return{...eR(t),...e}}class Ae extends Error{constructor(e){super(e)}}const Mn=Symbol.for("TypeBox.Transform"),ha=Symbol.for("TypeBox.Readonly"),ki=Symbol.for("TypeBox.Optional"),ma=Symbol.for("TypeBox.Hint"),U=Symbol.for("TypeBox.Kind"),nR=["Any","Array","AsyncIterator","BigInt","Boolean","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function R_(t){try{return new RegExp(t),!0}catch{return!1}}function Wd(t){if(!ee(t))return!1;for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n>=7&&n<=13||n===27||n===127)return!1}return!0}function E_(t){return Kd(t)||$t(t)}function Ss(t){return jt(t)||P_(t)}function Mt(t){return jt(t)||Jr(t)}function Kd(t){return jt(t)||la(t)}function xt(t){return jt(t)||ee(t)}function rR(t){return jt(t)||ee(t)&&Wd(t)&&R_(t)}function iR(t){return jt(t)||ee(t)&&Wd(t)}function A_(t){return jt(t)||$t(t)}function oR(t){return Ee(t)&&t[ha]==="Readonly"}function Xn(t){return Ee(t)&&t[ki]==="Optional"}function Nn(t){return ht(t,"Any")&&xt(t.$id)}function Un(t){return ht(t,"Array")&&t.type==="array"&&xt(t.$id)&&$t(t.items)&&Mt(t.minItems)&&Mt(t.maxItems)&&Kd(t.uniqueItems)&&A_(t.contains)&&Mt(t.minContains)&&Mt(t.maxContains)}function nu(t){return ht(t,"AsyncIterator")&&t.type==="AsyncIterator"&&xt(t.$id)&&$t(t.items)}function ru(t){return ht(t,"BigInt")&&t.type==="bigint"&&xt(t.$id)&&Ss(t.exclusiveMaximum)&&Ss(t.exclusiveMinimum)&&Ss(t.maximum)&&Ss(t.minimum)&&Ss(t.multipleOf)}function ti(t){return ht(t,"Boolean")&&t.type==="boolean"&&xt(t.$id)}function To(t){return ht(t,"Constructor")&&t.type==="Constructor"&&xt(t.$id)&&tr(t.parameters)&&t.parameters.every(e=>$t(e))&&$t(t.returns)}function pa(t){return ht(t,"Date")&&t.type==="Date"&&xt(t.$id)&&Mt(t.exclusiveMaximumTimestamp)&&Mt(t.exclusiveMinimumTimestamp)&&Mt(t.maximumTimestamp)&&Mt(t.minimumTimestamp)&&Mt(t.multipleOfTimestamp)}function Lo(t){return ht(t,"Function")&&t.type==="Function"&&xt(t.$id)&&tr(t.parameters)&&t.parameters.every(e=>$t(e))&&$t(t.returns)}function pn(t){return ht(t,"Integer")&&t.type==="integer"&&xt(t.$id)&&Mt(t.exclusiveMaximum)&&Mt(t.exclusiveMinimum)&&Mt(t.maximum)&&Mt(t.minimum)&&Mt(t.multipleOf)}function v_(t){return Ee(t)&&Object.entries(t).every(([e,n])=>Wd(e)&&$t(n))}function pe(t){return ht(t,"Intersect")&&!(ee(t.type)&&t.type!=="object")&&tr(t.allOf)&&t.allOf.every(e=>$t(e)&&!ei(e))&&xt(t.type)&&(Kd(t.unevaluatedProperties)||A_(t.unevaluatedProperties))&&xt(t.$id)}function iu(t){return ht(t,"Iterator")&&t.type==="Iterator"&&xt(t.$id)&&$t(t.items)}function ht(t,e){return Ee(t)&&U in t&&t[U]===e}function N_(t){return gn(t)&&ee(t.const)}function k_(t){return gn(t)&&Jr(t.const)}function C_(t){return gn(t)&&la(t.const)}function gn(t){return ht(t,"Literal")&&xt(t.$id)&&sR(t.const)}function sR(t){return la(t)||Jr(t)||ee(t)}function Ci(t){return ht(t,"MappedKey")&&tr(t.keys)&&t.keys.every(e=>Jr(e)||ee(e))}function Ze(t){return ht(t,"MappedResult")&&v_(t.properties)}function er(t){return ht(t,"Never")&&Ee(t.not)&&Object.getOwnPropertyNames(t.not).length===0}function po(t){return ht(t,"Not")&&$t(t.not)}function Hd(t){return ht(t,"Null")&&t.type==="null"&&xt(t.$id)}function le(t){return ht(t,"Number")&&t.type==="number"&&xt(t.$id)&&Mt(t.exclusiveMaximum)&&Mt(t.exclusiveMinimum)&&Mt(t.maximum)&&Mt(t.minimum)&&Mt(t.multipleOf)}function gt(t){return ht(t,"Object")&&t.type==="object"&&xt(t.$id)&&v_(t.properties)&&E_(t.additionalProperties)&&Mt(t.minProperties)&&Mt(t.maxProperties)}function Uo(t){return ht(t,"Promise")&&t.type==="Promise"&&xt(t.$id)&&$t(t.item)}function se(t){return ht(t,"Record")&&t.type==="object"&&xt(t.$id)&&E_(t.additionalProperties)&&Ee(t.patternProperties)&&(e=>{const n=Object.getOwnPropertyNames(e.patternProperties);return n.length===1&&R_(n[0])&&Ee(e.patternProperties)&&$t(e.patternProperties[n[0]])})(t)}function T_(t){return ht(t,"Ref")&&xt(t.$id)&&ee(t.$ref)}function go(t){return ht(t,"RegExp")&&xt(t.$id)&&ee(t.source)&&ee(t.flags)&&Mt(t.maxLength)&&Mt(t.minLength)}function Je(t){return ht(t,"String")&&t.type==="string"&&xt(t.$id)&&Mt(t.minLength)&&Mt(t.maxLength)&&rR(t.pattern)&&iR(t.format)}function Ls(t){return ht(t,"Symbol")&&t.type==="symbol"&&xt(t.$id)}function kn(t){return ht(t,"TemplateLiteral")&&t.type==="string"&&ee(t.pattern)&&t.pattern[0]==="^"&&t.pattern[t.pattern.length-1]==="$"}function uR(t){return ht(t,"This")&&xt(t.$id)&&ee(t.$ref)}function ei(t){return Ee(t)&&Mn in t}function Rr(t){return ht(t,"Tuple")&&t.type==="array"&&xt(t.$id)&&Jr(t.minItems)&&Jr(t.maxItems)&&t.minItems===t.maxItems&&(jt(t.items)&&jt(t.additionalItems)&&t.minItems===0||tr(t.items)&&t.items.every(e=>$t(e)))}function Fi(t){return ht(t,"Undefined")&&t.type==="undefined"&&xt(t.$id)}function Nt(t){return ht(t,"Union")&&xt(t.$id)&&Ee(t)&&tr(t.anyOf)&&t.anyOf.every(e=>$t(e))}function ou(t){return ht(t,"Uint8Array")&&t.type==="Uint8Array"&&xt(t.$id)&&Mt(t.minByteLength)&&Mt(t.maxByteLength)}function Cn(t){return ht(t,"Unknown")&&xt(t.$id)}function cR(t){return ht(t,"Unsafe")}function ga(t){return ht(t,"Void")&&t.type==="void"&&xt(t.$id)}function aR(t){return Ee(t)&&U in t&&ee(t[U])&&!nR.includes(t[U])}function $t(t){return Ee(t)&&(Nn(t)||Un(t)||ti(t)||ru(t)||nu(t)||To(t)||pa(t)||Lo(t)||pn(t)||pe(t)||iu(t)||gn(t)||Ci(t)||Ze(t)||er(t)||po(t)||Hd(t)||le(t)||gt(t)||Uo(t)||se(t)||T_(t)||go(t)||Je(t)||Ls(t)||kn(t)||uR(t)||Rr(t)||Fi(t)||Nt(t)||ou(t)||Cn(t)||cR(t)||ga(t)||aR(t))}const fR="(true|false)",Rc="(0|[1-9][0-9]*)",L_="(.*)",Us=`^${Rc}$`,Bc=`^${L_}$`,Gd=new Map;function Yd(t){return Gd.has(t)}function lR(t,e){Gd.set(t,e)}function U_(t){return Gd.get(t)}const zd=new Map;function ya(t){return zd.has(t)}function dR(t,e){zd.set(t,e)}function D_(t){return zd.get(t)}function hR(t,e){return t.includes(e)}function mR(t){return[...new Set(t)]}function pR(t,e){return t.filter(n=>e.includes(n))}function gR(t,e){return t.reduce((n,i)=>pR(n,i),e)}function yR(t){return t.length===1?t[0]:t.length>1?gR(t.slice(1),t[0]):[]}function _R(t){return t.reduce((e,n)=>[...e,...n],[])}function Ds(t={}){return{...t,[U]:"Any"}}function B_(t,e={}){return{...e,[U]:"Array",type:"array",items:H(t)}}function j_(t,e={}){return{...e,[U]:"AsyncIterator",type:"AsyncIterator",items:H(t)}}function bR(t,e){const{[e]:n,...i}=t;return i}function dn(t,e){return e.reduce((n,i)=>bR(n,i),t)}function ve(t={}){return{...t,[U]:"Never",not:{}}}function ge(t){return{[U]:"MappedResult",properties:t}}function q_(t,e,n){return{...n,[U]:"Constructor",type:"Constructor",parameters:Jn(t),returns:H(e)}}function _a(t,e,n){return{...n,[U]:"Function",type:"Function",parameters:Jn(t),returns:H(e)}}function Gl(t,e){return{...e,[U]:"Union",anyOf:Jn(t)}}function wR(t){return t.some(e=>Xn(e))}function Ug(t){return t.map(e=>Xn(e)?SR(e):e)}function SR(t){return dn(t,[ki])}function OR(t,e){return wR(t)?Li(Gl(Ug(t),e)):Gl(Ug(t),e)}function Do(t,e={}){return t.length===0?ve(e):t.length===1?H(t[0],e):OR(t,e)}function Ne(t,e={}){return t.length===0?ve(e):t.length===1?H(t[0],e):Gl(t,e)}class Dg extends Ae{}function Jd(t,e,n){return t[e]===n&&t.charCodeAt(e-1)!==92}function _r(t,e){return Jd(t,e,"(")}function Bs(t,e){return Jd(t,e,")")}function W_(t,e){return Jd(t,e,"|")}function IR(t){if(!(_r(t,0)&&Bs(t,t.length-1)))return!1;let e=0;for(let n=0;n<t.length;n++)if(_r(t,n)&&(e+=1),Bs(t,n)&&(e-=1),e===0&&n!==t.length-1)return!1;return!0}function xR(t){return t.slice(1,t.length-1)}function FR(t){let e=0;for(let n=0;n<t.length;n++)if(_r(t,n)&&(e+=1),Bs(t,n)&&(e-=1),W_(t,n)&&e===0)return!0;return!1}function $R(t){for(let e=0;e<t.length;e++)if(_r(t,e))return!0;return!1}function PR(t){let[e,n]=[0,0];const i=[];for(let c=0;c<t.length;c++)if(_r(t,c)&&(e+=1),Bs(t,c)&&(e-=1),W_(t,c)&&e===0){const f=t.slice(n,c);f.length>0&&i.push(yo(f)),n=c+1}const s=t.slice(n);return s.length>0&&i.push(yo(s)),i.length===0?{type:"const",const:""}:i.length===1?i[0]:{type:"or",expr:i}}function MR(t){function e(s,c){if(!_r(s,c))throw new Dg("TemplateLiteralParser: Index must point to open parens");let f=0;for(let d=c;d<s.length;d++)if(_r(s,d)&&(f+=1),Bs(s,d)&&(f-=1),f===0)return[c,d];throw new Dg("TemplateLiteralParser: Unclosed group parens in expression")}function n(s,c){for(let f=c;f<s.length;f++)if(_r(s,f))return[c,f];return[c,s.length]}const i=[];for(let s=0;s<t.length;s++)if(_r(t,s)){const[c,f]=e(t,s),d=t.slice(c,f+1);i.push(yo(d)),s=f}else{const[c,f]=n(t,s),d=t.slice(c,f);d.length>0&&i.push(yo(d)),s=f-1}return i.length===0?{type:"const",const:""}:i.length===1?i[0]:{type:"and",expr:i}}function yo(t){return IR(t)?yo(xR(t)):FR(t)?PR(t):$R(t)?MR(t):{type:"const",const:t}}function Xd(t){return yo(t.slice(1,t.length-1))}class RR extends Ae{}function ER(t){return t.type==="or"&&t.expr.length===2&&t.expr[0].type==="const"&&t.expr[0].const==="0"&&t.expr[1].type==="const"&&t.expr[1].const==="[1-9][0-9]*"}function AR(t){return t.type==="or"&&t.expr.length===2&&t.expr[0].type==="const"&&t.expr[0].const==="true"&&t.expr[1].type==="const"&&t.expr[1].const==="false"}function vR(t){return t.type==="const"&&t.const===".*"}function js(t){return ER(t)||vR(t)?!1:AR(t)?!0:t.type==="and"?t.expr.every(e=>js(e)):t.type==="or"?t.expr.every(e=>js(e)):t.type==="const"?!0:(()=>{throw new RR("Unknown expression type")})()}function NR(t){const e=Xd(t.pattern);return js(e)}class kR extends Ae{}function*K_(t){if(t.length===1)return yield*t[0];for(const e of t[0])for(const n of K_(t.slice(1)))yield`${e}${n}`}function*CR(t){return yield*K_(t.expr.map(e=>[...ba(e)]))}function*TR(t){for(const e of t.expr)yield*ba(e)}function*LR(t){return yield t.const}function*ba(t){return t.type==="and"?yield*CR(t):t.type==="or"?yield*TR(t):t.type==="const"?yield*LR(t):(()=>{throw new kR("Unknown expression")})()}function H_(t){const e=Xd(t.pattern);return js(e)?[...ba(e)]:[]}function qt(t,e={}){return{...e,[U]:"Literal",const:t,type:typeof t}}function G_(t={}){return{...t,[U]:"Boolean",type:"boolean"}}function Qd(t={}){return{...t,[U]:"BigInt",type:"bigint"}}function Bo(t={}){return{...t,[U]:"Number",type:"number"}}function Xr(t={}){return{...t,[U]:"String",type:"string"}}function*UR(t){const e=t.trim().replace(/"|'/g,"");return e==="boolean"?yield G_():e==="number"?yield Bo():e==="bigint"?yield Qd():e==="string"?yield Xr():yield(()=>{const n=e.split("|").map(i=>qt(i.trim()));return n.length===0?ve():n.length===1?n[0]:Do(n)})()}function*DR(t){if(t[1]!=="{"){const e=qt("$"),n=Yl(t.slice(1));return yield*[e,...n]}for(let e=2;e<t.length;e++)if(t[e]==="}"){const n=UR(t.slice(2,e)),i=Yl(t.slice(e+1));return yield*[...n,...i]}yield qt(t)}function*Yl(t){for(let e=0;e<t.length;e++)if(t[e]==="$"){const n=qt(t.slice(0,e)),i=DR(t.slice(e));return yield*[n,...i]}yield qt(t)}function BR(t){return[...Yl(t)]}class jR extends Ae{}function qR(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Y_(t,e){return kn(t)?t.pattern.slice(1,t.pattern.length-1):Nt(t)?`(${t.anyOf.map(n=>Y_(n,e)).join("|")})`:le(t)?`${e}${Rc}`:pn(t)?`${e}${Rc}`:ru(t)?`${e}${Rc}`:Je(t)?`${e}${L_}`:gn(t)?`${e}${qR(t.const.toString())}`:ti(t)?`${e}${fR}`:(()=>{throw new jR(`Unexpected Kind '${t[U]}'`)})()}function Bg(t){return`^${t.map(e=>Y_(e,"")).join("")}$`}function jc(t){const n=H_(t).map(i=>qt(i));return Do(n)}function z_(t,e={}){const n=ee(t)?Bg(BR(t)):Bg(t);return{...e,[U]:"TemplateLiteral",type:"string",pattern:n}}function WR(t){return H_(t).map(n=>n.toString())}function KR(t){return t.reduce((e,n)=>[...e,...ni(n)],[])}function HR(t){return[t.toString()]}function ni(t){return[...new Set(kn(t)?WR(t):Nt(t)?KR(t.anyOf):gn(t)?HR(t.const):le(t)?["[number]"]:pn(t)?["[number]"]:[])]}function GR(t,e,n){return globalThis.Object.getOwnPropertyNames(e).reduce((i,s)=>({...i,[s]:su(t,ni(e[s]),n)}),{})}function YR(t,e,n){return GR(t,e.properties,n)}function zR(t,e,n){const i=YR(t,e,n);return ge(i)}function J_(t,e){return t.map(n=>X_(n,e))}function JR(t){return t.filter(e=>!er(e))}function XR(t,e){return eb(JR(J_(t,e)))}function QR(t,e){return Do(J_(t,e))}function ZR(t,e){return e in t?t[e]:e==="[number]"?Do(t):ve()}function VR(t,e){return e==="[number]"?t:ve()}function tE(t,e){return e in t?t[e]:ve()}function X_(t,e){return pe(t)?XR(t.allOf,e):Nt(t)?QR(t.anyOf,e):Rr(t)?ZR(t.items??[],e):Un(t)?VR(t.items,e):gt(t)?tE(t.properties,e):ve()}function Q_(t,e){return e.map(n=>X_(t,n))}function jg(t,e){return Do(Q_(t,e))}function su(t,e,n={}){return Ze(e)?H(zR(t,e,n)):Ci(e)?H(iE(t,e,n)):$t(e)?H(jg(t,ni(e)),n):H(jg(t,e),n)}function eE(t,e,n){return{[e]:su(t,[e],n)}}function nE(t,e,n){return e.reduce((i,s)=>({...i,...eE(t,s,n)}),{})}function rE(t,e,n){return nE(t,e.keys,n)}function iE(t,e,n){const i=rE(t,e,n);return ge(i)}function Z_(t,e={}){return{...e,[U]:"Iterator",type:"Iterator",items:H(t)}}function oE(t,e={}){const n=globalThis.Object.getOwnPropertyNames(t),i=n.filter(d=>Xn(t[d])),s=n.filter(d=>!i.includes(d)),c=$t(e.additionalProperties)?{additionalProperties:H(e.additionalProperties)}:{},f=n.reduce((d,p)=>({...d,[p]:H(t[p])}),{});return s.length>0?{...e,...c,[U]:"Object",type:"object",properties:f,required:s}:{...e,...c,[U]:"Object",type:"object",properties:f}}const ue=oE;function V_(t,e={}){return{...e,[U]:"Promise",type:"Promise",item:H(t)}}function sE(t){return dn(H(t),[ha])}function uE(t){return{...H(t),[ha]:"Readonly"}}function cE(t,e){return e===!1?sE(t):uE(t)}function Ti(t,e){const n=e??!0;return Ze(t)?lE(t,n):cE(t,n)}function aE(t,e){return globalThis.Object.getOwnPropertyNames(t).reduce((n,i)=>({...n,[i]:Ti(t[i],e)}),{})}function fE(t,e){return aE(t.properties,e)}function lE(t,e){const n=fE(t,e);return ge(n)}function uu(t,e={}){const[n,i,s]=[!1,t.length,t.length];return t.length>0?{...e,[U]:"Tuple",type:"array",items:Jn(t),additionalItems:n,minItems:i,maxItems:s}:{...e,[U]:"Tuple",type:"array",minItems:i,maxItems:s}}function tb(t,e){return t in e?ln(t,e[t]):ge(e)}function dE(t){return{[t]:qt(t)}}function hE(t){return t.reduce((e,n)=>({...e,[n]:qt(n)}),{})}function mE(t,e){return hR(e,t)?dE(t):hE(e)}function pE(t,e){const n=mE(t,e);return tb(t,n)}function Os(t,e){return e.map(n=>ln(t,n))}function gE(t,e){return globalThis.Object.getOwnPropertyNames(e).reduce((n,i)=>({...n,[i]:ln(t,e[i])}),{})}function ln(t,e){return Xn(e)?Li(ln(t,dn(e,[ki]))):oR(e)?Ti(ln(t,dn(e,[ha]))):Ze(e)?tb(t,e.properties):Ci(e)?pE(t,e.keys):To(e)?q_(Os(t,e.parameters),ln(t,e.returns)):Lo(e)?_a(Os(t,e.parameters),ln(t,e.returns)):nu(e)?j_(ln(t,e.items)):iu(e)?Z_(ln(t,e.items)):pe(e)?Ui(Os(t,e.allOf)):Nt(e)?Ne(Os(t,e.anyOf)):Rr(e)?uu(Os(t,e.items??[])):gt(e)?ue(gE(t,e.properties)):Un(e)?B_(ln(t,e.items)):Uo(e)?V_(ln(t,e.item)):e}function yE(t,e,n={}){return t.reduce((i,s)=>({...i,[s]:ln(s,e)}),{})}function _E(t,e,n={}){const i=$t(t)?ni(t):t,s=e({[U]:"MappedKey",keys:i}),c=yE(i,s);return H(ue(c),n)}function bE(t){return dn(H(t),[ki])}function wE(t){return{...H(t),[ki]:"Optional"}}function SE(t,e){return e===!1?bE(t):wE(t)}function Li(t,e){const n=e??!0;return Ze(t)?xE(t,n):SE(t,n)}function OE(t,e){return globalThis.Object.getOwnPropertyNames(t).reduce((n,i)=>({...n,[i]:Li(t[i],e)}),{})}function IE(t,e){return OE(t.properties,e)}function xE(t,e){const n=IE(t,e);return ge(n)}function zl(t,e){const n=t.every(s=>gt(s)),i=$t(e.unevaluatedProperties)?{unevaluatedProperties:H(e.unevaluatedProperties)}:{};return e.unevaluatedProperties===!1||$t(e.unevaluatedProperties)||n?{...e,...i,[U]:"Intersect",type:"object",allOf:Jn(t)}:{...e,...i,[U]:"Intersect",allOf:Jn(t)}}function FE(t){return t.every(e=>Xn(e))}function $E(t){return dn(t,[ki])}function qg(t){return t.map(e=>Xn(e)?$E(e):e)}function PE(t,e){return FE(t)?Li(zl(qg(t),e)):zl(qg(t),e)}function eb(t,e={}){if(t.length===0)return ve(e);if(t.length===1)return H(t[0],e);if(t.some(n=>ei(n)))throw new Error("Cannot intersect transform types");return PE(t,e)}function Ui(t,e={}){if(t.length===0)return ve(e);if(t.length===1)return H(t[0],e);if(t.some(n=>ei(n)))throw new Error("Cannot intersect transform types");return zl(t,e)}function nb(t){return t.map(e=>Zd(e))}function ME(t){return Ui(nb(t))}function RE(t){return Ne(nb(t))}function EE(t){return Zd(t)}function Zd(t){return pe(t)?ME(t.allOf):Nt(t)?RE(t.anyOf):Uo(t)?EE(t.item):t}function AE(t,e={}){return H(Zd(t),e)}function rb(t){return t.reduce((e,n)=>[...e,ri(n)],[])}function vE(t){const e=rb(t);return _R(e)}function NE(t){const e=rb(t);return yR(e)}function kE(t){return t.map((e,n)=>n.toString())}function CE(t){return["[number]"]}function TE(t){return globalThis.Object.getOwnPropertyNames(t)}function LE(t){return Jl?globalThis.Object.getOwnPropertyNames(t).map(n=>n[0]==="^"&&n[n.length-1]==="$"?n.slice(1,n.length-1):n):[]}function ri(t){return pe(t)?vE(t.allOf):Nt(t)?NE(t.anyOf):Rr(t)?kE(t.items??[]):Un(t)?CE(t.items):gt(t)?TE(t.properties):se(t)?LE(t.patternProperties):[]}let Jl=!1;function qc(t){Jl=!0;const e=ri(t);return Jl=!1,`^(${e.map(i=>`(${i})`).join("|")})$`}function UE(t){return t.map(e=>e==="[number]"?Bo():qt(e))}function ib(t,e={}){if(Ze(t))return jE(t,e);{const n=ri(t),i=UE(n),s=Do(i);return H(s,e)}}function DE(t,e){return globalThis.Object.getOwnPropertyNames(t).reduce((n,i)=>({...n,[i]:ib(t[i],e)}),{})}function BE(t,e){return DE(t.properties,e)}function jE(t,e){const n=BE(t,e);return ge(n)}function qE(t){return t.reduce((e,n)=>mR([...e,...ri(n)]),[])}function WE(t){return t.filter(e=>!er(e))}function KE(t,e){return t.reduce((n,i)=>WE([...n,...Q_(i,[e])]),[])}function HE(t,e){return e.reduce((n,i)=>({...n,[i]:eb(KE(t,i))}),{})}function GE(t,e={}){const n=qE(t),i=HE(t,n);return ue(i,e)}function ob(t={}){return{...t,[U]:"Date",type:"Date"}}function sb(t={}){return{...t,[U]:"Null",type:"null"}}function ub(t){return{...t,[U]:"Symbol",type:"symbol"}}function cb(t={}){return{...t,[U]:"Undefined",type:"undefined"}}function ab(t={}){return{...t,[U]:"Uint8Array",type:"Uint8Array"}}function cu(t={}){return{...t,[U]:"Unknown"}}function YE(t){return t.map(e=>Vd(e,!1))}function zE(t){return globalThis.Object.getOwnPropertyNames(t).reduce((e,n)=>({...e,[n]:Ti(Vd(t[n],!1))}),{})}function xc(t,e){return e===!0?t:Ti(t)}function Vd(t,e){return KM(t)||GM(t)?xc(Ds(),e):tr(t)?Ti(uu(YE(t))):da(t)?ab():M_(t)?ob():Ee(t)?xc(ue(zE(t)),e):HM(t)?xc(_a([],cu()),e):jt(t)?cb():YM(t)?sb():JM(t)?ub():P_(t)?Qd():Jr(t)||la(t)||ee(t)?qt(t):ue({})}function JE(t,e={}){return H(Vd(t,!0),e)}function XE(t,e={}){return uu(Jn(t.parameters),{...e})}function au(t,e){return t.map(n=>nr(n,e))}function QE(t,e){return globalThis.Object.getOwnPropertyNames(t).reduce((n,i)=>({...n,[i]:nr(t[i],e)}),{})}function ZE(t,e){return t.parameters=au(t.parameters,e),t.returns=nr(t.returns,e),t}function VE(t,e){return t.parameters=au(t.parameters,e),t.returns=nr(t.returns,e),t}function tA(t,e){return t.allOf=au(t.allOf,e),t}function eA(t,e){return t.anyOf=au(t.anyOf,e),t}function nA(t,e){return jt(t.items)||(t.items=au(t.items,e)),t}function rA(t,e){return t.items=nr(t.items,e),t}function iA(t,e){return t.properties=QE(t.properties,e),t}function oA(t,e){return t.item=nr(t.item,e),t}function sA(t,e){return t.items=nr(t.items,e),t}function uA(t,e){return t.items=nr(t.items,e),t}function cA(t,e){const n=e.find(s=>s.$id===t.$ref);if(n===void 0)throw Error(`Unable to dereference schema with $id ${t.$ref}`);const i=dn(n,["$id"]);return nr(i,e)}function aA(t,e){return To(t)?ZE(t,e):Lo(t)?VE(t,e):pe(t)?tA(t,e):Nt(t)?eA(t,e):Rr(t)?nA(t,e):Un(t)?rA(t,e):gt(t)?iA(t,e):Uo(t)?oA(t,e):nu(t)?sA(t,e):iu(t)?uA(t,e):T_(t)?cA(t,e):t}function nr(t,e){return aA(H(t),Jn(e))}function fA(t,e={}){if(jt(t))throw new Error("Enum undefined or empty");const n=globalThis.Object.getOwnPropertyNames(t).filter(c=>isNaN(c)).map(c=>t[c]),s=[...new Set(n)].map(c=>qt(c));return Ne(s,{...e,[ma]:"Enum"})}class lA extends Ae{}var F;(function(t){t[t.Union=0]="Union",t[t.True=1]="True",t[t.False=2]="False"})(F||(F={}));function hn(t){return t===F.False?t:F.True}function jo(t){throw new lA(t)}function zt(t){return er(t)||pe(t)||Nt(t)||Cn(t)||Nn(t)}function Jt(t,e){return er(e)?db():pe(e)?wa(t,e):Nt(e)?eh(t,e):Cn(e)?gb():Nn(e)?th():jo("StructuralRight")}function th(t,e){return F.True}function dA(t,e){return pe(e)?wa(t,e):Nt(e)&&e.anyOf.some(n=>Nn(n)||Cn(n))?F.True:Nt(e)?F.Union:Cn(e)||Nn(e)?F.True:F.Union}function hA(t,e){return Cn(t)?F.False:Nn(t)?F.Union:er(t)?F.True:F.False}function mA(t,e){return gt(e)&&Sa(e)?F.True:zt(e)?Jt(t,e):Un(e)?hn(It(t.items,e.items)):F.False}function pA(t,e){return zt(e)?Jt(t,e):nu(e)?hn(It(t.items,e.items)):F.False}function gA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):ru(e)?F.True:F.False}function fb(t,e){return C_(t)||ti(t)?F.True:F.False}function yA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):ti(e)?F.True:F.False}function _A(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):To(e)?t.parameters.length>e.parameters.length?F.False:t.parameters.every((n,i)=>hn(It(e.parameters[i],n))===F.True)?hn(It(t.returns,e.returns)):F.False:F.False}function bA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):pa(e)?F.True:F.False}function wA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):Lo(e)?t.parameters.length>e.parameters.length?F.False:t.parameters.every((n,i)=>hn(It(e.parameters[i],n))===F.True)?hn(It(t.returns,e.returns)):F.False:F.False}function lb(t,e){return gn(t)&&Jr(t.const)||le(t)||pn(t)?F.True:F.False}function SA(t,e){return pn(e)||le(e)?F.True:zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):F.False}function wa(t,e){return e.allOf.every(n=>It(t,n)===F.True)?F.True:F.False}function OA(t,e){return t.allOf.some(n=>It(n,e)===F.True)?F.True:F.False}function IA(t,e){return zt(e)?Jt(t,e):iu(e)?hn(It(t.items,e.items)):F.False}function xA(t,e){return gn(e)&&e.const===t.const?F.True:zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):Je(e)?pb(t):le(e)?hb(t):pn(e)?lb(t):ti(e)?fb(t):F.False}function db(t,e){return F.False}function FA(t,e){return F.True}function Wg(t){let[e,n]=[t,0];for(;po(e);)e=e.not,n+=1;return n%2===0?e:cu()}function $A(t,e){return po(t)?It(Wg(t),e):po(e)?It(t,Wg(e)):jo("Invalid fallthrough for Not")}function PA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):Hd(e)?F.True:F.False}function hb(t,e){return k_(t)||le(t)||pn(t)?F.True:F.False}function MA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):pn(e)||le(e)?F.True:F.False}function Ue(t,e){return Object.getOwnPropertyNames(t.properties).length===e}function Kg(t){return Sa(t)}function Hg(t){return Ue(t,0)||Ue(t,1)&&"description"in t.properties&&Nt(t.properties.description)&&t.properties.description.anyOf.length===2&&(Je(t.properties.description.anyOf[0])&&Fi(t.properties.description.anyOf[1])||Je(t.properties.description.anyOf[1])&&Fi(t.properties.description.anyOf[0]))}function Rl(t){return Ue(t,0)}function Gg(t){return Ue(t,0)}function RA(t){return Ue(t,0)}function EA(t){return Ue(t,0)}function AA(t){return Sa(t)}function vA(t){const e=Bo();return Ue(t,0)||Ue(t,1)&&"length"in t.properties&&hn(It(t.properties.length,e))===F.True}function NA(t){return Ue(t,0)}function Sa(t){const e=Bo();return Ue(t,0)||Ue(t,1)&&"length"in t.properties&&hn(It(t.properties.length,e))===F.True}function kA(t){const e=_a([Ds()],Ds());return Ue(t,0)||Ue(t,1)&&"then"in t.properties&&hn(It(t.properties.then,e))===F.True}function mb(t,e){return It(t,e)===F.False||Xn(t)&&!Xn(e)?F.False:F.True}function Fe(t,e){return Cn(t)?F.False:Nn(t)?F.Union:er(t)||N_(t)&&Kg(e)||k_(t)&&Rl(e)||C_(t)&&Gg(e)||Ls(t)&&Hg(e)||ru(t)&&RA(e)||Je(t)&&Kg(e)||Ls(t)&&Hg(e)||le(t)&&Rl(e)||pn(t)&&Rl(e)||ti(t)&&Gg(e)||ou(t)&&AA(e)||pa(t)&&EA(e)||To(t)&&NA(e)||Lo(t)&&vA(e)?F.True:se(t)&&Je(Xl(t))?e[ma]==="Record"?F.True:F.False:se(t)&&le(Xl(t))?Ue(e,0)?F.True:F.False:F.False}function CA(t,e){return zt(e)?Jt(t,e):se(e)?yn(t,e):gt(e)?(()=>{for(const n of Object.getOwnPropertyNames(e.properties)){if(!(n in t.properties)&&!Xn(e.properties[n]))return F.False;if(Xn(e.properties[n]))return F.True;if(mb(t.properties[n],e.properties[n])===F.False)return F.False}return F.True})():F.False}function TA(t,e){return zt(e)?Jt(t,e):gt(e)&&kA(e)?F.True:Uo(e)?hn(It(t.item,e.item)):F.False}function Xl(t){return Us in t.patternProperties?Bo():Bc in t.patternProperties?Xr():jo("Unknown record key pattern")}function Ql(t){return Us in t.patternProperties?t.patternProperties[Us]:Bc in t.patternProperties?t.patternProperties[Bc]:jo("Unable to get record value schema")}function yn(t,e){const[n,i]=[Xl(e),Ql(e)];return N_(t)&&le(n)&&hn(It(t,i))===F.True?F.True:ou(t)&&le(n)||Je(t)&&le(n)||Un(t)&&le(n)?It(t,i):gt(t)?(()=>{for(const s of Object.getOwnPropertyNames(t.properties))if(mb(i,t.properties[s])===F.False)return F.False;return F.True})():F.False}function LA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?It(Ql(t),Ql(e)):F.False}function UA(t,e){const n=go(t)?Xr():t,i=go(e)?Xr():e;return It(n,i)}function pb(t,e){return gn(t)&&ee(t.const)||Je(t)?F.True:F.False}function DA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):Je(e)?F.True:F.False}function BA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):Ls(e)?F.True:F.False}function jA(t,e){return kn(t)?It(jc(t),e):kn(e)?It(t,jc(e)):jo("Invalid fallthrough for TemplateLiteral")}function qA(t,e){return Un(e)&&t.items!==void 0&&t.items.every(n=>It(n,e.items)===F.True)}function WA(t,e){return er(t)?F.True:Cn(t)?F.False:Nn(t)?F.Union:F.False}function KA(t,e){return zt(e)?Jt(t,e):gt(e)&&Sa(e)||Un(e)&&qA(t,e)?F.True:Rr(e)?jt(t.items)&&!jt(e.items)||!jt(t.items)&&jt(e.items)?F.False:jt(t.items)&&!jt(e.items)||t.items.every((n,i)=>It(n,e.items[i])===F.True)?F.True:F.False:F.False}function HA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):ou(e)?F.True:F.False}function GA(t,e){return zt(e)?Jt(t,e):gt(e)?Fe(t,e):se(e)?yn(t,e):ga(e)?JA(t):Fi(e)?F.True:F.False}function eh(t,e){return e.anyOf.some(n=>It(t,n)===F.True)?F.True:F.False}function YA(t,e){return t.anyOf.every(n=>It(n,e)===F.True)?F.True:F.False}function gb(t,e){return F.True}function zA(t,e){return er(e)?db():pe(e)?wa(t,e):Nt(e)?eh(t,e):Nn(e)?th():Je(e)?pb(t):le(e)?hb(t):pn(e)?lb(t):ti(e)?fb(t):Un(e)?hA(t):Rr(e)?WA(t):gt(e)?Fe(t,e):Cn(e)?F.True:F.False}function JA(t,e){return Fi(t)||Fi(t)?F.True:F.False}function XA(t,e){return pe(e)?wa(t,e):Nt(e)?eh(t,e):Cn(e)?gb():Nn(e)?th():gt(e)?Fe(t,e):ga(e)?F.True:F.False}function It(t,e){return kn(t)||kn(e)?jA(t,e):go(t)||go(e)?UA(t,e):po(t)||po(e)?$A(t,e):Nn(t)?dA(t,e):Un(t)?mA(t,e):ru(t)?gA(t,e):ti(t)?yA(t,e):nu(t)?pA(t,e):To(t)?_A(t,e):pa(t)?bA(t,e):Lo(t)?wA(t,e):pn(t)?SA(t,e):pe(t)?OA(t,e):iu(t)?IA(t,e):gn(t)?xA(t,e):er(t)?FA():Hd(t)?PA(t,e):le(t)?MA(t,e):gt(t)?CA(t,e):se(t)?LA(t,e):Je(t)?DA(t,e):Ls(t)?BA(t,e):Rr(t)?KA(t,e):Uo(t)?TA(t,e):ou(t)?HA(t,e):Fi(t)?GA(t,e):Nt(t)?YA(t,e):Cn(t)?zA(t,e):ga(t)?XA(t,e):jo(`Unknown left type operand '${t[U]}'`)}function fu(t,e){return It(t,e)}function QA(t,e,n,i,s){return globalThis.Object.getOwnPropertyNames(t).reduce((c,f)=>({...c,[f]:nh(t[f],e,n,i,s)}),{})}function ZA(t,e,n,i,s){return QA(t.properties,e,n,i,s)}function VA(t,e,n,i,s){const c=ZA(t,e,n,i,s);return ge(c)}function tv(t,e,n,i){const s=fu(t,e);return s===F.Union?Ne([n,i]):s===F.True?n:i}function nh(t,e,n,i,s={}){return Ze(t)?VA(t,e,n,i,s):Ci(t)?H(iv(t,e,n,i,s)):H(tv(t,e,n,i),s)}function ev(t,e,n,i,s){return{[t]:nh(qt(t),e,n,i,s)}}function nv(t,e,n,i,s){return t.reduce((c,f)=>({...c,...ev(f,e,n,i,s)}),{})}function rv(t,e,n,i,s){return nv(t.keys,e,n,i,s)}function iv(t,e,n,i,s){const c=rv(t,e,n,i,s);return ge(c)}function ov(t){return t.allOf.every(e=>lu(e))}function sv(t){return t.anyOf.some(e=>lu(e))}function uv(t){return!lu(t.not)}function lu(t){return t[U]==="Intersect"?ov(t):t[U]==="Union"?sv(t):t[U]==="Not"?uv(t):t[U]==="Undefined"}function cv(t,e){return rh(jc(t),e)}function av(t,e){const n=t.filter(i=>fu(i,e)===F.False);return n.length===1?n[0]:Ne(n)}function rh(t,e,n={}){return kn(t)?H(cv(t,e),n):Ze(t)?H(dv(t,e),n):H(Nt(t)?av(t.anyOf,e):fu(t,e)!==F.False?ve():t,n)}function fv(t,e){return globalThis.Object.getOwnPropertyNames(t).reduce((n,i)=>({...n,[i]:rh(t[i],e)}),{})}function lv(t,e){return fv(t.properties,e)}function dv(t,e){const n=lv(t,e);return ge(n)}function hv(t,e){return ih(jc(t),e)}function mv(t,e){const n=t.filter(i=>fu(i,e)!==F.False);return n.length===1?n[0]:Ne(n)}function ih(t,e,n={}){return kn(t)?H(hv(t,e),n):Ze(t)?H(yv(t,e),n):H(Nt(t)?mv(t.anyOf,e):fu(t,e)!==F.False?t:ve(),n)}function pv(t,e){return globalThis.Object.getOwnPropertyNames(t).reduce((n,i)=>({...n,[i]:ih(t[i],e)}),{})}function gv(t,e){return pv(t.properties,e)}function yv(t,e){const n=gv(t,e);return ge(n)}function _v(t,e={}){return H(t.returns,e)}function bv(t={}){return{...t,[U]:"Integer",type:"integer"}}function wv(t,e,n){return{[t]:qo(qt(t),e,n)}}function Sv(t,e,n){return t.reduce((i,s)=>({...i,...wv(s,e,n)}),{})}function Ov(t,e,n){return Sv(t.keys,e,n)}function Iv(t,e,n){const i=Ov(t,e,n);return ge(i)}function xv(t){const[e,n]=[t.slice(0,1),t.slice(1)];return[e.toLowerCase(),n].join("")}function Fv(t){const[e,n]=[t.slice(0,1),t.slice(1)];return[e.toUpperCase(),n].join("")}function $v(t){return t.toUpperCase()}function Pv(t){return t.toLowerCase()}function Mv(t,e,n){const i=Xd(t.pattern);if(!js(i))return{...t,pattern:yb(t.pattern,e)};const f=[...ba(i)].map(y=>qt(y)),d=_b(f,e),p=Ne(d);return z_([p],n)}function yb(t,e){return typeof t=="string"?e==="Uncapitalize"?xv(t):e==="Capitalize"?Fv(t):e==="Uppercase"?$v(t):e==="Lowercase"?Pv(t):t:t.toString()}function _b(t,e){return t.map(n=>qo(n,e))}function qo(t,e,n={}){return Ci(t)?Iv(t,e,n):kn(t)?Mv(t,e,t):Nt(t)?Ne(_b(t.anyOf,e),n):gn(t)?qt(yb(t.const,e),n):t}function Rv(t,e={}){return qo(t,"Capitalize",e)}function Ev(t,e={}){return qo(t,"Lowercase",e)}function Av(t,e={}){return qo(t,"Uncapitalize",e)}function vv(t,e={}){return qo(t,"Uppercase",e)}function Nv(t,e){return{...e,[U]:"Not",not:H(t)}}function kv(t,e,n){return globalThis.Object.getOwnPropertyNames(t).reduce((i,s)=>({...i,[s]:sh(t[s],e,n)}),{})}function Cv(t,e,n){return kv(t.properties,e,n)}function Tv(t,e,n){const i=Cv(t,e,n);return ge(i)}function Lv(t,e){return t.map(n=>oh(n,e))}function Uv(t,e){return t.map(n=>oh(n,e))}function Dv(t,e){const{[e]:n,...i}=t;return i}function Bv(t,e){return e.reduce((n,i)=>Dv(n,i),t)}function oh(t,e){return pe(t)?Ui(Lv(t.allOf,e)):Nt(t)?Ne(Uv(t.anyOf,e)):gt(t)?ue(Bv(t.properties,e)):ue({})}function sh(t,e,n={}){if(Ci(e))return Kv(t,e,n);if(Ze(t))return Tv(t,e,n);const i=$t(e)?ni(e):e,s=dn(t,[Mn,"$id","required"]),c=H(oh(t,i),n);return{...s,...c}}function jv(t,e,n){return{[e]:sh(t,[e],n)}}function qv(t,e,n){return e.reduce((i,s)=>({...i,...jv(t,s,n)}),{})}function Wv(t,e,n){return qv(t,e.keys,n)}function Kv(t,e,n){const i=Wv(t,e,n);return ge(i)}function Hv(t,e={}){return uu(Jn(t.parameters),{...e})}function Yg(t){return t.map(e=>bb(e))}function Gv(t){return globalThis.Object.getOwnPropertyNames(t).reduce((e,n)=>({...e,[n]:Li(t[n])}),{})}function bb(t){return pe(t)?Ui(Yg(t.allOf)):Nt(t)?Ne(Yg(t.anyOf)):gt(t)?ue(Gv(t.properties)):ue({})}function wb(t,e={}){if(Ze(t))return Jv(t,e);const n=dn(t,[Mn,"$id","required"]),i=H(bb(t),e);return{...n,...i}}function Yv(t,e){return globalThis.Object.getOwnPropertyNames(t).reduce((n,i)=>({...n,[i]:wb(t[i],e)}),{})}function zv(t,e){return Yv(t.properties,e)}function Jv(t,e){const n=zv(t,e);return ge(n)}function Xv(t,e,n){return globalThis.Object.getOwnPropertyNames(t).reduce((i,s)=>({...i,[s]:ch(t[s],e,n)}),{})}function Qv(t,e,n){return Xv(t.properties,e,n)}function Zv(t,e,n){const i=Qv(t,e,n);return ge(i)}function Vv(t,e){return t.map(n=>uh(n,e))}function tN(t,e){return t.map(n=>uh(n,e))}function eN(t,e){return e.reduce((n,i)=>i in t?{...n,[i]:t[i]}:n,{})}function uh(t,e){return pe(t)?Ui(Vv(t.allOf,e)):Nt(t)?Ne(tN(t.anyOf,e)):gt(t)?ue(eN(t.properties,e)):ue({})}function ch(t,e,n={}){if(Ci(e))return oN(t,e,n);if(Ze(t))return Zv(t,e,n);const i=$t(e)?ni(e):e,s=dn(t,[Mn,"$id","required"]),c=H(uh(t,i),n);return{...s,...c}}function nN(t,e,n){return{[e]:ch(t,[e],n)}}function rN(t,e,n){return e.reduce((i,s)=>({...i,...nN(t,s,n)}),{})}function iN(t,e,n){return rN(t,e.keys,n)}function oN(t,e,n){const i=iN(t,e,n);return ge(i)}function sN(t){return Ti(Li(t))}function du(t,e,n){return{...n,[U]:"Record",type:"object",patternProperties:{[t]:H(e)}}}function ah(t,e,n){const i=t.reduce((s,c)=>({...s,[c]:H(e)}),{});return ue(i,{...n,[ma]:"Record"})}function uN(t,e,n){return NR(t)?ah(ni(t),e,n):du(t.pattern,e,n)}function cN(t,e,n){return ah(ni(Ne(t)),e,n)}function aN(t,e,n){return ah([t.toString()],e,n)}function fN(t,e,n){return du(t.source,e,n)}function lN(t,e,n){const i=jt(t.pattern)?Bc:t.pattern;return du(i,e,n)}function dN(t,e,n){return du(Us,e,n)}function hN(t,e,n){return du(Us,e,n)}function mN(t,e,n={}){return Nt(t)?cN(t.anyOf,e,n):kn(t)?uN(t,e,n):gn(t)?aN(t.const,e,n):pn(t)?dN(t,e,n):le(t)?hN(t,e,n):go(t)?fN(t,e,n):Je(t)?lN(t,e,n):ve(n)}let pN=0;function gN(t,e={}){jt(e.$id)&&(e.$id=`T${pN++}`);const n=t({[U]:"This",$ref:`${e.$id}`});return n.$id=e.$id,H({...e,[ma]:"Recursive",...n})}function yN(t,e={}){if(ee(t))return{...e,[U]:"Ref",$ref:t};if(jt(t.$id))throw new Error("Reference target type must specify an $id");return{...e,[U]:"Ref",$ref:t.$id}}function _N(t,e={}){const n=ee(t)?new globalThis.RegExp(t):t;return{...e,[U]:"RegExp",type:"RegExp",source:n.source,flags:n.flags}}function zg(t){return t.map(e=>Sb(e))}function bN(t){return globalThis.Object.getOwnPropertyNames(t).reduce((e,n)=>({...e,[n]:dn(t[n],[ki])}),{})}function Sb(t){return pe(t)?Ui(zg(t.allOf)):Nt(t)?Ne(zg(t.anyOf)):gt(t)?ue(bN(t.properties)):ue({})}function Ob(t,e={}){if(Ze(t))return ON(t,e);{const n=dn(t,[Mn,"$id","required"]),i=H(Sb(t),e);return{...n,...i}}}function wN(t,e){return globalThis.Object.getOwnPropertyNames(t).reduce((n,i)=>({...n,[i]:Ob(t[i],e)}),{})}function SN(t,e){return wN(t.properties,e)}function ON(t,e){const n=SN(t,e);return ge(n)}function IN(t){return pe(t)?[...t.allOf]:Nt(t)?[...t.anyOf]:Rr(t)?[...t.items??[]]:[]}function xN(t){return Jn(IN(t))}function FN(t,e={}){return H(t.returns,e)}function $N(t){return JSON.parse(JSON.stringify(t))}class PN{constructor(e){_(this,"schema");this.schema=e}Decode(e){return new MN(this.schema,e)}}class MN{constructor(e,n){_(this,"schema");_(this,"decode");this.schema=e,this.decode=n}EncodeTransform(e,n){const c={Encode:f=>n[Mn].Encode(e(f)),Decode:f=>this.decode(n[Mn].Decode(f))};return{...n,[Mn]:c}}EncodeSchema(e,n){const i={Decode:this.decode,Encode:e};return{...n,[Mn]:i}}Encode(e){const n=H(this.schema);return ei(n)?this.EncodeTransform(e,n):this.EncodeSchema(e,n)}}function RN(t){return new PN(t)}function Ib(t={}){return{...t,[U]:t[U]??"Unsafe"}}function EN(t={}){return{...t,[U]:"Void",type:"void"}}const AN=Object.freeze(Object.defineProperty({__proto__:null,Any:Ds,Array:B_,AsyncIterator:j_,Awaited:AE,BigInt:Qd,Boolean:G_,Capitalize:Rv,Composite:GE,Const:JE,Constructor:q_,ConstructorParameters:XE,Date:ob,Deref:nr,Enum:fA,Exclude:rh,Extends:nh,Extract:ih,Function:_a,Index:su,InstanceType:_v,Integer:bv,Intersect:Ui,Iterator:Z_,KeyOf:ib,Literal:qt,Lowercase:Ev,Mapped:_E,Never:ve,Not:Nv,Null:sb,Number:Bo,Object:ue,Omit:sh,Optional:Li,Parameters:Hv,Partial:wb,Pick:ch,Promise:V_,Readonly:Ti,ReadonlyOptional:sN,Record:mN,Recursive:gN,Ref:yN,RegExp:_N,Required:Ob,Rest:xN,ReturnType:FN,Strict:$N,String:Xr,Symbol:ub,TemplateLiteral:z_,Transform:RN,Tuple:uu,Uint8Array:ab,Uncapitalize:Av,Undefined:cb,Union:Ne,Unknown:cu,Unsafe:Ib,Uppercase:vv,Void:EN},Symbol.toStringTag,{value:"Module"})),rt=AN;rt.Object({organizations:rt.Union([rt.Literal("dyne"),rt.Literal("ff3300"),rt.Literal("freelance"),rt.Literal("la-scuola-open-source")]),projects:rt.Union([rt.Literal("join"),rt.Literal("reaction-diffusion"),rt.Literal("scabec"),rt.Literal("signroom")]),work_experiences:rt.Union([rt.Literal("2019-07_oggi_freelance_docente"),rt.Literal("2021-05_oggi_sos"),rt.Literal("2021-09_2022-03_sos"),rt.Literal("2022-10_oggi_dyne")])});const vN={organizations:["dyne","ff3300","freelance","la-scuola-open-source"],projects:["join","reaction-diffusion","scabec","signroom"],work_experiences:["2019-07_oggi_freelance_docente","2021-05_oggi_sos","2021-09_2022-03_sos","2022-10_oggi_dyne"]};const NN=t=>typeof t=="function",x=function(t,e){if(typeof t=="function")return function(){return t(arguments)?e.apply(this,arguments):n=>e(n,...arguments)};switch(t){case 0:case 1:throw new RangeError(`Invalid arity ${t}`);case 2:return function(n,i){return arguments.length>=2?e(n,i):function(s){return e(s,n)}};case 3:return function(n,i,s){return arguments.length>=3?e(n,i,s):function(c){return e(c,n,i)}};case 4:return function(n,i,s,c){return arguments.length>=4?e(n,i,s,c):function(f){return e(f,n,i,s)}};case 5:return function(n,i,s,c,f){return arguments.length>=5?e(n,i,s,c,f):function(d){return e(d,n,i,s,c)}};default:return function(){if(arguments.length>=t)return e.apply(this,arguments);const n=arguments;return function(i){return e(i,...n)}}}},ie=t=>t,Oa=t=>()=>t,Jg=Oa(!0),Zl=Oa(!1),kN=Oa(void 0);function P(t,e,n,i,s,c,f,d,p){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return n(e(t));case 4:return i(n(e(t)));case 5:return s(i(n(e(t))));case 6:return c(s(i(n(e(t)))));case 7:return f(c(s(i(n(e(t))))));case 8:return d(f(c(s(i(n(e(t)))))));case 9:return p(d(f(c(s(i(n(e(t))))))));default:{let y=arguments[0];for(let M=1;M<arguments.length;M++)y=arguments[M](y);return y}}}let CN="2.4.0";const Wc=()=>CN,Vl=Symbol.for(`effect/GlobalValue/globalStoreId/${Wc()}`);Vl in globalThis||(globalThis[Vl]=new Map);const El=globalThis[Vl],Rt=(t,e)=>(El.has(t)||El.set(t,e()),El.get(t)),TN=t=>typeof t=="string",Ec=t=>typeof t=="number",LN=t=>typeof t=="bigint",qs=NN,UN=t=>typeof t=="object"&&t!==null,xb=t=>UN(t)||qs(t),at=x(2,(t,e)=>xb(t)&&e in t),Fb=x(2,(t,e)=>at(t,"_tag")&&t._tag===e),oo=t=>t==null,$b=t=>at(t,Symbol.iterator),DN=t=>at(t,"then")&&"catch"in t&&qs(t.then)&&qs(t.catch),BN=335903614,jN=4150755663,qN=1481765933,WN=1284865837,KN=9007199254740992,HN=134217728;class Pb{constructor(e,n,i,s){_(this,"_state");return oo(n)&&oo(e)?(n=Math.random()*4294967295>>>0,e=0):oo(n)&&(n=e,e=0),oo(s)&&oo(i)?(s=this._state?this._state[3]:jN,i=this._state?this._state[2]:BN):oo(s)&&(s=i,i=0),this._state=new Int32Array([0,0,i>>>0,((s||0)|1)>>>0]),this._next(),Xg(this._state,this._state[0],this._state[1],e>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(e){this._state[0]=e[0],this._state[1]=e[1],this._state[2]=e[2],this._state[3]=e[3]|1}integer(e){if(!e)return this._next();if(e=e>>>0,!(e&e-1))return this._next()&e-1;let n=0;const i=(-e>>>0)%e>>>0;for(n=this._next();n<i;n=this._next());return n%e}number(){const e=(this._next()&67108863)*1,n=(this._next()&134217727)*1;return(e*HN+n)/KN}_next(){const e=this._state[0]>>>0,n=this._state[1]>>>0;GN(this._state,e,n,qN,WN),Xg(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let i=e>>>18,s=(n>>>18|e<<14)>>>0;i=(i^e)>>>0,s=(s^n)>>>0;const c=(s>>>27|i<<5)>>>0,f=e>>>27,d=(-f>>>0&31)>>>0;return(c>>>f|c<<d)>>>0}}function GN(t,e,n,i,s){let c=(n>>>16)*(s&65535)>>>0,f=(n&65535)*(s>>>16)>>>0,d=(n&65535)*(s&65535)>>>0,p=(n>>>16)*(s>>>16)+((f>>>16)+(c>>>16))>>>0;f=f<<16>>>0,d=d+f>>>0,d>>>0<f>>>0&&(p=p+1>>>0),c=c<<16>>>0,d=d+c>>>0,d>>>0<c>>>0&&(p=p+1>>>0),p=p+Math.imul(n,i)>>>0,p=p+Math.imul(e,s)>>>0,t[0]=p,t[1]=d}function Xg(t,e,n,i,s){let c=e+i>>>0;const f=n+s>>>0;f>>>0<n>>>0&&(c=c+1|0),t[0]=c,t[1]=f}const Al=Rt(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),YN=Rt(Symbol.for("effect/Hash/pcgr"),()=>new Pb),it=Symbol.for("effect/Hash"),K=t=>{switch(typeof t){case"number":return fh(t);case"bigint":return fe(t.toString(10));case"boolean":return fe(String(t));case"symbol":return fe(String(t));case"string":return fe(t);case"undefined":return fe("undefined");case"function":case"object":return t===null?fe("null"):zN(t)?t[it]():hu(t);default:throw new Error(`BUG: unhandled typeof ${typeof t} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},hu=t=>(Al.has(t)||Al.set(t,fh(YN.integer(Number.MAX_SAFE_INTEGER))),Al.get(t)),_t=t=>e=>e*53^t,Ia=t=>t&3221225471|t>>>1&1073741824,zN=t=>at(t,it),fh=t=>{if(t!==t||t===1/0)return 0;let e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)e^=t/=4294967295;return Ia(t)},fe=t=>{let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return Ia(e)},JN=(t,e)=>{let n=12289;for(let i=0;i<e.length;i++)n^=P(fe(e[i]),_t(K(t[e[i]])));return Ia(n)},Mb=t=>JN(t,Object.keys(t)),mu=t=>{let e=6151;for(let n=0;n<t.length;n++)e=P(e,_t(K(t[n])));return Ia(e)},Wt=function(){if(arguments.length===1){const n=arguments[0];return function(i){return Object.defineProperty(n,it,{value(){return i},enumerable:!1}),i}}const t=arguments[0],e=arguments[1];return Object.defineProperty(t,it,{value(){return e},enumerable:!1}),e},nt=Symbol.for("effect/Equal");function ct(){return arguments.length===1?t=>Qg(t,arguments[0]):Qg(arguments[0],arguments[1])}function Qg(t,e){if(t===e)return!0;const n=typeof t;return n!==typeof e?!1:(n==="object"||n==="function")&&t!==null&&e!==null&&Kc(t)&&Kc(e)?K(t)===K(e)&&t[nt](e):!1}const Kc=t=>at(t,nt),lh=()=>ct,dh=t=>(e,n)=>e===n||t(e,n),XN=x(2,(t,e)=>dh((n,i)=>t(e(n),e(i)))),QN=t=>dh((e,n)=>{if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(!t(e[i],n[i]))return!1;return!0}),Kt=Symbol.for("nodejs.util.inspect.custom"),te=t=>at(t,"toJSON")&&qs(t.toJSON)&&t.toJSON.length===0?t.toJSON():Array.isArray(t)?t.map(te):t,ye=t=>JSON.stringify(t,null,2),X=(t,e)=>{switch(e.length){case 1:return e[0](t);case 2:return e[1](e[0](t));case 3:return e[2](e[1](e[0](t)));case 4:return e[3](e[2](e[1](e[0](t))));case 5:return e[4](e[3](e[2](e[1](e[0](t)))));case 6:return e[5](e[4](e[3](e[2](e[1](e[0](t))))));case 7:return e[6](e[5](e[4](e[3](e[2](e[1](e[0](t)))))));case 8:return e[7](e[6](e[5](e[4](e[3](e[2](e[1](e[0](t))))))));case 9:return e[8](e[7](e[6](e[5](e[4](e[3](e[2](e[1](e[0](t)))))))));default:{let n=t;for(let i=0,s=e.length;i<s;i++)n=e[i](n);return n}}},Ac="Async",Rb="Commit",An="Failure",vl="OnFailure",Hc="OnSuccess",Gc="OnSuccessAndFailure",vn="Success",Eb="Sync",ZN="Tag",pu="UpdateRuntimeFlags",Yc="While",Ab="WithRuntime",vc="Yield",hh="RevertFlags",vb=Symbol.for("effect/Effect"),VN=Symbol.for("effect/Stream"),tk=Symbol.for("effect/Sink"),ek=Symbol.for("effect/Channel"),_o={_R:t=>t,_E:t=>t,_A:t=>t,_V:Wc()},nk={_A:t=>t,_In:t=>t,_L:t=>t,_E:t=>t,_R:t=>t},rk={_Env:t=>t,_InErr:t=>t,_InElem:t=>t,_InDone:t=>t,_OutErr:t=>t,_OutElem:t=>t,_OutDone:t=>t},xa={[vb]:_o,[VN]:_o,[tk]:nk,[ek]:rk,[nt](t){return this===t},[it](){return Wt(this,hu(this))},pipe(){return X(this,arguments)}},mh={[it](){return Wt(this,Mb(this))},[nt](t){const e=Object.keys(this),n=Object.keys(t);if(e.length!==n.length)return!1;for(const i of e)if(!(i in t&&ct(this[i],t[i])))return!1;return!0}},ik={...xa,_op:Rb},ok={...ik,...mh},Nb=Symbol.for("effect/Option"),kb={...xa,[Nb]:{_A:t=>t},[Kt](){return this.toJSON()},toString(){return ye(this.toJSON())}},sk=Object.assign(Object.create(kb),{_tag:"Some",_op:"Some",[nt](t){return Cb(t)&&Lb(t)&&ct(t.value,this.value)},[it](){return Wt(this,_t(K(this._tag))(K(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:te(this.value)}}}),uk=K("None"),ck=Object.assign(Object.create(kb),{_tag:"None",_op:"None",[nt](t){return Cb(t)&&Tb(t)},[it](){return uk},toJSON(){return{_id:"Option",_tag:this._tag}}}),Cb=t=>at(t,Nb),Tb=t=>t._tag==="None",Lb=t=>t._tag==="Some",Ub=Object.create(ck),Db=t=>{const e=Object.create(sk);return e.value=t,e},Bb=Symbol.for("effect/Either"),jb={...xa,[Bb]:{_R:t=>t},[Kt](){return this.toJSON()},toString(){return ye(this.toJSON())}},ak=Object.assign(Object.create(jb),{_tag:"Right",_op:"Right",[nt](t){return qb(t)&&Kb(t)&&ct(t.right,this.right)},[it](){return _t(K(this._tag))(K(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:te(this.right)}}}),fk=Object.assign(Object.create(jb),{_tag:"Left",_op:"Left",[nt](t){return qb(t)&&Wb(t)&&ct(t.left,this.left)},[it](){return _t(K(this._tag))(K(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:te(this.left)}}}),qb=t=>at(t,Bb),Wb=t=>t._tag==="Left",Kb=t=>t._tag==="Right",lk=t=>{const e=Object.create(fk);return e.left=t,e},dk=t=>{const e=Object.create(ak);return e.right=t,e},Hb=t=>(e,n)=>e===n?0:t(e,n),hk=Hb((t,e)=>t<e?-1:1),mk=x(2,(t,e)=>Hb((n,i)=>t(e(n),e(i)))),pk=t=>x(2,(e,n)=>t(e,n)===1),Z=()=>Ub,bt=Db,Ye=Tb,Qn=Lb,Di=x(2,(t,{onNone:e,onSome:n})=>Ye(t)?e():n(t.value)),$i=x(2,(t,e)=>Ye(t)?e():t.value),ph=t=>t==null?Z():bt(t),gi=$i(kN),gk=x(2,(t,e)=>{if(Qn(t))return t.value;throw e()}),yk=gk(()=>new Error("getOrThrow called on a None")),_k=x(2,(t,e)=>Ye(t)?Z():bt(e(t.value))),Gb=x(2,(t,e)=>Ye(t)?Z():e(t.value)),bk=t=>x(2,(e,n)=>Ye(e)?!1:t(e.value,n)),wk=lh(),Sk=bk(wk),br=dk,bo=lk,As=Wb,Fc=Kb,Ok=x(2,(t,{onLeft:e,onRight:n})=>As(t)?e(t.left):n(t.right)),Ik=Ok({onLeft:ie,onRight:ie}),Yb=t=>t.length>0,xk=x(2,(t,e)=>{const n=[];for(const i of $k(t))n.push(e(i,t[i]));return n}),Fk=xk((t,e)=>[t,e]),$k=t=>Object.keys(t),Pk=(...t)=>t,Mk=(t,e)=>{const n=Math.max(1,Math.floor(t)),i=[e(0)];for(let s=1;s<n;s++)i.push(e(s));return i},Yt=t=>Array.isArray(t)?t:Array.from(t),zc=x(2,(t,e)=>[e,...t]),Rk=x(2,(t,e)=>[...t,e]),zb=x(2,(t,e)=>Yt(t).concat(Yt(e))),Ek=t=>t.length===0,Ak=Ek,vk=Yb,Xe=Yb,Jb=(t,e)=>t<0||t>=e.length,Nk=(t,e)=>Math.floor(Math.min(Math.max(0,t),e.length)),kk=x(2,(t,e)=>{const n=Math.floor(e);return Jb(n,t)?Z():bt(t[n])}),Xb=x(2,(t,e)=>{const n=Math.floor(e);if(Jb(n,t))throw new Error(`Index ${n} out of bounds`);return t[n]}),lo=kk(0),ze=Xb(0),Ck=t=>Xe(t)?bt(Qb(t)):Z(),Qb=t=>t[t.length-1],wo=t=>t.slice(1),Tk=(t,e)=>{let n=0;for(const i of t){if(!e(i,n))break;n++}return n},Lk=x(2,(t,e)=>jk(t,Tk(t,e))),Uk=x(2,(t,e)=>{const n=Yt(t);return n.slice(Nk(e,n),n.length)}),Zg=t=>Array.from(t).reverse(),Jc=x(2,(t,e)=>{const n=Array.from(t);return n.sort(e),n}),Vg=x(2,(t,e)=>Dk(t,e,Pk)),Dk=x(3,(t,e,n)=>{const i=Yt(t),s=Yt(e);if(Xe(i)&&Xe(s)){const c=[n(ze(i),ze(s))],f=Math.min(i.length,s.length);for(let d=1;d<f;d++)c[d]=n(i[d],s[d]);return c}return[]}),Bk=lh(),jk=x(2,(t,e)=>{const n=Array.from(t),i=Math.floor(e);return Xe(n)?i>=1?qk(n,i):[[],n]:[n,[]]}),qk=x(2,(t,e)=>{const n=Math.max(1,Math.floor(e));return n>=t.length?[Wk(t),[]]:[zc(t.slice(1,n),ze(t)),t.slice(n)]}),Wk=t=>t.slice(),Kk=x(3,(t,e,n)=>{const i=Yt(t),s=Yt(e);return Xe(i)?Xe(s)?t0(n)(zb(i,s)):i:s}),td=x(2,(t,e)=>Kk(t,e,Bk)),So=()=>[],$n=t=>[t],zr=x(2,(t,e)=>t.map(e)),Hk=x(2,(t,e)=>{if(Ak(t))return[];const n=[];for(let i=0;i<t.length;i++){const s=e(t[i],i);for(let c=0;c<s.length;c++)n.push(s[c])}return n}),Gk=Hk(ie),Zb=x(2,(t,e)=>{const n=Yt(t),i=[];for(let s=0;s<n.length;s++)e(n[s],s)&&i.push(n[s]);return i}),Vb=x(3,(t,e,n)=>Yt(t).reduce((i,s,c)=>n(i,s,c),e)),ty=(t,e)=>{const n=[];let i=t,s;for(;Qn(s=e(i));){const[c,f]=s.value;n.push(c),i=f}return n},gh=QN,t0=x(2,(t,e)=>{const n=Yt(t);if(Xe(n)){const i=[ze(n)],s=wo(n);for(const c of s)i.every(f=>!e(c,f))&&i.push(c);return i}return[]}),Yk=t=>t0(t,lh()),Wo=x(2,(t,e)=>Yt(t).join(e)),zk=Symbol.for("effect/Context/Tag"),Jk="effect/STM",Xk=Symbol.for(Jk),Qk={...xa,_tag:"Tag",_op:"Tag",[Xk]:_o,[zk]:{_Service:t=>t,_Identifier:t=>t},toString(){return ye(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[Kt](){return this.toJSON()},of(t){return t},context(t){return n0(this,t)}},Zk=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=e;const i=Object.create(Qk);return Object.defineProperty(i,"stack",{get(){return n.stack}}),i.key=t,i},e0=Symbol.for("effect/Context"),Vk={[e0]:{_Services:t=>t},[nt](t){if(eC(t)&&this.unsafeMap.size===t.unsafeMap.size){for(const e of this.unsafeMap.keys())if(!t.unsafeMap.has(e)||!ct(this.unsafeMap.get(e),t.unsafeMap.get(e)))return!1;return!0}return!1},[it](){return Wt(this,fh(this.unsafeMap.size))},pipe(){return X(this,arguments)},toString(){return ye(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(te)}},[Kt](){return this.toJSON()}},Oo=t=>{const e=Object.create(Vk);return e.unsafeMap=t,e},tC=t=>{const e=new Error(`Service not found${t.key?`: ${String(t.key)}`:""}`);if(t.stack){const n=t.stack.split(`
`);if(n.length>2){const i=n[2].match(/at (.*)/);i&&(e.message=e.message+` (defined at ${i[1]})`)}}if(e.stack){const n=e.stack.split(`
`);n.splice(1,3),e.stack=n.join(`
`)}return e},eC=t=>at(t,e0),nC=Oo(new Map),rC=()=>nC,n0=(t,e)=>Oo(new Map([[t.key,e]])),iC=x(3,(t,e,n)=>{const i=new Map(t.unsafeMap);return i.set(e.key,n),Oo(i)}),r0=x(2,(t,e)=>{if(!t.unsafeMap.has(e.key))throw tC(e);return t.unsafeMap.get(e.key)}),oC=r0,sC=x(2,(t,e)=>t.unsafeMap.has(e.key)?Db(t.unsafeMap.get(e.key)):Ub),uC=x(2,(t,e)=>{const n=new Map(t.unsafeMap);for(const[i,s]of e.unsafeMap)n.set(i,s);return Oo(n)}),Bi=Zk,yh=rC,cC=n0,Is=iC,vs=oC,aC=r0,gu=sC,fC=uC,i0=Symbol.for("effect/Chunk");function lC(t,e,n,i,s){for(let c=e;c<Math.min(t.length,e+s);c++)n[i+c-e]=t[c];return n}const o0=[],dC=t=>dh((e,n)=>e.length===n.length&&Ns(e).every((i,s)=>t(i,ho(n,s)))),hC=dC(ct),mC={[i0]:{_A:t=>t},toString(){return ye(this.toJSON())},toJSON(){return{_id:"Chunk",values:Ns(this).map(te)}},[Kt](){return this.toJSON()},[nt](t){return s0(t)&&hC(this,t)},[it](){return Wt(this,mu(Ns(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return o0[Symbol.iterator]();default:return Ns(this)[Symbol.iterator]()}},pipe(){return X(this,arguments)}},Gt=t=>{const e=Object.create(mC);switch(e.backing=t,t._tag){case"IEmpty":{e.length=0,e.depth=0,e.left=e,e.right=e;break}case"IConcat":{e.length=t.left.length+t.right.length,e.depth=1+Math.max(t.left.depth,t.right.depth),e.left=t.left,e.right=t.right;break}case"IArray":{e.length=t.array.length,e.depth=0,e.left=Gn,e.right=Gn;break}case"ISingleton":{e.length=1,e.depth=0,e.left=Gn,e.right=Gn;break}case"ISlice":{e.length=t.length,e.depth=t.chunk.depth+1,e.left=Gn,e.right=Gn;break}}return e},s0=t=>at(t,i0),Gn=Gt({_tag:"IEmpty"}),Pi=()=>Gn,Ir=t=>Gt({_tag:"ISingleton",a:t}),u0=t=>s0(t)?t:Gt({_tag:"IArray",array:Yt(t)}),ed=(t,e,n)=>{switch(t.backing._tag){case"IArray":{lC(t.backing.array,0,e,n,t.length);break}case"IConcat":{ed(t.left,e,n),ed(t.right,e,n+t.left.length);break}case"ISingleton":{e[n]=t.backing.a;break}case"ISlice":{let i=0,s=n;for(;i<t.length;)e[s]=ho(t,i),i+=1,s+=1;break}}},Ns=t=>{switch(t.backing._tag){case"IEmpty":return o0;case"IArray":return t.backing.array;default:{const e=new Array(t.length);return ed(t,e,0),t.backing={_tag:"IArray",array:e},t.left=Gn,t.right=Gn,t.depth=0,e}}},Io=t=>{switch(t.backing._tag){case"IEmpty":case"ISingleton":return t;case"IArray":return Gt({_tag:"IArray",array:Zg(t.backing.array)});case"IConcat":return Gt({_tag:"IConcat",left:Io(t.backing.right),right:Io(t.backing.left)});case"ISlice":return c0(Zg(Ns(t)))}},c0=t=>Gt({_tag:"IArray",array:t}),ho=x(2,(t,e)=>{switch(t.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":{if(e!==0)throw new Error("Index out of bounds");return t.backing.a}case"IArray":{if(e>=t.length||e<0)throw new Error("Index out of bounds");return t.backing.array[e]}case"IConcat":return e<t.left.length?ho(t.left,e):ho(t.right,e-t.left.length);case"ISlice":return ho(t.backing.chunk,e+t.backing.offset)}}),Tn=x(2,(t,e)=>Wr(Ir(e),t)),nd=x(2,(t,e)=>{if(e<=0)return t;if(e>=t.length)return Gn;switch(t.backing._tag){case"ISlice":return Gt({_tag:"ISlice",chunk:t.backing.chunk,offset:t.backing.offset+e,length:t.backing.length-e});case"IConcat":return e>t.left.length?nd(t.right,e-t.left.length):Gt({_tag:"IConcat",left:nd(t.left,e),right:t.right});default:return Gt({_tag:"ISlice",chunk:t,offset:e,length:t.length-e})}}),Wr=x(2,(t,e)=>{if(t.backing._tag==="IEmpty")return e;if(e.backing._tag==="IEmpty")return t;const n=e.depth-t.depth;if(Math.abs(n)<=1)return Gt({_tag:"IConcat",left:t,right:e});if(n<-1)if(t.left.depth>=t.right.depth){const i=Wr(t.right,e);return Gt({_tag:"IConcat",left:t.left,right:i})}else{const i=Wr(t.right.right,e);if(i.depth===t.depth-3){const s=Gt({_tag:"IConcat",left:t.right.left,right:i});return Gt({_tag:"IConcat",left:t.left,right:s})}else{const s=Gt({_tag:"IConcat",left:t.left,right:t.right.left});return Gt({_tag:"IConcat",left:s,right:i})}}else if(e.right.depth>=e.left.depth){const i=Wr(t,e.left);return Gt({_tag:"IConcat",left:i,right:e.right})}else{const i=Wr(t,e.left.left);if(i.depth===e.depth-3){const s=Gt({_tag:"IConcat",left:i,right:e.left.right});return Gt({_tag:"IConcat",left:s,right:e.right})}else{const s=Gt({_tag:"IConcat",left:e.left.right,right:e.right});return Gt({_tag:"IConcat",left:i,right:s})}}}),pC=t=>t.length===0,xo=t=>t.length>0,a0=t=>ho(t,0),Fo=a0,bi=t=>nd(t,1),Mi=5,_h=Math.pow(2,Mi),gC=_h-1,yC=_h/2,_C=_h/4;function bC(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function $o(t,e){return e>>>t&gC}function ao(t){return 1<<t}function f0(t,e){return bC(t&e-1)}const wC=(t,e)=>({value:t,previous:e});function mo(t,e,n,i){let s=i;if(!t){const c=i.length;s=new Array(c);for(let f=0;f<c;++f)s[f]=i[f]}return s[e]=n,s}function l0(t,e,n){const i=n.length-1;let s=0,c=0,f=n;if(t)s=c=e;else for(f=new Array(i);s<e;)f[c++]=n[s++];for(++s;s<=i;)f[c++]=n[s++];return t&&(f.length=i),f}function SC(t,e,n,i){const s=i.length;if(t){let p=s;for(;p>=e;)i[p--]=i[p];return i[e]=n,i}let c=0,f=0;const d=new Array(s+1);for(;c<e;)d[f++]=i[c++];for(d[e]=n;c<s;)d[++f]=i[c++];return d}class Qr{constructor(){_(this,"_tag","EmptyNode")}modify(e,n,i,s,c,f){const d=i(Z());return Ye(d)?new Qr:(++f.value,new Ii(e,s,c,d))}}function Rn(t){return Fb(t,"EmptyNode")}function OC(t){return Rn(t)||t._tag==="LeafNode"||t._tag==="CollisionNode"}function Fa(t,e){return Rn(t)?!1:e===t.edit}class Ii{constructor(e,n,i,s){_(this,"edit");_(this,"hash");_(this,"key");_(this,"value");_(this,"_tag","LeafNode");this.edit=e,this.hash=n,this.key=i,this.value=s}modify(e,n,i,s,c,f){if(ct(c,this.key)){const p=i(this.value);return p===this.value?this:Ye(p)?(--f.value,new Qr):Fa(this,e)?(this.value=p,this):new Ii(e,s,c,p)}const d=i(Z());return Ye(d)?this:(++f.value,d0(e,n,this.hash,this,s,new Ii(e,s,c,d)))}}class bh{constructor(e,n,i){_(this,"edit");_(this,"hash");_(this,"children");_(this,"_tag","CollisionNode");this.edit=e,this.hash=n,this.children=i}modify(e,n,i,s,c,f){if(s===this.hash){const p=Fa(this,e),y=this.updateCollisionList(p,e,this.hash,this.children,i,c,f);return y===this.children?this:y.length>1?new bh(e,this.hash,y):y[0]}const d=i(Z());return Ye(d)?this:(++f.value,d0(e,n,this.hash,this,s,new Ii(e,s,c,d)))}updateCollisionList(e,n,i,s,c,f,d){const p=s.length;for(let M=0;M<p;++M){const A=s[M];if("key"in A&&ct(f,A.key)){const N=A.value,k=c(N);return k===N?s:Ye(k)?(--d.value,l0(e,M,s)):mo(e,M,new Ii(n,i,f,k),s)}}const y=c(Z());return Ye(y)?s:(++d.value,mo(e,p,new Ii(n,i,f,y),s))}}class Po{constructor(e,n,i){_(this,"edit");_(this,"mask");_(this,"children");_(this,"_tag","IndexedNode");this.edit=e,this.mask=n,this.children=i}modify(e,n,i,s,c,f){const d=this.mask,p=this.children,y=$o(n,s),M=ao(y),A=f0(d,M),N=d&M,k=Fa(this,e);if(!N){const pt=new Qr().modify(e,n+Mi,i,s,c,f);return pt?p.length>=yC?xC(e,y,pt,d,p):new Po(e,d|M,SC(k,A,pt,p)):this}const B=p[A],mt=B.modify(e,n+Mi,i,s,c,f);if(B===mt)return this;let tt=d,Ft;if(Rn(mt)){if(tt&=~M,!tt)return new Qr;if(p.length<=2&&OC(p[A^1]))return p[A^1];Ft=l0(k,A,p)}else Ft=mo(k,A,mt,p);return k?(this.mask=tt,this.children=Ft,this):new Po(e,tt,Ft)}}class wh{constructor(e,n,i){_(this,"edit");_(this,"size");_(this,"children");_(this,"_tag","ArrayNode");this.edit=e,this.size=n,this.children=i}modify(e,n,i,s,c,f){let d=this.size;const p=this.children,y=$o(n,s),M=p[y],A=(M||new Qr).modify(e,n+Mi,i,s,c,f);if(M===A)return this;const N=Fa(this,e);let k;if(Rn(M)&&!Rn(A))++d,k=mo(N,y,A,p);else if(!Rn(M)&&Rn(A)){if(--d,d<=_C)return IC(e,d,y,p);k=mo(N,y,new Qr,p)}else k=mo(N,y,A,p);return N?(this.size=d,this.children=k,this):new wh(e,d,k)}}function IC(t,e,n,i){const s=new Array(e-1);let c=0,f=0;for(let d=0,p=i.length;d<p;++d)if(d!==n){const y=i[d];y&&!Rn(y)&&(s[c++]=y,f|=1<<d)}return new Po(t,f,s)}function xC(t,e,n,i,s){const c=[];let f=i,d=0;for(let p=0;f;++p)f&1&&(c[p]=s[d++]),f>>>=1;return c[e]=n,new wh(t,d+1,c)}function FC(t,e,n,i,s,c){if(n===s)return new bh(t,n,[c,i]);const f=$o(e,n),d=$o(e,s);if(f===d)return p=>new Po(t,ao(f)|ao(d),[p]);{const p=f<d?[i,c]:[c,i];return new Po(t,ao(f)|ao(d),p)}}function d0(t,e,n,i,s,c){let f,d=e;for(;;){const p=FC(t,d,n,i,s,c);if(typeof p=="function")f=wC(p,f),d=d+Mi;else{let y=p;for(;f!=null;)y=f.value(y),f=f.previous;return y}}}const h0="effect/HashMap",rd=Symbol.for(h0),$C={[rd]:rd,[Symbol.iterator](){return new $a(this,(t,e)=>[t,e])},[it](){let t=K(h0);for(const e of this)t^=P(K(e[0]),_t(K(e[1])));return Wt(this,t)},[nt](t){if(RC(t)){if(t._size!==this._size)return!1;for(const e of this){const n=P(t,Oh(e[0],K(e[0])));if(Ye(n))return!1;if(!ct(e[1],n.value))return!1}return!0}return!1},toString(){return ye(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(te)}},[Kt](){return this.toJSON()},pipe(){return X(this,arguments)}},Sh=(t,e,n,i)=>{const s=Object.create($C);return s._editable=t,s._edit=e,s._root=n,s._size=i,s};class $a{constructor(e,n){_(this,"map");_(this,"f");_(this,"v");this.map=e,this.f=n,this.v=m0(this.map._root,this.f,void 0)}next(){if(Ye(this.v))return{done:!0,value:void 0};const e=this.v.value;return this.v=Xc(e.cont),{done:!1,value:e.value}}[Symbol.iterator](){return new $a(this.map,this.f)}}const Xc=t=>t?p0(t[0],t[1],t[2],t[3],t[4]):Z(),m0=(t,e,n=void 0)=>{switch(t._tag){case"LeafNode":return Qn(t.value)?bt({value:e(t.key,t.value.value),cont:n}):Xc(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const i=t.children;return p0(i.length,i,0,e,n)}default:return Xc(n)}},p0=(t,e,n,i,s)=>{for(;n<t;){const c=e[n++];if(c&&!Rn(c))return m0(c,i,[t,e,n,i,s])}return Xc(s)},PC=Sh(!1,0,new Qr,0),Pa=()=>PC,MC=(...t)=>g0(t),g0=t=>{const e=_0(Pa());for(const n of t)Ws(e,n[0],n[1]);return kC(e)},RC=t=>at(t,rd),EC=t=>t&&Rn(t._root),AC=x(2,(t,e)=>Oh(t,e,K(e))),Oh=x(3,(t,e,n)=>{let i=t._root,s=0;for(;;)switch(i._tag){case"LeafNode":return ct(e,i.key)?i.value:Z();case"CollisionNode":{if(n===i.hash){const c=i.children;for(let f=0,d=c.length;f<d;++f){const p=c[f];if("key"in p&&ct(e,p.key))return p.value}}return Z()}case"IndexedNode":{const c=$o(s,n),f=ao(c);if(i.mask&f){i=i.children[f0(i.mask,f)],s+=Mi;break}return Z()}case"ArrayNode":{if(i=i.children[$o(s,n)],i){s+=Mi;break}return Z()}default:return Z()}}),vC=x(2,(t,e)=>Qn(Oh(t,e,K(e)))),Ws=x(3,(t,e,n)=>b0(t,e,()=>bt(n))),NC=x(3,(t,e,n)=>t._editable?(t._root=e,t._size=n,t):e===t._root?t:Sh(t._editable,t._edit,e,n)),y0=t=>new $a(t,e=>e),Qc=t=>t._size,_0=t=>Sh(!0,t._edit+1,t._root,t._size),kC=t=>(t._editable=!1,t),b0=x(3,(t,e,n)=>CC(t,e,K(e),n)),CC=x(4,(t,e,n,i)=>{const s={value:t._size},c=t._root.modify(t._editable?t._edit:NaN,0,i,n,e,s);return P(t,NC(c,s.value))}),ey=x(2,(t,e)=>b0(t,e,Z)),TC=x(2,(t,e)=>Ma(t,Pa(),(n,i,s)=>Ws(n,s,e(i,s)))),LC=x(2,(t,e)=>Ma(t,void 0,(n,i,s)=>e(i,s))),Ma=x(3,(t,e,n)=>{const i=t._root;if(i._tag==="LeafNode")return Qn(i.value)?n(e,i.value.value,i.key):e;if(i._tag==="EmptyNode")return e;const s=[i.children];let c;for(;c=s.pop();)for(let f=0,d=c.length;f<d;){const p=c[f++];p&&!Rn(p)&&(p._tag==="LeafNode"?Qn(p.value)&&(e=n(e,p.value.value,p.key)):s.push(p.children))}return e}),w0="effect/HashSet",id=Symbol.for(w0),UC={[id]:id,[Symbol.iterator](){return y0(this._keyMap)},[it](){return Wt(this,_t(K(this._keyMap))(K(w0)))},[nt](t){return DC(t)?Qc(this._keyMap)===Qc(t._keyMap)&&ct(this._keyMap,t._keyMap):!1},toString(){return ye(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(te)}},[Kt](){return this.toJSON()},pipe(){return X(this,arguments)}},Ra=t=>{const e=Object.create(UC);return e._keyMap=t,e},DC=t=>at(t,id),BC=Ra(Pa()),Ea=()=>BC,jC=t=>{const e=Ih(Ea());for(const n of t)Ks(e,n);return xh(e)},qC=(...t)=>{const e=Ih(Ea());for(const n of t)Ks(e,n);return xh(e)},WC=x(2,(t,e)=>vC(t._keyMap,e)),KC=t=>Qc(t._keyMap),Ih=t=>Ra(_0(t._keyMap)),xh=t=>(t._keyMap._editable=!1,t),S0=x(2,(t,e)=>{const n=Ih(t);return e(n),xh(n)}),Ks=x(2,(t,e)=>t._keyMap._editable?(Ws(e,!0)(t._keyMap),t):Ra(Ws(e,!0)(t._keyMap))),O0=x(2,(t,e)=>t._keyMap._editable?(ey(e)(t._keyMap),t):Ra(ey(e)(t._keyMap))),HC=x(2,(t,e)=>S0(t,n=>{for(const i of e)O0(n,i)})),GC=x(2,(t,e)=>S0(Ea(),n=>{YC(t,i=>Ks(n,i));for(const i of e)Ks(n,i)})),YC=x(2,(t,e)=>LC(t._keyMap,(n,i)=>e(i))),zC=x(3,(t,e,n)=>Ma(t._keyMap,e,(i,s,c)=>n(i,c))),Ri=Ea,JC=jC,Fh=qC,XC=WC,I0=KC,ks=Ks,x0=O0,ny=HC,Hs=GC,Zc=zC,ry=Symbol.for("effect/MutableRef"),QC={[ry]:ry,toString(){return ye(this.toJSON())},toJSON(){return{_id:"MutableRef",current:te(this.current)}},[Kt](){return this.toJSON()},pipe(){return X(this,arguments)}},F0=t=>{const e=Object.create(QC);return e.current=t,e},Aa=t=>t.current,va=x(2,(t,e)=>(t.current=e,t)),$h="effect/FiberId",Gs=Symbol.for($h),Vc="None",od="Runtime",ZC="Composite",VC=fe(`${$h}-${Vc}`);var V6;let t2=class{constructor(){_(this,V6,Gs);_(this,"_tag",Vc);_(this,"id",-1);_(this,"startTimeMillis",-1)}[(V6=Gs,it)](){return VC}[nt](e){return $0(e)&&e._tag===Vc}toString(){return ye(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[Kt](){return this.toJSON()}};var tK;class e2{constructor(e,n){_(this,"id");_(this,"startTimeMillis");_(this,tK,Gs);_(this,"_tag",od);this.id=e,this.startTimeMillis=n}[(tK=Gs,it)](){return Wt(this,fe(`${$h}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[nt](e){return $0(e)&&e._tag===od&&this.id===e.id&&this.startTimeMillis===e.startTimeMillis}toString(){return ye(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[Kt](){return this.toJSON()}}const n2=new t2,$0=t=>at(t,Gs),sd=t=>{switch(t._tag){case Vc:return Ri();case od:return Fh(t.id);case ZC:return P(sd(t.left),Hs(sd(t.right)))}},iy=Rt(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>F0(0)),P0=t=>Array.from(sd(t)).map(n=>`#${n}`).join(","),r2=()=>{const t=Aa(iy);return P(iy,va(t+1)),new e2(t,Date.now())},Ph=n2,i2=P0,M0=r2,Mh=Pa,o2=MC,s2=g0,u2=EC,R0=AC,E0=Ws,A0=y0,c2=Qc,v0=TC,N0=Ma,Ys=Symbol.for("effect/List"),ud=t=>Array.from(t),a2=t=>XN(gh(t),ud),f2=a2(ct),l2={[Ys]:Ys,_tag:"Cons",toString(){return ye(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:ud(this).map(te)}},[Kt](){return this.toJSON()},[nt](t){return C0(t)&&this._tag===t._tag&&f2(this,t)},[it](){return Wt(this,mu(ud(this)))},[Symbol.iterator](){let t=!1,e=this;return{next(){if(t)return this.return();if(e._tag==="Nil")return t=!0,this.return();const n=e.head;return e=e.tail,{done:t,value:n}},return(n){return t||(t=!0),{done:!0,value:n}}}},pipe(){return X(this,arguments)}},ta=(t,e)=>{const n=Object.create(l2);return n.head=t,n.tail=e,n},d2=fe("Nil"),h2={[Ys]:Ys,_tag:"Nil",toString(){return ye(this.toJSON())},toJSON(){return{_id:"List",_tag:"Nil"}},[Kt](){return this.toJSON()},[it](){return d2},[nt](t){return C0(t)&&this._tag===t._tag},[Symbol.iterator](){return{next(){return{done:!0,value:void 0}}}},pipe(){return X(this,arguments)}},k0=Object.create(h2),C0=t=>at(t,Ys),Sr=t=>t._tag==="Nil",T0=t=>t._tag==="Cons",m2=()=>k0,Ei=(t,e)=>ta(t,e),Mo=m2,Rh=t=>ta(t,k0),p2=x(2,(t,e)=>y2(e,t)),g2=x(2,(t,e)=>Ei(e,t)),y2=x(2,(t,e)=>{if(Sr(t))return e;if(Sr(e))return t;{const n=ta(e.head,t);let i=n,s=e.tail;for(;!Sr(s);){const c=ta(s.head,t);i.tail=c,i=c,s=s.tail}return n}}),_2=x(3,(t,e,n)=>{let i=e,s=t;for(;!Sr(s);)i=n(i,s.head),s=s.tail;return i}),b2=t=>{let e=Mo(),n=t;for(;!Sr(n);)e=g2(e,n.head),n=n.tail;return e},Ko=function(){function t(e){e&&Object.assign(this,e)}return t.prototype=mh,t}(),w2=Symbol.for("effect/DifferChunkPatch");function oy(t){return t}({...Ko.prototype,[w2]:0});const S2=Symbol.for("effect/DifferContextPatch");function sy(t){return t}const yu={...Ko.prototype,[S2]:{_Value:sy,_Patch:sy}},O2=Object.assign(Object.create(yu),{_tag:"Empty"}),I2=Object.create(O2),L0=()=>I2,x2=Object.assign(Object.create(yu),{_tag:"AndThen"}),F2=(t,e)=>{const n=Object.create(x2);return n.first=t,n.second=e,n},$2=Object.assign(Object.create(yu),{_tag:"AddService"}),P2=(t,e)=>{const n=Object.create($2);return n.key=t,n.service=e,n},M2=Object.assign(Object.create(yu),{_tag:"RemoveService"}),R2=t=>{const e=Object.create(M2);return e.key=t,e},E2=Object.assign(Object.create(yu),{_tag:"UpdateService"}),A2=(t,e)=>{const n=Object.create(E2);return n.key=t,n.update=e,n},v2=(t,e)=>{const n=new Map(t.unsafeMap);let i=L0();for(const[s,c]of e.unsafeMap.entries())if(n.has(s)){const f=n.get(s);n.delete(s),ct(f,c)||(i=Nc(A2(s,()=>c))(i))}else n.delete(s),i=Nc(P2(s,c))(i);for(const[s]of n.entries())i=Nc(R2(s))(i);return i},Nc=x(2,(t,e)=>F2(t,e)),N2=x(2,(t,e)=>{if(t._tag==="Empty")return e;let n=!1,i=Ir(t);const s=new Map(e.unsafeMap);for(;xo(i);){const f=Fo(i),d=bi(i);switch(f._tag){case"Empty":{i=d;break}case"AddService":{s.set(f.key,f.service),i=d;break}case"AndThen":{i=Tn(Tn(d,f.second),f.first);break}case"RemoveService":{s.delete(f.key),i=d;break}case"UpdateService":{s.set(f.key,f.update(s.get(f.key))),n=!0,i=d;break}}}if(!n)return Oo(s);const c=new Map;for(const[f]of e.unsafeMap)s.has(f)&&(c.set(f,s.get(f)),s.delete(f));for(const[f,d]of s)c.set(f,d);return Oo(c)}),k2=Symbol.for("effect/DifferHashMapPatch");function Nl(t){return t}({...Ko.prototype,[k2]:0});const C2=Symbol.for("effect/DifferHashSetPatch");function kl(t){return t}const Na={...Ko.prototype,[C2]:{_Value:kl,_Key:kl,_Patch:kl}},T2=Object.assign(Object.create(Na),{_tag:"Empty"}),L2=Object.create(T2),U0=()=>L2,U2=Object.assign(Object.create(Na),{_tag:"AndThen"}),D2=(t,e)=>{const n=Object.create(U2);return n.first=t,n.second=e,n},B2=Object.assign(Object.create(Na),{_tag:"Add"}),j2=t=>{const e=Object.create(B2);return e.value=t,e},q2=Object.assign(Object.create(Na),{_tag:"Remove"}),W2=t=>{const e=Object.create(q2);return e.value=t,e},K2=(t,e)=>{const[n,i]=Zc([t,U0()],([s,c],f)=>XC(f)(s)?[x0(f)(s),c]:[s,cd(j2(f))(c)])(e);return Zc(i,(s,c)=>cd(W2(c))(s))(n)},cd=x(2,(t,e)=>D2(t,e)),H2=x(2,(t,e)=>{if(t._tag==="Empty")return e;let n=e,i=Ir(t);for(;xo(i);){const s=Fo(i),c=bi(i);switch(s._tag){case"Empty":{i=c;break}case"AndThen":{i=Tn(s.first)(Tn(s.second)(c));break}case"Add":{n=ks(s.value)(n),i=c;break}case"Remove":n=x0(s.value)(n),i=c}}return n}),G2=Symbol.for("effect/DifferOrPatch");function Cl(t){return t}({...Ko.prototype,[G2]:0});const Y2=Symbol.for("effect/DifferReadonlyArrayPatch");function uy(t){return t}const _u={...Ko.prototype,[Y2]:{_Value:uy,_Patch:uy}},z2=Object.assign(Object.create(_u),{_tag:"Empty"}),J2=Object.create(z2),D0=()=>J2,X2=Object.assign(Object.create(_u),{_tag:"AndThen"}),Q2=(t,e)=>{const n=Object.create(X2);return n.first=t,n.second=e,n},Z2=Object.assign(Object.create(_u),{_tag:"Append"}),V2=t=>{const e=Object.create(Z2);return e.values=t,e},tT=Object.assign(Object.create(_u),{_tag:"Slice"}),eT=(t,e)=>{const n=Object.create(tT);return n.from=t,n.until=e,n},nT=Object.assign(Object.create(_u),{_tag:"Update"}),rT=(t,e)=>{const n=Object.create(nT);return n.index=t,n.patch=e,n},iT=t=>{let e=0,n=D0();for(;e<t.oldValue.length&&e<t.newValue.length;){const i=t.oldValue[e],s=t.newValue[e],c=t.differ.diff(i,s);ct(c,t.differ.empty)||(n=kc(n,rT(e,c))),e=e+1}return e<t.oldValue.length&&(n=kc(n,eT(0,e))),e<t.newValue.length&&(n=kc(n,V2(Uk(e)(t.newValue)))),n},kc=x(2,(t,e)=>Q2(t,e)),oT=x(3,(t,e,n)=>{if(t._tag==="Empty")return e;let i=e.slice(),s=$n(t);for(;vk(s);){const c=ze(s),f=wo(s);switch(c._tag){case"Empty":{s=f;break}case"AndThen":{f.unshift(c.first,c.second),s=f;break}case"Append":{for(const d of c.values)i.push(d);s=f;break}case"Slice":{i=i.slice(c.from,c.until),s=f;break}case"Update":{i[c.index]=n.patch(c.patch,i[c.index]),s=f;break}}}return i}),sT=Symbol.for("effect/Differ"),uT={[sT]:{_P:ie,_V:ie}},Ho=t=>{const e=Object.create(uT);return e.empty=t.empty,e.diff=t.diff,e.combine=t.combine,e.patch=t.patch,e},cT=()=>Ho({empty:L0(),combine:(t,e)=>Nc(e)(t),diff:(t,e)=>v2(t,e),patch:(t,e)=>N2(e)(t)}),aT=()=>Ho({empty:U0(),combine:(t,e)=>cd(e)(t),diff:(t,e)=>K2(t,e),patch:(t,e)=>H2(e)(t)}),fT=t=>Ho({empty:D0(),combine:(e,n)=>kc(e,n),diff:(e,n)=>iT({oldValue:e,newValue:n,differ:t}),patch:(e,n)=>oT(e,n,t)}),B0=()=>lT((t,e)=>e),lT=t=>Ho({empty:ie,combine:(e,n)=>e===ie?n:n===ie?e:i=>n(e(i)),diff:(e,n)=>ct(e,n)?ie:Oa(n),patch:(e,n)=>t(n,e(n))}),zs=255,j0=8,ad=t=>t&zs,fd=t=>t>>j0&zs,bu=(t,e)=>(t&zs)+((e&t&zs)<<j0),dT=bu(0,0),hT=t=>bu(t,t),mT=t=>bu(t,0),pT=x(2,(t,e)=>bu(ad(t)&~e,fd(t))),gT=x(2,(t,e)=>t|e),yT=t=>~t>>>0&zs,_T=0,Go=1,bT=2,q0=4,ld=16,W0=32,wT=t=>ka(t,W0),ST=x(2,(t,e)=>t|e),qr=t=>K0(t)&&!IT(t),K0=t=>ka(t,Go),ka=x(2,(t,e)=>(t&e)!==0),H0=(...t)=>t.reduce((e,n)=>e|n,0),OT=H0(_T),cy=t=>ka(t,q0),IT=t=>ka(t,ld),Cc=x(2,(t,e)=>bu(t^e,e)),Tc=x(2,(t,e)=>t&(yT(ad(e))|fd(e))|ad(e)&fd(e)),ay=Ho({empty:dT,diff:(t,e)=>Cc(t,e),combine:(t,e)=>gT(e)(t),patch:(t,e)=>Tc(e,t)}),xT=hT,G0=mT,fy=pT,Y0=(t,e)=>({_tag:"Par",left:t,right:e}),$c=(t,e)=>({_tag:"Seq",left:t,right:e}),FT=t=>{let e=Rh(t),n=Mo();for(;;){const[i,s]=_2(e,[z0(),Mo()],([c,f],d)=>{const[p,y]=$T(d);return[J0(c,p),p2(f,y)]});if(n=PT(n,i),Sr(s))return b2(n);e=s}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")},$T=t=>{let e=t,n=z0(),i=Mo(),s=Mo();for(;;)switch(e._tag){case"Empty":{if(Sr(i))return[n,s];e=i.head,i=i.tail;break}case"Par":{i=Ei(e.right,i),e=e.left;break}case"Seq":{const c=e.left,f=e.right;switch(c._tag){case"Empty":{e=f;break}case"Par":{const d=c.left,p=c.right;e=Y0($c(d,f),$c(p,f));break}case"Seq":{const d=c.left,p=c.right;e=$c(d,$c(p,f));break}case"Single":{e=c,s=Ei(f,s);break}}break}case"Single":{if(n=J0(n,ET(e.dataSource,e.blockedRequest)),Sr(i))return[n,s];e=i.head,i=i.tail;break}}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},PT=(t,e)=>{if(Sr(t))return Rh(Tl(e));if(AT(e))return t;const n=LT(t.head),i=vT(e);return n.length===1&&i.length===1&&ct(n[0],i[0])?Ei(TT(t.head,Tl(e)),t.tail):Ei(Tl(e),t)},MT=Symbol.for("effect/RequestBlock/RequestBlockParallel"),RT={_R:t=>t};var eK;class Eh{constructor(e){_(this,"map");_(this,eK,RT);this.map=e}}eK=MT;const z0=()=>new Eh(Mh()),ET=(t,e)=>new Eh(o2([t,Array.of(e)])),J0=(t,e)=>new Eh(N0(t.map,e.map,(n,i,s)=>E0(n,s,Di(R0(n,s),{onNone:()=>i,onSome:c=>[...i,...c]})))),AT=t=>u2(t.map),vT=t=>Array.from(A0(t.map)),Tl=t=>CT(v0(t.map,e=>Array.of(e))),NT=Symbol.for("effect/RequestBlock/RequestBlockSequential"),kT={_R:t=>t};var nK;class X0{constructor(e){_(this,"map");_(this,nK,kT);this.map=e}}nK=NT;const CT=t=>new X0(t),TT=(t,e)=>new X0(N0(e.map,t.map,(n,i,s)=>E0(n,s,Di(R0(n,s),{onNone:()=>[],onSome:c=>[...c,...i]})))),LT=t=>Array.from(A0(t.map)),UT=t=>Array.from(t.map),wu="Die",Ro="Empty",Yo="Fail",Su="Interrupt",Eo="Parallel",Ao="Sequential",Q0="effect/Cause",Z0=Symbol.for(Q0),DT={_E:t=>t},zo={[Z0]:DT,[it](){return P(K(Q0),_t(K(JT(this))),Wt(this))},[nt](t){return BT(t)&&zT(this,t)},pipe(){return X(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:te(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:te(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:te(this.left),right:te(this.right)}}},toString(){return Ca(this)},[Kt](){return this.toJSON()}},Js=(()=>{const t=Object.create(zo);return t._tag=Ro,t})(),ea=t=>{const e=Object.create(zo);return e._tag=Yo,e.error=t,e},Kr=t=>{const e=Object.create(zo);return e._tag=wu,e.defect=t,e},wi=t=>{const e=Object.create(zo);return e._tag=Su,e.fiberId=t,e},Ou=(t,e)=>{const n=Object.create(zo);return n._tag=Eo,n.left=t,n.right=e,n},En=(t,e)=>{const n=Object.create(zo);return n._tag=Ao,n.left=t,n.right=e,n},BT=t=>at(t,Z0),jT=t=>t._tag===Ro?!0:vo(t,!0,(e,n)=>{switch(n._tag){case Ro:return bt(e);case wu:case Yo:case Su:return bt(!1);default:return Z()}}),Ah=t=>vh(void 0,ZT)(t),qT=t=>Io(vo(t,Pi(),(e,n)=>n._tag===Yo?bt(P(e,Tn(n.error))):Z())),WT=t=>Io(vo(t,Pi(),(e,n)=>n._tag===wu?bt(P(e,Tn(n.defect))):Z())),KT=t=>vo(t,Ri(),(e,n)=>n._tag===Su?bt(P(e,ks(n.fiberId))):Z()),HT=t=>QT(t,e=>e._tag===Yo?bt(e.error):Z()),GT=t=>{const e=HT(t);switch(e._tag){case"None":return br(t);case"Some":return bo(e.value)}},ly=t=>V0(t,{onEmpty:Js,onFail:()=>Js,onDie:e=>Kr(e),onInterrupt:e=>wi(e),onSequential:En,onParallel:Ou}),YT=t=>V0(t,{onEmpty:Js,onFail:e=>Kr(e),onDie:e=>Kr(e),onInterrupt:e=>wi(e),onSequential:(e,n)=>En(e,n),onParallel:(e,n)=>Ou(e,n)}),zT=(t,e)=>{let n=Ir(t),i=Ir(e);for(;xo(n)&&xo(i);){const[s,c]=P(Fo(n),vo([Ri(),Pi()],([p,y],M)=>{const[A,N]=dd(M);return bt([P(p,Hs(A)),P(y,Wr(N))])})),[f,d]=P(Fo(i),vo([Ri(),Pi()],([p,y],M)=>{const[A,N]=dd(M);return bt([P(p,Hs(A)),P(y,Wr(N))])}));if(!ct(s,f))return!1;n=c,i=d}return!0},JT=t=>XT(Ir(t),Pi()),XT=(t,e)=>{for(;;){const[n,i]=P(t,Vb([Ri(),Pi()],([c,f],d)=>{const[p,y]=dd(d);return[P(c,Hs(p)),P(f,Wr(y))]})),s=I0(n)>0?P(e,Tn(n)):e;if(pC(i))return Io(s);t=i,e=s}throw new Error("BUG: Cause.flattenCauseLoop - please report an issue at https://github.com/Effect-TS/effect/issues")},QT=x(2,(t,e)=>{const n=[t];for(;n.length>0;){const i=n.pop(),s=e(i);switch(s._tag){case"None":{switch(i._tag){case Ao:case Eo:{n.push(i.right),n.push(i.left);break}}break}case"Some":return s}}return Z()}),dd=t=>{let e=t;const n=[];let i=Ri(),s=Pi();for(;e!==void 0;)switch(e._tag){case Ro:{if(n.length===0)return[i,s];e=n.pop();break}case Yo:{if(i=ks(i,e.error),n.length===0)return[i,s];e=n.pop();break}case wu:{if(i=ks(i,e.defect),n.length===0)return[i,s];e=n.pop();break}case Su:{if(i=ks(i,e.fiberId),n.length===0)return[i,s];e=n.pop();break}case Ao:{switch(e.left._tag){case Ro:{e=e.right;break}case Ao:{e=En(e.left.left,En(e.left.right,e.right));break}case Eo:{e=Ou(En(e.left.left,e.right),En(e.left.right,e.right));break}default:{s=Tn(s,e.right),e=e.left;break}}break}case Eo:{n.push(e.right),e=e.left;break}}throw new Error("BUG: Cause.evaluateCauseLoop - please report an issue at https://github.com/Effect-TS/effect/issues")},ZT={emptyCase:Jg,failCase:Zl,dieCase:Zl,interruptCase:Jg,sequentialCase:(t,e,n)=>e&&n,parallelCase:(t,e,n)=>e&&n},dy="SequentialCase",hy="ParallelCase",V0=x(2,(t,{onDie:e,onEmpty:n,onFail:i,onInterrupt:s,onParallel:c,onSequential:f})=>vh(t,void 0,{emptyCase:()=>n,failCase:(d,p)=>i(p),dieCase:(d,p)=>e(p),interruptCase:(d,p)=>s(p),sequentialCase:(d,p,y)=>f(p,y),parallelCase:(d,p,y)=>c(p,y)})),vo=x(3,(t,e,n)=>{let i=e,s=t;const c=[];for(;s!==void 0;){const f=n(i,s);switch(i=Qn(f)?f.value:i,s._tag){case Ao:{c.push(s.right),s=s.left;break}case Eo:{c.push(s.right),s=s.left;break}default:{s=void 0;break}}s===void 0&&c.length>0&&(s=c.pop())}return i}),vh=x(3,(t,e,n)=>{const i=[t],s=[];for(;i.length>0;){const f=i.pop();switch(f._tag){case Ro:{s.push(br(n.emptyCase(e)));break}case Yo:{s.push(br(n.failCase(e,f.error)));break}case wu:{s.push(br(n.dieCase(e,f.defect)));break}case Su:{s.push(br(n.interruptCase(e,f.fiberId)));break}case Ao:{i.push(f.right),i.push(f.left),s.push(bo({_tag:dy}));break}case Eo:{i.push(f.right),i.push(f.left),s.push(bo({_tag:hy}));break}}}const c=[];for(;s.length>0;){const f=s.pop();switch(f._tag){case"Left":{switch(f.left._tag){case dy:{const d=c.pop(),p=c.pop(),y=n.sequentialCase(e,d,p);c.push(y);break}case hy:{const d=c.pop(),p=c.pop(),y=n.parallelCase(e,d,p);c.push(y);break}}break}case"Right":{c.push(f.right);break}}}if(c.length===0)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return c.pop()}),VT=t=>{const e=t.split(`
`),n=[];for(let i=0;i<e.length;i++)if(n.push(e[i].replace(/at .*effect_cutpoint.*\((.*)\)/,"at $1")),e[i].includes("effect_cutpoint"))return n.join(`
`);return n.join(`
`)},Ca=t=>Ah(t)?"All fibers interrupted without errors.":t1(t).map(n=>{let i=n.message;if(n.stack&&(i+=`\r
${VT(n.stack)}`),n.span){let s=n.span,c=0;for(;s&&s._tag==="Span"&&c<10;)i+=`\r
    at ${s.name}`,s=gi(s.parent),c++}return i}).join(`\r
`);class my{constructor(e,n,i){_(this,"message");_(this,"stack");_(this,"span");this.message=e,this.stack=n,this.span=i}toJSON(){const e={message:this.message};return this.stack&&(e.stack=this.stack),this.span&&(e.span=this.span),e}}const py=t=>{if(typeof t=="string")return`Error: ${t}`;try{if(at(t,"toString")&&qs(t.toString)&&t.toString!==Object.prototype.toString&&t.toString!==Array.prototype.toString)return t.toString()}catch{}return`Error: ${JSON.stringify(t)}`},gy=Symbol.for("effect/SpanAnnotation"),yy=t=>{var n;const e=at(t,gy)&&t[gy];return t instanceof Error?new my(py(t),(n=t.stack)==null?void 0:n.split(`
`).filter(i=>i.match(/at (.*)/)).join(`
`),e):new my(py(t),void 0,e)},t1=t=>vh(t,void 0,{emptyCase:()=>[],dieCase:(e,n)=>[yy(n)],failCase:(e,n)=>[yy(n)],interruptCase:()=>[],parallelCase:(e,n,i)=>[...n,...i],sequentialCase:(e,n,i)=>[...n,...i]}),Ta="Pending",e1="Done",tL="effect/Deferred",eL=Symbol.for(tL),nL={_E:t=>t,_A:t=>t},Nh=t=>({_tag:Ta,joiners:t}),rL=t=>({_tag:e1,effect:t}),zn=t=>(Object.defineProperty(t,"name",{value:"effect_cutpoint"}),t),_y=Symbol.for("effect/Tracer"),iL=t=>({[_y]:_y,...t}),hd=Bi("effect/Tracer"),n1=Bi("effect/ParentSpan"),oL=function(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=t.length;return function(n){let i="";for(let s=0;s<n;s++)i+=t.charAt(Math.floor(Math.random()*e));return i}}();class sL{constructor(e,n,i,s,c){_(this,"name");_(this,"parent");_(this,"context");_(this,"links");_(this,"startTime");_(this,"_tag","Span");_(this,"spanId");_(this,"traceId","native");_(this,"sampled",!0);_(this,"status");_(this,"attributes");_(this,"events",[]);_(this,"end",(e,n)=>{this.status={_tag:"Ended",endTime:e,exit:n,startTime:this.status.startTime}});_(this,"attribute",(e,n)=>{this.attributes.set(e,n)});_(this,"event",(e,n,i)=>{this.events.push([e,n,i??{}])});this.name=e,this.parent=n,this.context=i,this.links=s,this.startTime=c,this.status={_tag:"Started",startTime:c},this.attributes=new Map,this.spanId=`span${oL(16)}`}}const uL=iL({span:(t,e,n,i,s)=>new sL(t,e,n,i,s),context:t=>t()}),cL="effect/EffectError",md=Symbol.for(cL),aL=t=>at(t,md),fL=t=>({[md]:md,_tag:"EffectError",cause:t}),r1=(t,e)=>{const n=new De("Blocked");return n.i0=t,n.i1=e,n},lL=t=>{const e=new De("RunBlocked");return e.i0=t,e},La=Symbol.for("effect/Effect");class dL{constructor(e,n){_(this,"patch");_(this,"op");_(this,"_op",hh);this.patch=e,this.op=n}}var rK;class De{constructor(e){_(this,"_op");_(this,"i0");_(this,"i1");_(this,"i2");_(this,"trace");_(this,rK,_o);this._op=e}[(rK=La,nt)](e){return this===e}[it](){return Wt(this,hu(this))}pipe(){return X(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,i0:te(this.i0),i1:te(this.i1),i2:te(this.i2)}}toString(){return ye(this.toJSON())}[Kt](){return this.toJSON()}}var iK;class i1{constructor(e){_(this,"_op");_(this,"i0");_(this,"i1");_(this,"i2");_(this,"trace");_(this,iK,_o);this._op=e,this._tag=e}[(iK=La,nt)](e){return this===e}[it](){return Wt(this,hu(this))}get cause(){return this.i0}pipe(){return X(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return ye(this.toJSON())}[Kt](){return this.toJSON()}}var oK;class o1{constructor(e){_(this,"_op");_(this,"i0");_(this,"i1");_(this,"i2");_(this,"trace");_(this,oK,_o);this._op=e,this._tag=e}[(oK=La,nt)](e){return this===e}[it](){return Wt(this,hu(this))}get value(){return this.i0}pipe(){return X(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:te(this.value)}}toString(){return ye(this.toJSON())}[Kt](){return this.toJSON()}}const hL=t=>at(t,La),Zn=t=>{zn(t);const e=new De(Ab);return e.i0=t,e},mL=x(3,(t,e,n)=>Da(i=>G(t,s=>G(s1(re(()=>i(e(s)))),c=>re(()=>n(s,c)).pipe(No({onFailure:f=>{switch(c._tag){case An:return xr(Ou(c.i0,f));case vn:return xr(f)}},onSuccess:()=>c})))))),Iu=x(2,(t,e)=>G(t,()=>At(e))),xu=t=>Iu(t,void 0),Jo=(t,e=Ph)=>re(()=>{zn(t);let n,i;function s(p){n?n(p):i===void 0&&(i=p)}const c=new De(Ac);c.i0=p=>{n=p,i&&p(i)},c.i1=e;let f,d;return t.length!==1?(d=new AbortController,f=t(s,d.signal)):f=t(s),f||d?h1(c,p=>(d&&d.abort(),f??Fr)):c}),by=x(2,(t,e)=>kh(t,{onFailure:e,onSuccess:At})),pd=Symbol.for("effect/SpanAnnotation"),wy=Symbol.for("effect/OriginalAnnotation"),pL=(t,e)=>Qn(e)?new Proxy(t,{has(n,i){return i===pd||i===wy||i in n},get(n,i){return i===pd?e.value:i===wy?t:n[i]}}):t,gL=t=>yL(()=>Kr(new HL(t))),Xs=t=>kh(t,{onFailure:e=>At(bo(e)),onSuccess:e=>At(br(e))}),s1=t=>wL(t,{onFailure:Ct,onSuccess:Re}),Ie=t=>xb(t)&&!(pd in t)?Zn(e=>xr(ea(pL(t,oU(e))))):xr(ea(t)),u1=t=>G(J(t),Ie),xr=t=>{const e=new i1(An);return e.i0=t,e},yL=t=>G(J(t),xr),_L=Zn(t=>At(t.id())),c1=t=>Zn(e=>t(e.id())),G=x(2,(t,e)=>{zn(e);const n=new De(Hc);return n.i0=t,n.i1=e,n}),bL=t=>{const e=new De("OnStep");return e.i0=t,e},a1=t=>G(t,ie),wL=x(2,(t,e)=>No(t,{onFailure:n=>At(e.onFailure(n)),onSuccess:n=>At(e.onSuccess(n))})),No=x(2,(t,e)=>{const n=new De(Gc);return n.i0=t,n.i1=e.onFailure,n.i2=e.onSuccess,zn(e.onFailure),zn(e.onSuccess),n}),kh=x(2,(t,e)=>No(t,{onFailure:n=>{if(WT(n).length>0)return xr(YT(n));const s=qT(n);return s.length>0?e.onFailure(a0(s)):xr(n)},onSuccess:e.onSuccess})),Hr=x(2,(t,e)=>re(()=>{const n=Yt(t),i=new Array(n.length);let s=0;return Iu(Th({while:()=>s<n.length,body:()=>e(n[s],s),step:c=>{i[s++]=c}}),i)})),Ua=x(2,(t,e)=>re(()=>{const n=Yt(t);let i=0;return Th({while:()=>i<n.length,body:()=>e(n[i],i),step:()=>{i++}})})),f1=t=>{const e=new De(pu);return e.i0=xT(Go),e.i1=()=>t,e},de=x(2,(t,e)=>G(t,n=>J(()=>e(n)))),l1=x(2,(t,e)=>kh(t,{onFailure:n=>u1(()=>e.onFailure(n)),onSuccess:n=>J(()=>e.onSuccess(n))})),Ch=x(2,(t,e)=>No(t,{onFailure:n=>{const i=GT(n);switch(i._tag){case"Left":return u1(()=>e(i.left));case"Right":return xr(i.right)}},onSuccess:At})),d1=x(2,(t,e)=>Da(n=>No(n(t),{onFailure:i=>{const s=Ct(i);return No(e(s),{onFailure:c=>Ct(En(i,c)),onSuccess:()=>s})},onSuccess:i=>{const s=Re(i);return Ba(e(s),s)}}))),h1=x(2,(t,e)=>d1(t,JL({onFailure:n=>Ah(n)?xu(e(KT(n))):Fr,onSuccess:()=>Fr}))),At=t=>{const e=new o1(vn);return e.i0=t,e},re=t=>G(J(t),ie),J=t=>{zn(t);const e=new De(Eb);return e.i0=t,e},m1=x(2,(t,e)=>G(t,n=>{const i=typeof e=="function"?e(n):e;return hL(i)?Iu(i,n):DN(i)?Jo(s=>{i.then(c=>s(At(n))).catch(c=>s(Ie(new M1(c))))}):At(n)})),SL=t=>Zn(e=>{const n=e.getFiberRef(gd),i=P(n,$i(()=>e.scope()));return t(qa(gd,bt(i)))}),p1=t=>{const e=new De(pu);return e.i0=G0(Go),e.i1=()=>t,e},Da=t=>{zn(t);const e=new De(pu);return e.i0=G0(Go),e.i1=n=>K0(n)?t(f1):t(p1),e},Fr=At(void 0),OL=t=>{const e=new De(pu);return e.i0=t,e.i1=void 0,e},Th=t=>{const e=new De(Yc);return e.i0=t.while,e.i1=t.body,e.i2=t.step,zn(t.body),zn(t.step),zn(t.while),e},Lh=t=>{const e=new De(vc);return typeof(t==null?void 0:t.priority)<"u"?DL(e,t.priority):e},g1=x(2,(t,e)=>G(t,n=>de(e,i=>[n,i]))),y1=x(2,(t,e)=>G(t,n=>Iu(e,n))),Ba=x(2,(t,e)=>G(t,()=>e)),IL=t=>G(_L,e=>P(t,_1(e))),_1=x(2,(t,e)=>G(t.interruptAsFork(e),()=>t.await)),xL={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return X(this,arguments)}},FL={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return X(this,arguments)}},$L={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return X(this,arguments)}},PL={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return X(this,arguments)}},b1={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return X(this,arguments)}},w1={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return X(this,arguments)}},ML={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return X(this,arguments)}},RL={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return X(this,arguments)}},EL="effect/FiberRef",AL=Symbol.for(EL),vL={_A:t=>t},ja=t=>O1(t,e=>[e,e]),S1=x(2,(t,e)=>G(ja(t),e)),Sy=x(2,(t,e)=>O1(t,()=>[void 0,e])),O1=x(2,(t,e)=>Zn(n=>{const[i,s]=e(n.getFiberRef(t));return n.setFiberRef(t,s),At(i)})),qa=x(3,(t,e,n)=>mL(y1(ja(e),Sy(e,n)),()=>t,i=>Sy(e,i))),Ve=(t,e)=>Xo(t,{differ:B0(),fork:(e==null?void 0:e.fork)??ie,join:e==null?void 0:e.join}),NL=t=>{const e=aT();return Xo(t,{differ:e,fork:e.empty})},kL=t=>{const e=fT(B0());return Xo(t,{differ:e,fork:e.empty})},I1=t=>{const e=cT();return Xo(t,{differ:e,fork:e.empty})},Xo=(t,e)=>({[AL]:vL,initial:t,diff:(n,i)=>e.differ.diff(n,i),combine:(n,i)=>e.differ.combine(n,i),patch:n=>i=>e.differ.patch(n,i),fork:e.fork,join:e.join??((n,i)=>i),pipe(){return X(this,arguments)}}),CL=t=>Xo(t,{differ:ay,fork:ay.empty}),ji=Rt(Symbol.for("effect/FiberRef/currentContext"),()=>I1(yh())),Wa=Rt(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>Ve(0)),x1=Rt(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>Ve(2048)),TL=Rt(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>Ve(Mh())),LL=Rt(Symbol.for("effect/FiberRef/currentLogLevel"),()=>Ve(b1)),UL=Rt(Symbol.for("effect/FiberRef/currentLogSpan"),()=>Ve(Mo())),DL=x(2,(t,e)=>qa(t,Wa,e)),BL=Rt(Symbol.for("effect/FiberRef/currentConcurrency"),()=>Ve("unbounded")),jL=Rt(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>Ve(!0)),qL=Rt(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>Ve(bt(w1))),Oy=Rt(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>kL(So())),gd=Rt(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>Ve(Z(),{fork:()=>Z(),join:(t,e)=>t})),Pc=Rt(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>Ve(Js,{fork:()=>Js,join:(t,e)=>t})),WL=(t,e)=>t.addFinalizer(()=>xu(e)),KL=(t,e)=>t.close(e),Ka=(t,e)=>t.fork(e),F1=function(){class t extends globalThis.Error{commit(){return Ie(this)}toString(){return this.message?`${this.name}: ${this.message}`:this.name}toJSON(){return{...this}}[Kt](){const n=this.stack;return n?`${this.toString()}
${n.split(`
`).slice(1).join(`
`)}`:this.toString()}}return Object.assign(t.prototype,ok),t}(),$1=(t,e)=>{class n extends F1{constructor(){super(...arguments);_(this,"_tag",e)}}return Object.assign(n.prototype,t),n.prototype.name=e,n},Iy=Symbol.for("effect/Cause/errors/RuntimeException"),HL=$1({[Iy]:Iy},"RuntimeException"),GL=Symbol.for("effect/Cause/errors/InterruptedException"),YL=t=>at(t,GL),xy=Symbol.for("effect/Cause/errors/NoSuchElement"),P1=$1({[xy]:xy},"NoSuchElementException"),Fy=Symbol.for("effect/Cause/errors/UnknownException"),M1=function(){class t extends F1{constructor(i,s){super(s??(at(i,"message")&&TN(i.message)?i.message:void 0));_(this,"error");_(this,"_tag","UnknownException");this.error=i}}return Object.assign(t.prototype,{[Fy]:Fy,name:"UnknownException"}),t}(),$y=(t,e)=>QL(t,e!=null&&e.parallel?Ou:En),Py=t=>Ct(ea(t)),Ct=t=>{const e=new i1(An);return e.i0=t,e},zL=t=>Ct(wi(t)),Ll=x(2,(t,e)=>{switch(t._tag){case An:return Ct(t.i0);case vn:return Re(e(t.i0))}}),JL=x(2,(t,{onFailure:e,onSuccess:n})=>{switch(t._tag){case An:return e(t.i0);case vn:return n(t.i0)}}),Re=t=>{const e=new o1(vn);return e.i0=t,e},Si=Re(void 0),XL=x(3,(t,e,{onFailure:n,onSuccess:i})=>{switch(t._tag){case An:switch(e._tag){case vn:return Ct(t.i0);case An:return Ct(n(t.i0,e.i0))}case vn:switch(e._tag){case vn:return Re(i(t.i0,e.i0));case An:return Ct(e.i0)}}}),QL=(t,e)=>{const n=u0(t);return xo(n)?P(bi(n),Vb(P(Fo(n),Ll(Ir)),(i,s)=>P(i,XL(s,{onSuccess:(c,f)=>P(c,Tn(f)),onFailure:e}))),Ll(Io),Ll(i=>Array.from(i)),bt):Z()},ZL=t=>({[eL]:nL,state:F0(Nh([])),blockingOn:t,pipe(){return X(this,arguments)}}),VL=t=>Jo(e=>{const n=Aa(t.state);switch(n._tag){case e1:return e(n.effect);case Ta:return P(t.state,va(Nh([e,...n.joiners]))),tU(t,e)}},t.blockingOn),R1=(t,e)=>{const n=Aa(t.state);if(n._tag===Ta){P(t.state,va(rL(e)));for(let i=n.joiners.length-1;i>=0;i--)n.joiners[i](e)}},tU=(t,e)=>J(()=>{const n=Aa(t.state);n._tag===Ta&&P(t.state,va(Nh(n.joiners.filter(i=>i!==e))))}),eU=ja(ji),nU=()=>eU,Fu=t=>G(nU(),t),rU=x(2,(t,e)=>qa(ji,e)(t)),iU=x(2,(t,e)=>Fu(n=>rU(t,e(n)))),oU=t=>{const e=t.getFiberRef(ji).unsafeMap.get(n1.key);return e!==void 0&&e._tag==="Span"?bt(e):Z()},yd=Symbol.for("effect/Duration"),sU=BigInt(1e3),_d=BigInt(1e9),My=/^(-?\d+(?:\.\d+)?)\s+(nanos|micros|millis|seconds|minutes|hours|days|weeks)$/,Zr=t=>{if(E1(t))return t;if(Ec(t))return bd(t);if(LN(t))return Ul(t);if(Array.isArray(t)){if(t.length===2&&Ec(t[0])&&Ec(t[1]))return Ul(BigInt(t[0])*_d+BigInt(t[1]))}else{My.lastIndex=0;const e=My.exec(t);if(e){const[n,i,s]=e,c=Number(i);switch(s){case"nanos":return Ul(BigInt(i));case"micros":return fU(BigInt(i));case"millis":return bd(c);case"seconds":return lU(c);case"minutes":return dU(c);case"hours":return hU(c);case"days":return mU(c);case"weeks":return pU(c)}}}throw new Error("Invalid duration input")},Ry={_tag:"Millis",millis:0},uU={_tag:"Infinity"},cU={[yd]:yd,[it](){return Wt(this,Mb(this.value))},[nt](t){return E1(t)&&wU(this,t)},toString(){return`Duration(${SU(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:yU(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[Kt](){return this.toJSON()},pipe(){return X(this,arguments)}},Er=t=>{const e=Object.create(cU);return Ec(t)?isNaN(t)||t<0?e.value=Ry:Number.isFinite(t)?Number.isInteger(t)?e.value={_tag:"Millis",millis:t}:e.value={_tag:"Nanos",nanos:BigInt(Math.round(t*1e6))}:e.value=uU:t<BigInt(0)?e.value=Ry:e.value={_tag:"Nanos",nanos:t},e},E1=t=>at(t,yd),aU=Er(0),Ul=t=>Er(t),fU=t=>Er(t*sU),bd=t=>Er(t),lU=t=>Er(t*1e3),dU=t=>Er(t*6e4),hU=t=>Er(t*36e5),mU=t=>Er(t*864e5),pU=t=>Er(t*6048e5),wd=t=>{const e=Zr(t);switch(e.value._tag){case"Infinity":return 1/0;case"Nanos":return Number(e.value.nanos)/1e6;case"Millis":return e.value.millis}},gU=t=>{const e=Zr(t);switch(e.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return e.value.nanos;case"Millis":return BigInt(Math.round(e.value.millis*1e6))}},yU=t=>{const e=Zr(t);switch(e.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(e.value.nanos/_d),Number(e.value.nanos%_d)];case"Millis":return[Math.floor(e.value.millis/1e3),Math.round(e.value.millis%1e3*1e6)]}},A1=x(3,(t,e,n)=>{const i=Zr(t),s=Zr(e);if(i.value._tag==="Infinity"||s.value._tag==="Infinity")return n.onMillis(wd(i),wd(s));if(i.value._tag==="Nanos"||s.value._tag==="Nanos"){const c=i.value._tag==="Nanos"?i.value.nanos:BigInt(Math.round(i.value.millis*1e6)),f=s.value._tag==="Nanos"?s.value.nanos:BigInt(Math.round(s.value.millis*1e6));return n.onNanos(c,f)}return n.onMillis(i.value.millis,s.value.millis)}),_U=(t,e)=>A1(t,e,{onMillis:(n,i)=>n===i,onNanos:(n,i)=>n===i}),bU=x(2,(t,e)=>A1(t,e,{onMillis:(n,i)=>n>=i,onNanos:(n,i)=>n>=i})),wU=x(2,(t,e)=>_U(Zr(t),Zr(e))),SU=t=>{const e=Zr(t),n=[];if(e.value._tag==="Infinity")return"Infinity";const i=gU(e);i%1000000n&&n.push(`${i%1000000n}ns`);const s=i/1000000n;s%1000n!==0n&&n.push(`${s%1000n}ms`);const c=s/1000n;c%60n!==0n&&n.push(`${c%60n}s`);const f=c/60n;f%60n!==0n&&n.push(`${f%60n}m`);const d=f/60n;d%24n!==0n&&n.push(`${d%24n}h`);const p=d/24n;return p!==0n&&n.push(`${p}d`),n.reverse().join(" ")},Ey=Symbol.for("effect/MutableHashMap"),OU={[Ey]:Ey,[Symbol.iterator](){return new Uh(this)},toString(){return ye(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(te)}},[Kt](){return this.toJSON()},pipe(){return X(this,arguments)}};class Uh{constructor(e){_(this,"self");_(this,"referentialIterator");_(this,"bucketIterator");this.self=e,this.referentialIterator=e.referential[Symbol.iterator]()}next(){if(this.bucketIterator!==void 0)return this.bucketIterator.next();const e=this.referentialIterator.next();return e.done?(this.bucketIterator=new IU(this.self.buckets.values()),this.next()):e}[Symbol.iterator](){return new Uh(this.self)}}class IU{constructor(e){_(this,"backing");_(this,"currentBucket");this.backing=e}next(){if(this.currentBucket===void 0){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const e=this.currentBucket.next();return e.done?(this.currentBucket=void 0,this.next()):e}}const xU=()=>{const t=Object.create(OU);return t.referential=new Map,t.buckets=new Map,t.bucketsSize=0,t},yi=x(2,(t,e)=>{if(Kc(e)===!1)return t.referential.has(e)?bt(t.referential.get(e)):Z();const n=e[it](),i=t.buckets.get(n);return i===void 0?Z():FU(t,i,e)}),FU=(t,e,n,i=!1)=>{for(let s=0,c=e.length;s<c;s++)if(n[nt](e[s][0])){const f=e[s][1];return i&&(e.splice(s,1),t.bucketsSize--),bt(f)}return Z()},xs=x(2,(t,e)=>Qn(yi(t,e))),Fs=x(3,(t,e,n)=>{if(Kc(e)===!1)return t.referential.set(e,n),t;const i=e[it](),s=t.buckets.get(i);return s===void 0?(t.buckets.set(i,[[e,n]]),t.bucketsSize++,t):($U(t,s,e),s.push([e,n]),t.bucketsSize++,t)}),$U=(t,e,n)=>{for(let i=0,s=e.length;i<s;i++)if(n[nt](e[i][0])){e.splice(i,1),t.bucketsSize--;return}},PU="effect/Clock",Ay=Symbol.for(PU),Dh=Bi("effect/Clock"),MU=2**31-1,vy={unsafeSchedule(t,e){const n=wd(e);if(n>MU)return Zl;let i=!1;const s=setTimeout(()=>{i=!0,t()},n);return()=>(clearTimeout(s),!i)}},Ny=function(){const t=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*t;const e="timeOrigin"in performance&&typeof performance.timeOrigin=="number"?BigInt(Math.round(performance.timeOrigin*1e6)):BigInt(Date.now())*t-BigInt(Math.round(performance.now()*1e6));return()=>e+BigInt(Math.round(performance.now()*1e6))}(),RU=function(){const t=typeof process=="object"&&"hrtime"in process&&typeof process.hrtime.bigint=="function"?process.hrtime:void 0;if(!t)return Ny;const e=Ny()-t.bigint();return()=>e+t.bigint()}();var sK;class EU{constructor(){_(this,sK,Ay);_(this,"currentTimeMillis",J(()=>this.unsafeCurrentTimeMillis()));_(this,"currentTimeNanos",J(()=>this.unsafeCurrentTimeNanos()))}unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return RU()}scheduler(){return At(vy)}sleep(e){return Jo(n=>{const i=vy.unsafeSchedule(()=>n(Fr),e);return xu(J(i))})}}sK=Ay;const AU=()=>new EU,Qs=hk,v1="And",N1="Or",k1="InvalidData",C1="MissingData",T1="SourceUnavailable",L1="Unsupported",vU="effect/ConfigError",ky=Symbol.for(vU),Qo={[ky]:ky},U1=(t,e)=>{const n=Object.create(Qo);return n._tag=v1,n.left=t,n.right=e,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),n},D1=(t,e)=>{const n=Object.create(Qo);return n._tag=N1,n.left=t,n.right=e,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),n},NU=(t,e,n={pathDelim:"."})=>{const i=Object.create(Qo);return i._tag=k1,i.path=t,i.message=e,Object.defineProperty(i,"toString",{enumerable:!1,value(){return`(Invalid data at ${P(this.path,Wo(n.pathDelim))}: "${this.message}")`}}),i},Ai=(t,e,n={pathDelim:"."})=>{const i=Object.create(Qo);return i._tag=C1,i.path=t,i.message=e,Object.defineProperty(i,"toString",{enumerable:!1,value(){return`(Missing data at ${P(this.path,Wo(n.pathDelim))}: "${this.message}")`}}),i},kU=(t,e,n,i={pathDelim:"."})=>{const s=Object.create(Qo);return s._tag=T1,s.path=t,s.message=e,s.cause=n,Object.defineProperty(s,"toString",{enumerable:!1,value(){return`(Source unavailable at ${P(this.path,Wo(i.pathDelim))}: "${this.message}")`}}),s},CU=(t,e,n={pathDelim:"."})=>{const i=Object.create(Qo);return i._tag=L1,i.path=t,i.message=e,Object.defineProperty(i,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${P(this.path,Wo(n.pathDelim))}: "${this.message}")`}}),i},Oi=x(2,(t,e)=>{switch(t._tag){case v1:return U1(Oi(t.left,e),Oi(t.right,e));case N1:return D1(Oi(t.left,e),Oi(t.right,e));case k1:return NU([...e,...t.path],t.message);case C1:return Ai([...e,...t.path],t.message);case T1:return kU([...e,...t.path],t.message,t.cause);case L1:return CU([...e,...t.path],t.message)}}),TU={_tag:"Empty"},Dl=x(2,(t,e)=>{let n=Rh(e),i=t;for(;T0(n);){const s=n.head;switch(s._tag){case"Empty":{n=n.tail;break}case"AndThen":{n=Ei(s.first,Ei(s.second,n.tail));break}case"MapName":{i=zr(i,s.f),n=n.tail;break}case"Nested":{i=zc(i,s.name),n=n.tail;break}case"Unnested":{if(P(lo(i),Sk(s.name)))i=wo(i),n=n.tail;else return bo(Ai(i,`Expected ${s.name} to be in path in ConfigProvider#unnested`));break}}}return br(i)}),LU="Constant",UU="Fail",DU="Fallback",BU="Described",jU="Lazy",qU="MapOrFail",WU="Nested",KU="Primitive",HU="Sequence",GU="HashMap",YU="ZipWith";var Cy={};const na=(t,e)=>[...t,...e],zU="effect/ConfigProvider",Ty=Symbol.for(zU),JU=Bi("effect/ConfigProvider"),XU="effect/ConfigProviderFlat",Ly=Symbol.for(XU),QU=t=>({[Ty]:Ty,pipe(){return X(this,arguments)},...t}),ZU=t=>({[Ly]:Ly,patch:t.patch,load:(e,n,i=!0)=>t.load(e,n,i),enumerateChildren:t.enumerateChildren}),VU=t=>QU({load:e=>G(fn(t,So(),e,!1),n=>Di(lo(n),{onNone:()=>Ie(Ai(So(),`Expected a single value having structure: ${e}`)),onSome:At})),flattened:t}),tD=t=>{const{pathDelim:e,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},t),i=p=>P(p,Wo(e)),s=p=>p.split(e),c=()=>typeof process<"u"&&"env"in process&&typeof Cy=="object"?Cy:{};return VU(ZU({load:(p,y,M=!0)=>{const A=i(p),N=c(),k=A in N?bt(N[A]):Z();return P(k,Ch(()=>Ai(p,`Expected ${A} to exist in the process context`)),G(B=>oD(B,p,y,n,M)))},enumerateChildren:p=>J(()=>{const y=c(),M=Object.keys(y),N=Array.from(M).map(k=>s(k.toUpperCase())).filter(k=>{for(let B=0;B<p.length;B++){const mt=P(p,Xb(B)),tt=k[B];if(tt===void 0||mt!==tt)return!1}return!0}).flatMap(k=>k.slice(p.length,p.length+1));return JC(N)}),patch:TU}))},eD=(t,e,n,i)=>{const s=ty(n.length,p=>p>=i.length?Z():bt([t(p),p+1])),c=ty(i.length,p=>p>=n.length?Z():bt([e(p),p+1])),f=na(n,s),d=na(i,c);return[f,d]},nD=(t,e)=>{let n=e;if(n._tag==="Nested"){const i=t.slice();for(;n._tag==="Nested";)i.push(n.name),n=n.config;return i}return t},fn=(t,e,n,i)=>{const s=n;switch(s._tag){case LU:return At($n(s.value));case BU:return re(()=>fn(t,e,s.config,i));case UU:return Ie(Ai(e,s.message));case DU:return P(re(()=>fn(t,e,s.first,i)),by(c=>s.condition(c)?P(fn(t,e,s.second,i),by(f=>Ie(D1(c,f)))):Ie(c)));case jU:return re(()=>fn(t,e,s.config(),i));case qU:return re(()=>P(fn(t,e,s.original,i),G(Hr(c=>P(s.mapOrFail(c),Ch(Oi(nD(e,s.original))))))));case WU:return re(()=>fn(t,na(e,$n(s.name)),s.config,i));case KU:return P(Dl(e,t.patch),G(c=>P(t.load(c,s,i),G(f=>{if(f.length===0){const d=P(Ck(c),$i(()=>"<n/a>"));return Ie(Ai([],`Expected ${s.description} with name ${d}`))}return At(f)}))));case HU:return P(Dl(e,t.patch),G(c=>P(t.enumerateChildren(c),G(cD),G(f=>f.length===0?re(()=>de(fn(t,c,s.config,!0),$n)):P(Hr(f,d=>fn(t,Rk(e,`[${d}]`),s.config,!0)),de(d=>{const p=Gk(d);return p.length===0?$n(So()):$n(p)}))))));case GU:return re(()=>P(Dl(e,t.patch),G(c=>P(t.enumerateChildren(c),G(f=>P(f,Hr(d=>fn(t,na(c,$n(d)),s.valueConfig,i)),de(d=>{if(d.length===0)return $n(Mh());const p=d.map(y=>Array.from(y));return P(sD(p),zr(y=>s2(Vg(Yt(f),y))))})))))));case YU:return re(()=>P(fn(t,e,s.left,i),Xs,G(c=>P(fn(t,e,s.right,i),Xs,G(f=>{if(As(c)&&As(f))return Ie(U1(c.left,f.left));if(As(c)&&Fc(f))return Ie(c.left);if(Fc(c)&&As(f))return Ie(f.left);if(Fc(c)&&Fc(f)){const d=P(e,Wo(".")),p=rD(e,d),[y,M]=eD(p,p,P(c.right,zr(br)),P(f.right,zr(br)));return P(y,Vg(M),Hr(([A,N])=>P(g1(A,N),de(([k,B])=>s.zip(k,B)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},rD=(t,e)=>n=>bo(Ai(t,`The element at index ${n} in a sequence at path "${e}" was missing`)),iD=(t,e)=>t.split(new RegExp(`\\s*${uD(e)}\\s*`)),oD=(t,e,n,i,s)=>s?P(iD(t,i),Hr(c=>n.parse(c.trim())),Ch(Oi(e))):P(n.parse(t),l1({onFailure:Oi(e),onSuccess:$n})),sD=t=>Object.keys(t[0]).map(e=>t.map(n=>n[e])),uD=t=>t.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&"),cD=t=>P(Hr(t,fD),l1({onFailure:()=>So(),onSuccess:Jc(Qs)}),Xs,de(Ik)),aD=/^(\[(\d+)\])$/,fD=t=>{const e=t.match(aD);if(e!==null){const n=e[2];return P(n!==void 0&&n.length>0?bt(n):Z(),Gb(lD))}return Z()},lD=t=>{const e=Number.parseInt(t);return Number.isNaN(e)?Z():bt(e)},Uy=Symbol.for("effect/Console"),B1=Bi("effect/Console"),dD={[Uy]:Uy,assert(t,...e){return J(()=>{console.assert(t,...e)})},clear:J(()=>{console.clear()}),count(t){return J(()=>{console.count(t)})},countReset(t){return J(()=>{console.countReset(t)})},debug(...t){return J(()=>{console.debug(...t)})},dir(t,e){return J(()=>{console.dir(t,e)})},dirxml(...t){return J(()=>{console.dirxml(...t)})},error(...t){return J(()=>{console.error(...t)})},group(t){return t!=null&&t.collapsed?J(()=>console.groupCollapsed(t==null?void 0:t.label)):J(()=>console.group(t==null?void 0:t.label))},groupEnd:J(()=>{console.groupEnd()}),info(...t){return J(()=>{console.info(...t)})},log(...t){return J(()=>{console.log(...t)})},table(t,e){return J(()=>{console.table(t,e)})},time(t){return J(()=>console.time(t))},timeEnd(t){return J(()=>console.timeEnd(t))},timeLog(t,...e){return J(()=>{console.timeLog(t,...e)})},trace(...t){return J(()=>{console.trace(...t)})},warn(...t){return J(()=>{console.warn(...t)})},unsafe:console},hD="effect/Random",Dy=Symbol.for(hD),mD=Bi("effect/Random");var uK;class pD{constructor(e){_(this,"seed");_(this,uK,Dy);_(this,"PRNG");this.seed=e,this.PRNG=new Pb(e)}get next(){return J(()=>this.PRNG.number())}get nextBoolean(){return de(this.next,e=>e>.5)}get nextInt(){return J(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(e,n){return de(this.next,i=>(n-e)*i+e)}nextIntBetween(e,n){return J(()=>this.PRNG.integer(n-e)+e)}shuffle(e){return gD(e,n=>this.nextIntBetween(0,n))}}uK=Dy;const gD=(t,e)=>re(()=>P(J(()=>Array.from(t)),G(n=>{const i=[];for(let s=n.length;s>=2;s=s-1)i.push(s);return P(i,Ua(s=>P(e(s),de(c=>yD(n,s-1,c)))),Iu(u0(n)))}))),yD=(t,e,n)=>{const i=t[e];return t[e]=t[n],t[n]=i,t},_D=t=>new pD(t),bD=P(yh(),Is(Dh,AU()),Is(B1,dD),Is(mD,_D(Math.random()*4294967296>>>0)),Is(JU,tD()),Is(hd,uL)),Cs=Rt(Symbol.for("effect/DefaultServices/currentServices"),()=>I1(bD));function wD(t){return new Vr(t)}function SD(){return wD(new Map)}const By=Symbol.for("effect/FiberRefs");var cK;class Vr{constructor(e){_(this,"locals");_(this,cK,By);this.locals=e}pipe(){return X(this,arguments)}}cK=By;const OD=(t,e,n,i=!1)=>{const s=t;let c=e,f=n,d=i,p;for(;p===void 0;)if(Xe(c)&&Xe(f)){const y=ze(c)[0],M=wo(c),A=ze(f)[0],N=ze(f)[1],k=wo(f);y.startTimeMillis<A.startTimeMillis?(f=k,d=!0):y.startTimeMillis>A.startTimeMillis?c=M:y.id<A.id?(f=k,d=!0):y.id>A.id?c=M:p=[N,d]}else p=[s.initial,!0];return p},ID=x(3,(t,e,n)=>{const i=new Map(t.locals);return n.locals.forEach((s,c)=>{const f=s[0][1];if(!s[0][0][nt](e)){if(!i.has(c)){if(ct(f,c.initial))return;i.set(c,[[e,c.join(c.initial,f)]]);return}const d=i.get(c),[p,y]=OD(c,d,s);if(y){const M=c.diff(p,f),A=d[0][1],N=c.join(A,c.patch(M)(A));if(!ct(A,N)){let k;const B=d[0][0];B[nt](e)?k=[[B,N],...d.slice(1)]:k=[[e,N],...d],i.set(c,k)}}}}),new Vr(i)}),xD=x(2,(t,e)=>{const n=new Map;return j1(t,n,e),new Vr(n)}),j1=(t,e,n)=>{t.locals.forEach((i,s)=>{const c=i[0][1],f=s.patch(s.fork)(c);ct(c,f)?e.set(s,i):e.set(s,[[n,f],...i])})},q1=x(2,(t,e)=>{const n=new Map(t.locals);return n.delete(e),new Vr(n)}),Sd=x(2,(t,e)=>t.locals.has(e)?bt(ze(t.locals.get(e))[1]):Z()),Bh=x(2,(t,e)=>P(Sd(t,e),$i(()=>e.initial))),Od=x(2,(t,{fiberId:e,fiberRef:n,value:i})=>{if(t.locals.size===0)return new Vr(new Map([[n,[[e,i]]]]));const s=new Map(t.locals);return Id(s,e,n,i),new Vr(s)}),Id=(t,e,n,i)=>{const s=t.get(n)??[];let c;if(Xe(s)){const[f,d]=ze(s);if(f[nt](e)){if(ct(d,i))return;c=[[e,i],...s.slice(1)]}else c=[[e,i],...s]}else c=[[e,i]];t.set(n,c)},FD=x(2,(t,{entries:e,forkAs:n})=>{if(t.locals.size===0)return new Vr(new Map(e));const i=new Map(t.locals);return n!==void 0&&j1(t,i,n),e.forEach(([s,c])=>{c.length===1?Id(i,c[0][0],s,c[0][1]):c.forEach(([f,d])=>{Id(i,f,s,d)})}),new Vr(i)}),$D=Bh,PD=FD,MD=SD,RD=xL,ED=FL,AD=$L,vD=PL,ND=b1,kD=w1,CD=ML,TD=RL,LD=P(Qs,mk(t=>t.ordinal)),UD=pk(LD),DD=t=>{switch(t){case"All":return RD;case"Debug":return kD;case"Error":return AD;case"Fatal":return ED;case"Info":return ND;case"Trace":return CD;case"None":return TD;case"Warning":return vD}},BD=t=>e=>`${e.label.replace(/[\s="]/g,"_")}=${t-e.startTime}ms`,jD=BD,W1="Empty",K1="Add",H1="Remove",G1="Update",Y1="AndThen",qD={_tag:W1},WD=(t,e)=>{const n=new Map(t.locals);let i=qD;for(const[s,c]of e.locals.entries()){const f=ze(c)[1],d=n.get(s);if(d!==void 0){const p=ze(d)[1];ct(p,f)||(i=Bl({_tag:G1,fiberRef:s,patch:s.diff(p,f)})(i))}else i=Bl({_tag:K1,fiberRef:s,value:f})(i);n.delete(s)}for(const[s]of n.entries())i=Bl({_tag:H1,fiberRef:s})(i);return i},Bl=x(2,(t,e)=>({_tag:Y1,first:t,second:e})),KD=x(3,(t,e,n)=>{let i=n,s=$n(t);for(;Xe(s);){const c=ze(s),f=wo(s);switch(c._tag){case W1:{s=f;break}case K1:{i=Od(i,{fiberId:e,fiberRef:c.fiberRef,value:c.value}),s=f;break}case H1:{i=q1(i,c.fiberRef),s=f;break}case G1:{const d=Bh(i,c.fiberRef);i=Od(i,{fiberId:e,fiberRef:c.fiberRef,value:c.fiberRef.patch(c.patch)(d)}),s=f;break}case Y1:{s=zc(c.first)(zc(c.second)(f));break}}}return i}),z1="effect/MetricLabel",xd=Symbol.for(z1);var aK;class HD{constructor(e,n){_(this,"key");_(this,"value");_(this,aK,xd);_(this,"_hash");this.key=e,this.value=n,this._hash=fe(z1+this.key+this.value)}[(aK=xd,it)](){return this._hash}[nt](e){return YD(e)&&this.key===e.key&&this.value===e.value}pipe(){return X(this,arguments)}}const GD=(t,e)=>new HD(t,e),YD=t=>at(t,xd),zD=t=>{let e,n;return typeof t=="function"?e=t:(e=t.try,n=t.catch),J(()=>{try{return e()}catch(i){throw fL(ea(n?n(i):new M1(i)))}})},jy=vb,JD="Sequential",XD="Parallel",QD="ParallelN",J1={_tag:JD},ZD={_tag:XD},VD=t=>({_tag:QD,parallelism:t}),Fd=J1,$d=ZD,Pd=VD,tB=WD,eB=KD,Ha="effect/FiberStatus",vi=Symbol.for(Ha),ra="Done",qy="Running",Wy="Suspended",nB=fe(`${Ha}-${ra}`);var fK;class rB{constructor(){_(this,fK,vi);_(this,"_tag",ra)}[(fK=vi,it)](){return nB}[nt](e){return jh(e)&&e._tag===ra}}var lK;class iB{constructor(e){_(this,"runtimeFlags");_(this,lK,vi);_(this,"_tag",qy);this.runtimeFlags=e}[(lK=vi,it)](){return P(K(Ha),_t(K(this._tag)),_t(K(this.runtimeFlags)),Wt(this))}[nt](e){return jh(e)&&e._tag===qy&&this.runtimeFlags===e.runtimeFlags}}var dK;class oB{constructor(e,n){_(this,"runtimeFlags");_(this,"blockingOn");_(this,dK,vi);_(this,"_tag",Wy);this.runtimeFlags=e,this.blockingOn=n}[(dK=vi,it)](){return P(K(Ha),_t(K(this._tag)),_t(K(this.runtimeFlags)),_t(K(this.blockingOn)),Wt(this))}[nt](e){return jh(e)&&e._tag===Wy&&this.runtimeFlags===e.runtimeFlags&&ct(this.blockingOn,e.blockingOn)}}const sB=new rB,uB=t=>new iB(t),cB=(t,e)=>new oB(t,e),jh=t=>at(t,vi),aB=t=>t._tag===ra,fB=sB,X1=uB,lB=cB,dB=aB;class Q1{constructor(){_(this,"buckets",[])}scheduleTask(e,n){let i,s;for(s=0;s<this.buckets.length&&this.buckets[s][0]<=n;s++)i=this.buckets[s];if(i)i[1].push(e);else{const c=[];for(let f=0;f<s;f++)c.push(this.buckets[f]);c.push([n,[e]]);for(let f=s;f<this.buckets.length;f++)c.push(this.buckets[f]);this.buckets=c}}}class hB{constructor(e){_(this,"maxNextTickBeforeTimer");_(this,"running",!1);_(this,"tasks",new Q1);this.maxNextTickBeforeTimer=e}starveInternal(e){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[i,s]of n)for(let c=0;c<s.length;c++)s[c]();this.tasks.buckets.length===0?this.running=!1:this.starve(e)}starve(e=0){e>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(e+1))}shouldYield(e){return e.currentOpCount>e.getFiberRef(x1)?e.getFiberRef(Wa):!1}scheduleTask(e,n){this.tasks.scheduleTask(e,n),this.running||(this.running=!0,this.starve())}}const Z1=Rt(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new hB(2048));class mB{constructor(){_(this,"tasks",new Q1);_(this,"deferred",!1)}scheduleTask(e,n){this.deferred?Z1.scheduleTask(e,n):this.tasks.scheduleTask(e,n)}shouldYield(e){return e.currentOpCount>e.getFiberRef(x1)?e.getFiberRef(Wa):!1}flush(){for(;this.tasks.buckets.length>0;){const e=this.tasks.buckets;this.tasks.buckets=[];for(const[n,i]of e)for(let s=0;s<i.length;s++)i[s]()}this.deferred=!0}}const Md=Rt(Symbol.for("effect/FiberRef/currentScheduler"),()=>Ve(Z1)),V1=Rt(Symbol.for("effect/FiberRef/currentRequestMap"),()=>Ve(new Map)),Ky=(t,e,n,i)=>{switch(t){case void 0:return e();case"unbounded":return n();case"inherit":return S1(BL,s=>s==="unbounded"?n():s>1?i(s):e());default:return t>1?i(t):e()}},qh="InterruptSignal",Wh="Stateful",Kh="Resume",Hh="YieldNow",jl=t=>({_tag:qh,cause:t}),Lc=t=>({_tag:Wh,onFiber:t}),so=t=>({_tag:Kh,effect:t}),pB=()=>({_tag:Hh}),gB="effect/FiberScope",ia=Symbol.for(gB);var hK;class yB{constructor(){_(this,hK,ia);_(this,"fiberId",Ph);_(this,"roots",new Set)}add(e,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}hK=ia;var mK;class _B{constructor(e,n){_(this,"fiberId");_(this,"parent");_(this,mK,ia);this.fiberId=e,this.parent=n}add(e,n){this.parent.tell(Lc(i=>{i.addChild(n),n.addObserver(()=>{i.removeChild(n)})}))}}mK=ia;const bB=t=>new _B(t.id(),t),Gh=Rt(Symbol.for("effect/FiberScope/Global"),()=>new yB),wB="effect/Fiber",SB=Symbol.for(wB),OB={_E:t=>t,_A:t=>t},IB="effect/Fiber",xB=Symbol.for(IB),FB=t=>t.await,$B=t=>y1(a1(t.await),t.inheritAll),pi="effect/FiberCurrent",PB="effect/Logger",MB=Symbol.for(PB),RB={_Message:t=>t,_Output:t=>t},Yh=t=>({[MB]:RB,log:t,pipe(){return X(this,arguments)}}),EB=Yh(({annotations:t,cause:e,date:n,fiberId:i,logLevel:s,message:c,spans:f})=>{const d=n.getTime();let y=[`timestamp=${n.toISOString()}`,`level=${s.label}`,`fiber=${P0(i)}`].join(" ");const M=Rd(c);if(M.length>0&&(y=y+" message=",y=ql(M,y)),e!=null&&e._tag!=="Empty"&&(y=y+" cause=",y=ql(Ca(e),y)),T0(f)){y=y+" ";let A=!0;for(const N of f)A?A=!1:y=y+" ",y=y+P(N,jD(d))}if(P(t,c2)>0){y=y+" ";let A=!0;for(const[N,k]of t)A?A=!1:y=y+" ",y=y+NB(N),y=y+"=",y=ql(Rd(k),y)}return y}),Rd=t=>{try{return typeof t=="object"?JSON.stringify(t):String(t)}catch{return String(t)}},AB=t=>`"${t.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`,vB=/^[^\s"=]+$/,ql=(t,e)=>e+(t.match(vB)?t:AB(t)),NB=t=>t.replace(/[\s="]/g,"_"),tw="effect/MetricBoundaries",Ed=Symbol.for(tw);var pK;class kB{constructor(e){_(this,"values");_(this,pK,Ed);_(this,"_hash");this.values=e,this._hash=P(fe(tw),_t(mu(this.values)))}[(pK=Ed,it)](){return this._hash}[nt](e){return CB(e)&&ct(this.values,e.values)}pipe(){return X(this,arguments)}}const CB=t=>at(t,Ed),TB=t=>{const e=P(t,zb(Ir(Number.POSITIVE_INFINITY)),Yk);return new kB(e)},LB=t=>P(Mk(t.count-1,e=>t.start*Math.pow(t.factor,e)),c0,TB),UB="effect/MetricKeyType",ew=Symbol.for(UB),nw="effect/MetricKeyType/Counter",Ad=Symbol.for(nw),DB="effect/MetricKeyType/Frequency",BB=Symbol.for(DB),jB="effect/MetricKeyType/Gauge",qB=Symbol.for(jB),rw="effect/MetricKeyType/Histogram",vd=Symbol.for(rw),WB="effect/MetricKeyType/Summary",KB=Symbol.for(WB),iw={_In:t=>t,_Out:t=>t};var gK,yK;class HB{constructor(e,n){_(this,"incremental");_(this,"bigint");_(this,gK,iw);_(this,yK,Ad);_(this,"_hash");this.incremental=e,this.bigint=n,this._hash=fe(nw)}[(gK=ew,yK=Ad,it)](){return this._hash}[nt](e){return ow(e)}pipe(){return X(this,arguments)}}var _K,bK;class GB{constructor(e){_(this,"boundaries");_(this,_K,iw);_(this,bK,vd);_(this,"_hash");this.boundaries=e,this._hash=P(fe(rw),_t(K(this.boundaries)))}[(_K=ew,bK=vd,it)](){return this._hash}[nt](e){return sw(e)&&ct(this.boundaries,e.boundaries)}pipe(){return X(this,arguments)}}const YB=t=>new HB((t==null?void 0:t.incremental)??!1,(t==null?void 0:t.bigint)??!1),zB=t=>new GB(t),ow=t=>at(t,Ad),JB=t=>at(t,BB),XB=t=>at(t,qB),sw=t=>at(t,vd),QB=t=>at(t,KB),ZB="effect/MetricKey",uw=Symbol.for(ZB),VB={_Type:t=>t},t3=gh(ct);var wK;class zh{constructor(e,n,i,s=[]){_(this,"name");_(this,"keyType");_(this,"description");_(this,"tags");_(this,wK,VB);_(this,"_hash");this.name=e,this.keyType=n,this.description=i,this.tags=s,this._hash=P(fe(this.name+this.description),_t(K(this.keyType)),_t(mu(this.tags)))}[(wK=uw,it)](){return this._hash}[nt](e){return e3(e)&&this.name===e.name&&ct(this.keyType,e.keyType)&&ct(this.description,e.description)&&t3(this.tags,e.tags)}pipe(){return X(this,arguments)}}const e3=t=>at(t,uw),n3=(t,e)=>new zh(t,YB(e),ph(e==null?void 0:e.description)),r3=(t,e,n)=>new zh(t,zB(e),ph(n)),i3=x(2,(t,e)=>e.length===0?t:new zh(t.name,t.keyType,t.description,td(t.tags,e))),o3="effect/MetricState",$u=Symbol.for(o3),cw="effect/MetricState/Counter",Nd=Symbol.for(cw),aw="effect/MetricState/Frequency",kd=Symbol.for(aw),fw="effect/MetricState/Gauge",Cd=Symbol.for(fw),lw="effect/MetricState/Histogram",Td=Symbol.for(lw),dw="effect/MetricState/Summary",Ld=Symbol.for(dw),Pu={_A:t=>t};var SK,OK;class s3{constructor(e){_(this,"count");_(this,SK,Pu);_(this,OK,Nd);this.count=e}[(SK=$u,OK=Nd,it)](){return P(K(cw),_t(K(this.count)),Wt(this))}[nt](e){return y3(e)&&this.count===e.count}pipe(){return X(this,arguments)}}const u3=gh(ct);var IK,xK;class c3{constructor(e){_(this,"occurrences");_(this,IK,Pu);_(this,xK,kd);_(this,"_hash");this.occurrences=e}[(IK=$u,xK=kd,it)](){return P(fe(aw),_t(mu(Yt(this.occurrences.entries()))),Wt(this))}[nt](e){return _3(e)&&u3(Yt(this.occurrences.entries()),Yt(e.occurrences.entries()))}pipe(){return X(this,arguments)}}var FK,$K;class a3{constructor(e){_(this,"value");_(this,FK,Pu);_(this,$K,Cd);this.value=e}[(FK=$u,$K=Cd,it)](){return P(K(fw),_t(K(this.value)),Wt(this))}[nt](e){return b3(e)&&this.value===e.value}pipe(){return X(this,arguments)}}var PK,MK;class f3{constructor(e,n,i,s,c){_(this,"buckets");_(this,"count");_(this,"min");_(this,"max");_(this,"sum");_(this,PK,Pu);_(this,MK,Td);this.buckets=e,this.count=n,this.min=i,this.max=s,this.sum=c}[(PK=$u,MK=Td,it)](){return P(K(lw),_t(K(this.buckets)),_t(K(this.count)),_t(K(this.min)),_t(K(this.max)),_t(K(this.sum)),Wt(this))}[nt](e){return w3(e)&&ct(this.buckets,e.buckets)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return X(this,arguments)}}var RK,EK;class l3{constructor(e,n,i,s,c,f){_(this,"error");_(this,"quantiles");_(this,"count");_(this,"min");_(this,"max");_(this,"sum");_(this,RK,Pu);_(this,EK,Ld);this.error=e,this.quantiles=n,this.count=i,this.min=s,this.max=c,this.sum=f}[(RK=$u,EK=Ld,it)](){return P(K(dw),_t(K(this.error)),_t(K(this.quantiles)),_t(K(this.count)),_t(K(this.min)),_t(K(this.max)),_t(K(this.sum)),Wt(this))}[nt](e){return S3(e)&&this.error===e.error&&ct(this.quantiles,e.quantiles)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return X(this,arguments)}}const d3=t=>new s3(t),h3=t=>new c3(t),m3=t=>new a3(t),p3=t=>new f3(t.buckets,t.count,t.min,t.max,t.sum),g3=t=>new l3(t.error,t.quantiles,t.count,t.min,t.max,t.sum),y3=t=>at(t,Nd),_3=t=>at(t,kd),b3=t=>at(t,Cd),w3=t=>at(t,Td),S3=t=>at(t,Ld),O3="effect/MetricHook",I3=Symbol.for(O3),x3={_In:t=>t,_Out:t=>t},Mu=t=>({[I3]:x3,pipe(){return X(this,arguments)},...t}),Hy=BigInt(0),F3=t=>{let e=t.keyType.bigint?Hy:0;const n=t.keyType.incremental?t.keyType.bigint?i=>i>=Hy:i=>i>=0:i=>!0;return Mu({get:()=>d3(e),update:i=>{n(i)&&(e=e+i)}})},$3=t=>{const e=new Map;return Mu({get:()=>h3(e),update:i=>{const s=e.get(i)??0;e.set(i,s+1)}})},P3=(t,e)=>{let n=e;return Mu({get:()=>m3(n),update:i=>{n=i}})},M3=t=>{const e=t.keyType.boundaries.values,n=e.length,i=new Uint32Array(n+1),s=new Float32Array(n);let c=0,f=0,d=Number.MAX_VALUE,p=Number.MIN_VALUE;P(e,Jc(Qs),zr((A,N)=>{s[N]=A}));const y=A=>{let N=0,k=n;for(;N!==k;){const B=Math.floor(N+(k-N)/2),mt=s[B];A<=mt?k=B:N=B,k===N+1&&(A<=s[N]?k=N:N=k)}i[N]=i[N]+1,c=c+1,f=f+A,A<d&&(d=A),A>p&&(p=A)},M=()=>{const A=Array(n);let N=0;for(let k=0;k<n;k++){const B=s[k],mt=i[k];N=N+mt,A[k]=[B,N]}return A};return Mu({get:()=>p3({buckets:M(),count:c,min:d,max:p,sum:f}),update:y})},R3=t=>{const{error:e,maxAge:n,maxSize:i,quantiles:s}=t.keyType,c=P(s,Jc(Qs)),f=Array(i);let d=0,p=0,y=0,M=Number.MAX_VALUE,A=Number.MIN_VALUE;const N=B=>{const mt=[];let tt=0;for(;tt!==i-1;){const Ft=f[tt];if(Ft!=null){const[pt,ft]=Ft,Xt=bd(B-pt);bU(Xt,aU)&&Xt<=n&&mt.push(ft)}tt=tt+1}return E3(e,c,Jc(mt,Qs))},k=(B,mt)=>{if(i>0){d=d+1;const tt=d%i;f[tt]=[mt,B]}p=p+1,y=y+B,B<M&&(M=B),B>A&&(A=B)};return Mu({get:()=>g3({error:e,quantiles:N(Date.now()),count:p,min:M,max:A,sum:y}),update:([B,mt])=>k(B,mt)})},E3=(t,e,n)=>{const i=n.length;if(!Xe(e))return So();const s=e[0],c=e.slice(1),f=Gy(t,i,Z(),0,s,n),d=$n(f);return c.forEach(p=>{d.push(Gy(t,i,f.value,f.consumed,p,f.rest))}),zr(d,p=>[p.quantile,p.value])},Gy=(t,e,n,i,s,c)=>{let f=t,d=e,p=n,y=i,M=s,A=c,N=t,k=e,B=n,mt=i,tt=s,Ft=c;for(;;){if(!Xe(A))return{quantile:M,value:Z(),consumed:y,rest:[]};if(M===1)return{quantile:M,value:bt(Qb(A)),consumed:y+A.length,rest:[]};const pt=Lk(A,_e=>_e<=A[0]),ft=M*d,Xt=f/2*ft,Ht=y+pt[0].length,_n=Math.abs(Ht-ft);if(Ht<ft-Xt){N=f,k=d,B=lo(A),mt=Ht,tt=M,Ft=pt[1],f=N,d=k,p=B,y=mt,M=tt,A=Ft;continue}if(Ht>ft+Xt)return{quantile:M,value:p,consumed:y,rest:A};switch(p._tag){case"None":{N=f,k=d,B=lo(A),mt=Ht,tt=M,Ft=pt[1],f=N,d=k,p=B,y=mt,M=tt,A=Ft;continue}case"Some":{const _e=Math.abs(ft-p.value);if(_n<_e){N=f,k=d,B=lo(A),mt=Ht,tt=M,Ft=pt[1],f=N,d=k,p=B,y=mt,M=tt,A=Ft;continue}return{quantile:M,value:bt(p.value),consumed:y,rest:A}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},A3="effect/MetricPair",v3=Symbol.for(A3),N3={_Type:t=>t},k3=(t,e)=>({[v3]:N3,metricKey:t,metricState:e,pipe(){return X(this,arguments)}}),C3="effect/MetricRegistry",Yy=Symbol.for(C3);var AK;class T3{constructor(){_(this,AK,Yy);_(this,"map",xU())}snapshot(){const e=[];for(const[n,i]of this.map)e.push(k3(n,i.get()));return e}get(e){const n=P(this.map,yi(e),gi);if(n==null){if(ow(e.keyType))return this.getCounter(e);if(XB(e.keyType))return this.getGauge(e);if(JB(e.keyType))return this.getFrequency(e);if(sw(e.keyType))return this.getHistogram(e);if(QB(e.keyType))return this.getSummary(e);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}else return n}getCounter(e){let n=P(this.map,yi(e),gi);if(n==null){const i=F3(e);P(this.map,xs(e))||P(this.map,Fs(e,i)),n=i}return n}getFrequency(e){let n=P(this.map,yi(e),gi);if(n==null){const i=$3();P(this.map,xs(e))||P(this.map,Fs(e,i)),n=i}return n}getGauge(e){let n=P(this.map,yi(e),gi);if(n==null){const i=P3(e,e.keyType.bigint?BigInt(0):0);P(this.map,xs(e))||P(this.map,Fs(e,i)),n=i}return n}getHistogram(e){let n=P(this.map,yi(e),gi);if(n==null){const i=M3(e);P(this.map,xs(e))||P(this.map,Fs(e,i)),n=i}return n}getSummary(e){let n=P(this.map,yi(e),gi);if(n==null){const i=R3(e);P(this.map,xs(e))||P(this.map,Fs(e,i)),n=i}return n}}AK=Yy;const L3=()=>new T3,U3="effect/Metric",D3=Symbol.for(U3),B3={_Type:t=>t,_In:t=>t,_Out:t=>t},zy=Rt(Symbol.for("effect/Metric/globalMetricRegistry"),()=>L3()),hw=function(t,e,n){return Object.assign(s=>m1(s,c=>J(()=>e(c,[]))),{[D3]:B3,keyType:t,unsafeUpdate:e,unsafeValue:n,register(){return this.unsafeValue([]),this},pipe(){return X(this,arguments)}})},Ga=(t,e)=>mw(n3(t,e)),mw=t=>{let e;const n=new WeakMap,i=s=>{if(s.length===0)return e!==void 0||(e=zy.get(t)),e;let c=n.get(s);return c!==void 0||(c=zy.get(i3(t,s)),n.set(s,c)),c};return hw(t.keyType,(s,c)=>i(c).update(s),s=>i(s).get())},j3=(t,e,n)=>mw(r3(t,e,n)),q3=x(3,(t,e,n)=>W3(t,[GD(e,n)])),W3=x(2,(t,e)=>hw(t.keyType,(n,i)=>t.unsafeUpdate(n,td(e,i)),n=>t.unsafeValue(td(e,n)))),K3="effect/Request",H3=Symbol.for(K3),G3={_E:t=>t,_A:t=>t};({...mh,[H3]:0});const Y3=x(2,(t,e)=>S1(V1,n=>J(()=>{if(n.has(t)){const i=n.get(t);i.state.completed||(i.state.completed=!0,R1(i.result,e))}}))),z3="effect/Supervisor",Ya=Symbol.for(z3),Jh={_T:t=>t};var vK;const im=class im{constructor(e,n){_(this,"underlying");_(this,"value0");_(this,vK,Jh);this.underlying=e,this.value0=n}get value(){return this.value0}onStart(e,n,i,s){this.underlying.onStart(e,n,i,s)}onEnd(e,n){this.underlying.onEnd(e,n)}onEffect(e,n){this.underlying.onEffect(e,n)}onSuspend(e){this.underlying.onSuspend(e)}onResume(e){this.underlying.onResume(e)}map(e){return new im(this,P(this.value,de(e)))}zip(e){return new sa(this,e)}};vK=Ya;let oa=im;var NK;const om=class om{constructor(e,n){_(this,"left");_(this,"right");_(this,"_tag","Zip");_(this,NK,Jh);this.left=e,this.right=n}get value(){return g1(this.left.value,this.right.value)}onStart(e,n,i,s){this.left.onStart(e,n,i,s),this.right.onStart(e,n,i,s)}onEnd(e,n){this.left.onEnd(e,n),this.right.onEnd(e,n)}onEffect(e,n){this.left.onEffect(e,n),this.right.onEffect(e,n)}onSuspend(e){this.left.onSuspend(e),this.right.onSuspend(e)}onResume(e){this.left.onResume(e),this.right.onResume(e)}map(e){return new oa(this,P(this.value,de(e)))}zip(e){return new om(this,e)}};NK=Ya;let sa=om;const pw=t=>at(t,Ya)&&Fb(t,"Zip");var kK;class J3{constructor(e){_(this,"effect");_(this,kK,Jh);this.effect=e}get value(){return this.effect}onStart(e,n,i,s){}onEnd(e,n){}onEffect(e,n){}onSuspend(e){}onResume(e){}map(e){return new oa(this,P(this.value,de(e)))}zip(e){return new sa(this,e)}onRun(e,n){return e()}}kK=Ya;const X3=t=>new J3(t),za=Rt("effect/Supervisor/none",()=>X3(Fr)),Q3=Ho,gw="Empty",yw="AddSupervisor",_w="RemoveSupervisor",bw="AndThen",Ts={_tag:gw},Uc=(t,e)=>({_tag:bw,first:t,second:e}),Z3=(t,e)=>V3(e,Ir(t)),V3=(t,e)=>{let n=t,i=e;for(;xo(i);){const s=Fo(i);switch(s._tag){case gw:{i=bi(i);break}case yw:{n=n.zip(s.supervisor),i=bi(i);break}case _w:{n=Ud(n,s.supervisor),i=bi(i);break}case bw:{i=Tn(s.first)(Tn(s.second)(bi(i)));break}}}return n},Ud=(t,e)=>ct(t,e)?za:pw(t)?Ud(t.left,e).zip(Ud(t.right,e)):t,ua=t=>ct(t,za)?Ri():pw(t)?P(ua(t.left),Hs(ua(t.right))):Fh(t),tj=(t,e)=>{if(ct(t,e))return Ts;const n=ua(t),i=ua(e),s=P(i,ny(n),Zc(Ts,(f,d)=>Uc(f,{_tag:yw,supervisor:d}))),c=P(n,ny(i),Zc(Ts,(f,d)=>Uc(f,{_tag:_w,supervisor:d})));return Uc(s,c)},ej=Q3({empty:Ts,patch:Z3,combine:Uc,diff:tj}),nj=Ga("effect_fiber_started"),Jy=Ga("effect_fiber_active"),rj=Ga("effect_fiber_successes"),ij=Ga("effect_fiber_failures"),oj=q3(j3("effect_fiber_lifetimes",LB({start:.5,factor:2,count:35})),"time_unit","milliseconds"),$s="Continue",sj="Done",Xy="Yield",uj={_E:t=>t,_A:t=>t},Ps=t=>{throw new Error(`BUG: FiberRuntime - ${JSON.stringify(t)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},Br=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),gr=Rt("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),Mc={[Hc]:(t,e,n)=>e.i1(n),OnStep:(t,e,n)=>Re(Re(n)),[Gc]:(t,e,n)=>e.i2(n),[hh]:(t,e,n)=>(t.patchRuntimeFlags(t._runtimeFlags,e.patch),qr(t._runtimeFlags)&&t.isInterrupted()?Ct(t.getInterruptedCause()):Re(n)),[Yc]:(t,e,n)=>(e.i2(n),e.i0()?(t.pushStack(e),e.i1()):Fr)},cj={[qh]:(t,e,n,i)=>(t.processNewInterruptSignal(i.cause),qr(e)?Ct(i.cause):n),[Kh]:(t,e,n,i)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[Wh]:(t,e,n,i)=>(i.onFiber(t,X1(e)),n),[Hh]:(t,e,n,i)=>G(Lh(),()=>n)},aj=t=>Ua(FT(t),e=>xi(UT(e),([n,i])=>{const s=new Map;for(const c of i)for(const f of c)s.set(f.request,f);return qa(xj(n.runAll(i),i.flat()),V1,s)},!1,!1));var CK,TK;class ww{constructor(e,n,i){_(this,CK,OB);_(this,TK,uj);_(this,"_fiberRefs");_(this,"_fiberId");_(this,"_runtimeFlags");_(this,"_queue",new Array);_(this,"_children",null);_(this,"_observers",new Array);_(this,"_running",!1);_(this,"_stack",[]);_(this,"_asyncInterruptor",null);_(this,"_asyncBlockingOn",null);_(this,"_exitValue",null);_(this,"_steps",[]);_(this,"_supervisor");_(this,"_scheduler");_(this,"_tracer");_(this,"currentOpCount",0);_(this,"isYielding",!1);_(this,"run",()=>{this.drainQueueOnCurrentThread()});if(this._runtimeFlags=i,this._fiberId=e,this._fiberRefs=n,this._supervisor=this.getFiberRef(n_),this._scheduler=this.getFiberRef(Md),cy(i)){const s=this.getFiberRef(Oy);nj.unsafeUpdate(1,s),Jy.unsafeUpdate(1,s)}this._tracer=vs(this.getFiberRef(Cs),hd)}pipe(){return X(this,arguments)}id(){return this._fiberId}resume(e){this.tell(so(e))}get status(){return this.ask((e,n)=>n)}get runtimeFlags(){return this.ask((e,n)=>dB(n)?e._runtimeFlags:n.runtimeFlags)}scope(){return bB(this)}get children(){return this.ask(e=>Array.from(e.getChildren()))}getChildren(){return this._children===null&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(Pc)}fiberRefs(){return this.ask(e=>e.getFiberRefs())}ask(e){return re(()=>{const n=ZL(this._fiberId);return this.tell(Lc((i,s)=>{R1(n,J(()=>e(i,s)))})),VL(n)})}tell(e){this._queue.push(e),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return Jo(e=>{const n=i=>e(At(i));return this.tell(Lc((i,s)=>{i._exitValue!==null?n(this._exitValue):i.addObserver(n)})),J(()=>this.tell(Lc((i,s)=>{i.removeObserver(n)})))},this.id())}get inheritAll(){return Zn((e,n)=>{const i=e.id(),s=e.getFiberRefs(),c=n.runtimeFlags,f=this.getFiberRefs(),d=ID(s,i,f);e.setFiberRefs(d);const p=e.getFiberRef(e_),y=P(Cc(c,p),fy(Go),fy(ld));return OL(y)})}get poll(){return J(()=>ph(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(e){return J(()=>this.tell(jl(wi(e))))}unsafeInterruptAsFork(e){this.tell(jl(wi(e)))}addObserver(e){this._exitValue!==null?e(this._exitValue):this._observers.push(e)}removeObserver(e){this._observers=this._observers.filter(n=>n!==e)}getFiberRefs(){return this.setFiberRef(e_,this._runtimeFlags),this._fiberRefs}unsafeDeleteFiberRef(e){this._fiberRefs=q1(this._fiberRefs,e)}getFiberRef(e){return this._fiberRefs.locals.has(e)?this._fiberRefs.locals.get(e)[0][1]:e.initial}setFiberRef(e,n){this._fiberRefs=Od(this._fiberRefs,{fiberId:this._fiberId,fiberRef:e,value:n}),this.refreshRefCache()}refreshRefCache(){this._tracer=vs(this.getFiberRef(Cs),hd),this._supervisor=this.getFiberRef(n_),this._scheduler=this.getFiberRef(Md)}setFiberRefs(e){this._fiberRefs=e,this.refreshRefCache()}addChild(e){this.getChildren().add(e)}removeChild(e){this.getChildren().delete(e)}drainQueueOnCurrentThread(){let e=!0;for(;e;){let n=$s;const i=globalThis[pi];globalThis[pi]=this;try{for(;n===$s;)n=this._queue.length===0?sj:this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[pi]=i}this._queue.length>0&&!this._running?(this._running=!0,n===Xy?(this.drainQueueLaterOnExecutor(),e=!1):e=!0):e=!1}}drainQueueLaterOnExecutor(){this._scheduler.scheduleTask(this.run,this.getFiberRef(Wa))}drainQueueWhileRunning(e,n){let i=n;for(;this._queue.length>0;){const s=this._queue.splice(0,1)[0];i=cj[s._tag](this,e,i,s)}return i}isInterrupted(){return!jT(this.getFiberRef(Pc))}addInterruptedCause(e){const n=this.getFiberRef(Pc);this.setFiberRef(Pc,En(n,e))}processNewInterruptSignal(e){this.addInterruptedCause(e),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(this._children===null||this._children.size===0)return!1;let e=!1;for(const n of this._children)n.tell(jl(wi(this.id()))),e=!0;return e}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const e=this._children.values();this._children=null;let n=!1;return Th({while:()=>!n,body:()=>{const s=e.next();return s.done?J(()=>{n=!0}):xu(s.value.await)},step:()=>{}})}return null}reportExitValue(e){if(cy(this._runtimeFlags)){const n=this.getFiberRef(Oy),i=this.id().startTimeMillis,s=Date.now();switch(oj.unsafeUpdate(s-i,n),Jy.unsafeUpdate(-1,n),e._tag){case vn:{rj.unsafeUpdate(1,n);break}case An:{ij.unsafeUpdate(1,n);break}}}if(e._tag==="Failure"){const n=this.getFiberRef(qL);!Ah(e.cause)&&n._tag==="Some"&&this.log("Fiber terminated with a non handled error",e.cause,n)}}setExitValue(e){this._exitValue=e,this.reportExitValue(e);for(let n=this._observers.length-1;n>=0;n--)this._observers[n](e)}getLoggers(){return this.getFiberRef(mj)}log(e,n,i){const s=Qn(i)?i.value:this.getFiberRef(LL),c=this.getFiberRef(fj);if(UD(c,s))return;const f=this.getFiberRef(UL),d=this.getFiberRef(TL),p=this.getLoggers(),y=this.getFiberRefs();if(I0(p)>0){const M=vs(this.getFiberRef(Cs),Dh),A=new Date(M.unsafeCurrentTimeMillis());for(const N of p)N.log({fiberId:this.id(),logLevel:s,message:e,cause:n,context:y,spans:f,annotations:d,date:A})}}evaluateMessageWhileSuspended(e){switch(e._tag){case Hh:return Xy;case qh:return this.processNewInterruptSignal(e.cause),this._asyncInterruptor!==null&&(this._asyncInterruptor(Ct(e.cause)),this._asyncInterruptor=null),$s;case Kh:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(e.effect),$s;case Wh:return e.onFiber(this,this._exitValue!==null?fB:lB(this._runtimeFlags,this._asyncBlockingOn)),$s;default:return Ps(e)}}evaluateEffect(e){this._supervisor.onResume(this);try{let n=qr(this._runtimeFlags)&&this.isInterrupted()?Ct(this.getInterruptedCause()):e;for(;n!==null;){const i=n,s=this.runLoop(i);if(s===Br){const c=gr.currentOp;gr.currentOp=null,c._op===vc?wT(this._runtimeFlags)?(this.tell(pB()),this.tell(so(Si)),n=null):n=Si:c._op===Ac&&(n=null)}else{this._runtimeFlags=P(this._runtimeFlags,ST(ld));const c=this.interruptAllChildren();c!==null?n=G(c,()=>s):(this._queue.length===0?this.setExitValue(s):this.tell(so(s)),n=null)}}}finally{this._supervisor.onSuspend(this)}}start(e){if(this._running)this.tell(so(e));else{this._running=!0;const n=globalThis[pi];globalThis[pi]=this;try{this.evaluateEffect(e)}finally{this._running=!1,globalThis[pi]=n,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(e){this.tell(so(e))}patchRuntimeFlags(e,n){const i=Tc(e,n);return globalThis[pi]=this,this._runtimeFlags=i,i}initiateAsync(e,n){let i=!1;const s=c=>{i||(i=!0,this.tell(so(c)))};qr(e)&&(this._asyncInterruptor=s);try{n(s)}catch(c){s(xr(Kr(c)))}}pushStack(e){this._stack.push(e),e._op==="OnStep"&&this._steps.push({refs:this.getFiberRefs(),flags:this._runtimeFlags})}popStack(){const e=this._stack.pop();if(e)return e._op==="OnStep"&&this._steps.pop(),e}getNextSuccessCont(){let e=this.popStack();for(;e;){if(e._op!==vl)return e;e=this.popStack()}}getNextFailCont(){let e=this.popStack();for(;e;){if(e._op!==Hc&&e._op!==Yc)return e;e=this.popStack()}}[(CK=SB,TK=xB,ZN)](e){return de(ja(ji),n=>aC(n,e))}Left(e){return Ie(e.left)}None(e){return Ie(new P1)}Right(e){return Re(e.right)}Some(e){return Re(e.value)}[Eb](e){const n=e.i0(),i=this.getNextSuccessCont();return i!==void 0?(i._op in Mc||Ps(i),Mc[i._op](this,i,n)):(gr.currentOp=Re(n),Br)}[vn](e){const n=e,i=this.getNextSuccessCont();return i!==void 0?(i._op in Mc||Ps(i),Mc[i._op](this,i,n.i0)):(gr.currentOp=n,Br)}[An](e){const n=e.i0,i=this.getNextFailCont();if(i!==void 0)switch(i._op){case vl:case Gc:return qr(this._runtimeFlags)&&this.isInterrupted()?Ct(ly(n)):i.i1(n);case"OnStep":return qr(this._runtimeFlags)&&this.isInterrupted()?Ct(ly(n)):Re(Ct(n));case hh:return this.patchRuntimeFlags(this._runtimeFlags,i.patch),qr(this._runtimeFlags)&&this.isInterrupted()?Ct(En(n,this.getInterruptedCause())):Ct(n);default:Ps(i)}else return gr.currentOp=Ct(n),Br}[Ab](e){return e.i0(this,X1(this._runtimeFlags))}Blocked(e){const n=this.getFiberRefs(),i=this._runtimeFlags;if(this._steps.length>0){const s=[],c=this._steps[this._steps.length-1];let f=this.popStack();for(;f&&f._op!=="OnStep";)s.push(f),f=this.popStack();this.setFiberRefs(c.refs),this._runtimeFlags=c.flags;const d=tB(c.refs,n),p=Cc(c.flags,i);return Re(r1(e.i0,Zn(y=>{for(;s.length>0;)y.pushStack(s.pop());return y.setFiberRefs(eB(y.id(),y.getFiberRefs())(d)),y._runtimeFlags=Tc(p)(y._runtimeFlags),e.i1})))}return Da(s=>G(Sw(lL(e.i0)),()=>s(e.i1)))}RunBlocked(e){return aj(e.i0)}[pu](e){const n=e.i0,i=this._runtimeFlags,s=Tc(i,n);if(qr(s)&&this.isInterrupted())return Ct(this.getInterruptedCause());if(this.patchRuntimeFlags(this._runtimeFlags,n),e.i1){const c=Cc(s,i);return this.pushStack(new dL(c,e)),e.i1(i)}else return Si}[Hc](e){return this.pushStack(e),e.i0}OnStep(e){return this.pushStack(e),e.i0}[vl](e){return this.pushStack(e),e.i0}[Gc](e){return this.pushStack(e),e.i0}[Ac](e){return this._asyncBlockingOn=e.i1,this.initiateAsync(this._runtimeFlags,e.i0),gr.currentOp=e,Br}[vc](e){return this.isYielding=!1,gr.currentOp=e,Br}[Yc](e){const n=e.i0,i=e.i1;return n()?(this.pushStack(e),i()):Si}[Rb](e){return e.commit()}runLoop(e){let n=e;for(this.currentOpCount=0;;){if(this._runtimeFlags&bT&&this._supervisor.onEffect(this,n),this._queue.length>0&&(n=this.drainQueueWhileRunning(this._runtimeFlags,n)),!this.isYielding){this.currentOpCount+=1;const i=this._scheduler.shouldYield(this);if(i!==!1){this.isYielding=!0,this.currentOpCount=0;const s=n;n=G(Lh({priority:i}),()=>s)}}try{if((!("_op"in n)||!(n._op in this))&&Ps(n),n=this._tracer.context(()=>Wc()!==n[jy]._V?gL(`Cannot execute an Effect versioned ${n[jy]._V} with a Runtime of version ${Wc()}`):this[n._op](n),this),n===Br){const i=gr.currentOp;return i._op===vc||i._op===Ac?Br:(gr.currentOp=null,i._op===vn||i._op===An?i:Ct(Kr(i)))}}catch(i){aL(i)?n=Ct(i.cause):YL(i)?n=Ct(En(Kr(i),wi(Ph))):n=Ct(Kr(i))}}}}const fj=Rt("effect/FiberRef/currentMinimumLogLevel",()=>Ve(DD("Info"))),lj=t=>{const e=$D(t,Cs);return vs(e,B1).unsafe},dj=Rt(Symbol.for("effect/Logger/defaultLogger"),()=>Yh(t=>{const e=EB.log(t);lj(t.context).log(e)})),hj=Rt(Symbol.for("effect/Logger/tracerLogger"),()=>Yh(({annotations:t,cause:e,context:n,fiberId:i,logLevel:s,message:c})=>{const f=Gb(Sd(n,ji),gu(n1)),d=_k(Sd(n,Cs),y=>vs(y,Dh));if(f._tag==="None"||f.value._tag==="ExternalSpan"||d._tag==="None")return;const p=Object.fromEntries(v0(t,y=>Rd(y)));p["effect.fiberId"]=i2(i),p["effect.logLevel"]=s.label,e!==null&&e._tag!=="Empty"&&(p["effect.cause"]=Ca(e)),f.value.event(String(c),d.value.unsafeCurrentTimeNanos(),p)})),mj=Rt(Symbol.for("effect/FiberRef/currentLoggers"),()=>NL(Fh(dj,hj))),pj=t=>{if(Array.isArray(t)||$b(t))return[t,Z()];const e=Object.keys(t),n=e.length;return[e.map(i=>t[i]),bt(i=>{const s={};for(let c=0;c<n;c++)s[e[c]]=i[c];return s})]},gj=(t,e,n)=>{const i=[];for(const s of t)i.push(Xs(s));return G(Zs(i,ie,{concurrency:n==null?void 0:n.concurrency,batching:n==null?void 0:n.batching}),s=>{const c=Z(),f=s.length,d=new Array(f),p=new Array(f);let y=!1;for(let M=0;M<f;M++){const A=s[M];A._tag==="Left"?(d[M]=bt(A.left),y=!0):(p[M]=A.right,d[M]=c)}return y?e._tag==="Some"?Ie(e.value(d)):Ie(d):n!=null&&n.discard?Fr:e._tag==="Some"?At(e.value(p)):At(p)})},yj=(t,e,n)=>{const i=[];for(const s of t)i.push(Xs(s));return n!=null&&n.discard?Zs(i,ie,{concurrency:n==null?void 0:n.concurrency,batching:n==null?void 0:n.batching,discard:!0}):de(Zs(i,ie,{concurrency:n==null?void 0:n.concurrency,batching:n==null?void 0:n.batching}),s=>e._tag==="Some"?e.value(s):s)},_j=(t,e)=>{const[n,i]=pj(t);return(e==null?void 0:e.mode)==="validate"?gj(n,i,e):(e==null?void 0:e.mode)==="either"?yj(n,i,e):i._tag==="Some"?de(Zs(n,ie,e),i.value):Zs(n,ie,e)},Zs=x(t=>$b(t[0]),(t,e,n)=>Zn(i=>{const s=(n==null?void 0:n.batching)===!0||(n==null?void 0:n.batching)==="inherit"&&i.getFiberRef(jL);return n!=null&&n.discard?Ky(n.concurrency,()=>uo(Fd)(c=>s?xi(t,(f,d)=>c(e(f,d)),!0,!1,1):Ua(t,(f,d)=>c(e(f,d)))),()=>uo($d)(c=>xi(t,(f,d)=>c(e(f,d)),s,!1)),c=>uo(Pd(c))(f=>xi(t,(d,p)=>f(e(d,p)),s,!1,c))):Ky(n==null?void 0:n.concurrency,()=>uo(Fd)(c=>s?Qy(t,1,(f,d)=>c(e(f,d)),!0):Hr(t,(f,d)=>c(e(f,d)))),()=>uo($d)(c=>bj(t,(f,d)=>c(e(f,d)),s)),c=>uo(Pd(c))(f=>Qy(t,c,(d,p)=>f(e(d,p)),s)))})),bj=(t,e,n)=>re(()=>{const i=Yt(t),s=new Array(i.length);return Ba(xi(i,(f,d)=>G(e(f,d),p=>J(()=>s[d]=p)),n,!1),At(s))}),xi=(t,e,n,i,s)=>Da(c=>SL(f=>Zn(d=>{let p=Array.from(t).reverse(),y=p.length;if(y===0)return Fr;let M=0,A=!1;const N=s?Math.min(p.length,s):p.length,k=new Set,B=new Array,mt=()=>k.forEach(Qt=>{Qt._scheduler.scheduleTask(()=>{Qt.unsafeInterruptAsFork(d.id())},0)}),tt=new Array,Ft=new Array,pt=new Array,ft=()=>{const Qt=B.filter(({exit:be})=>be._tag==="Failure").sort((be,Bn)=>be.index<Bn.index?-1:be.index===Bn.index?0:1).map(({exit:be})=>be);return Qt.length===0&&Qt.push(Si),Qt},Xt=Qt=>{const be=p1(f(Qt)),Bn=Sj(be,d,d._runtimeFlags,Gh);return d._scheduler.scheduleTask(()=>{Bn.resume(be)},0),Bn},Ht=()=>{i||(y-=p.length,p=[]),A=!0,mt()},_n=n?bL:s1,_e=Xt(Jo(Qt=>{const be=(bn,ir)=>{bn._op==="Blocked"?pt.push(bn):(B.push({index:ir,exit:bn}),bn._op==="Failure"&&!A&&Ht())},Bn=()=>{if(p.length>0){const bn=p.pop();let ir=M++;const nf=()=>{const we=p.pop();return ir=M++,G(Lh(),()=>G(_n(c(e(we,ir))),Zo))},Zo=we=>p.length>0&&(be(we,ir),p.length>0)?nf():At(we),rf=G(_n(c(e(bn,ir))),Zo),or=Xt(rf);tt.push(or),k.add(or),A&&or._scheduler.scheduleTask(()=>{or.unsafeInterruptAsFork(d.id())},0),or.addObserver(we=>{let tn;if(we._op==="Failure"?tn=we:tn=we.i0,Ft.push(or),k.delete(or),be(tn,ir),B.length===y)Qt(At($i($y(ft(),{parallel:!0}),()=>Si)));else if(pt.length+B.length===y){const of=pt.map(jn=>jn.i0).reduce(Y0);Qt(At(r1(of,xi([$i($y(ft(),{parallel:!0}),()=>Si),...pt.map(jn=>jn.i1)],jn=>jn,n,!0,s))))}else Bn()})}};for(let bn=0;bn<N;bn++)Bn()}));return xu(m1(a1(h1(c($B(_e)),()=>(Ht(),FB(_e)))),()=>Hr(Ft,Qt=>Qt.inheritAll)))}))),Qy=(t,e,n,i)=>re(()=>{const s=Yt(t),c=new Array(s.length);return Ba(xi(s,(d,p)=>de(n(d,p),y=>c[p]=y),i,!1,e),At(c))}),Sw=t=>Oj(t,Gh),wj=(t,e,n,i=null)=>{const s=Ow(t,e,n,i);return s.resume(t),s},Sj=(t,e,n,i=null)=>Ow(t,e,n,i),Ow=(t,e,n,i=null)=>{const s=M0(),c=e.getFiberRefs(),f=xD(c,s),d=new ww(s,f,n),p=Bh(f,ji),y=d._supervisor;return y.onStart(p,t,bt(e),d),d.addObserver(A=>y.onEnd(A,d)),(i!==null?i:P(e.getFiberRef(gd),$i(()=>e.scope()))).add(n,d),d},Oj=(t,e)=>Zn((n,i)=>At(wj(t,n,i.runtimeFlags,e))),Zy=t=>Fu(e=>Di(gu(e,Ru),{onNone:()=>t,onSome:n=>{switch(n.strategy._tag){case"Parallel":return t;case"Sequential":case"ParallelN":return G(Ka(n,$d),i=>Xh(t,i))}}})),Vy=t=>e=>Fu(n=>Di(gu(n,Ru),{onNone:()=>e,onSome:i=>i.strategy._tag==="ParallelN"&&i.strategy.parallelism===t?e:G(Ka(i,Pd(t)),s=>Xh(e,s))})),uo=t=>e=>Fu(n=>Di(gu(n,Ru),{onNone:()=>e(ie),onSome:i=>{const s=t._tag==="Parallel"?Zy:t._tag==="Sequential"?t_:Vy(t.parallelism);switch(i.strategy._tag){case"Parallel":return s(e(Zy));case"Sequential":return s(e(t_));case"ParallelN":return s(e(Vy(i.strategy.parallelism)))}}})),t_=t=>Fu(e=>Di(gu(e,Ru),{onNone:()=>t,onSome:n=>{switch(n.strategy._tag){case"Sequential":return t;case"Parallel":case"ParallelN":return G(Ka(n,Fd),i=>Xh(t,i))}}})),Ru=Bi("effect/Scope"),Xh=x(2,(t,e)=>iU(t,fC(cC(Ru,e)))),Ij=t=>Xo(t,{differ:ej,fork:Ts}),e_=CL(OT),n_=Ij(za),xj=(t,e)=>c1(n=>G(G(Sw(f1(t)),i=>Jo(s=>{const c=e.map(p=>p.listeners.count),f=()=>{c.every(p=>p===0)&&(d.forEach(p=>p()),s(IL(i)))};i.addObserver(p=>{d.forEach(y=>y()),s(p)});const d=e.map((p,y)=>{const M=A=>{c[y]=A,f()};return p.listeners.addObserver(M),()=>p.listeners.removeObserver(M)});return f(),J(()=>{d.forEach(p=>p())})})),()=>re(()=>{const i=e.flatMap(s=>s.state.completed?[]:[s]);return Ua(i,s=>Y3(s.request,zL(n)))}))),Fj=KL,$j=Ka,r_=(t,e)=>n=>n.replace(t,e),Pj=t=>(e,n)=>{const i=M0(),s=[[ji,[[i,t.context]]]];n!=null&&n.scheduler&&s.push([Md,[[i,n.scheduler]]]);let c=PD(t.fiberRefs,{entries:s,forkAs:i});n!=null&&n.updateRefs&&(c=n.updateRefs(c,i));const f=new ww(i,c,t.runtimeFlags);let d=e;n!=null&&n.scope&&(d=G($j(n.scope,J1),y=>Ba(WL(y,c1(M=>ct(M,f.id())?Fr:_1(f,M))),d1(e,M=>Fj(y,M)))));const p=f._supervisor;return p!==za&&(p.onStart(t.context,d,Z(),f),f.addObserver(y=>p.onEnd(y,f))),Gh.add(t.runtimeFlags,f),(n==null?void 0:n.immediate)===!1?f.resume(d):f.start(d),f},Mj=t=>e=>{const n=Nj(t)(e);if(n._tag==="Failure")throw Aj(n.i0);return n.i0},Rj=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new Error;Error.stackTraceLimit=e;const i=`Fiber #${t.id().id} cannot be be resolved synchronously, this is caused by using runSync on an effect that performs async work`,s="AsyncFiberException";return Object.defineProperties(n,{_tag:{value:s},fiber:{value:t},message:{value:i},name:{value:s},toString:{get(){return()=>i}},[Kt]:{get(){return()=>i}}}),n},i_=Symbol.for("effect/Runtime/FiberFailure"),Ej=Symbol.for("effect/Runtime/FiberFailure/Cause"),Aj=t=>{const e=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new Error;Error.stackTraceLimit=e;const i=t1(t);if(i.length>0){const s=i[0];n.name=s.message.split(":")[0],n.message=s.message.substring(n.name.length+2),n.stack=Ca(t)}return n[i_]=i_,n[Ej]=t,n.toJSON=()=>({_id:"FiberFailure",cause:t.toJSON()}),n.toString=()=>ye(n.toJSON()),n[Kt]=()=>n.toJSON(),n},vj=t=>{const e=t;switch(e._op){case"Failure":case"Success":return e;case"Left":return Py(e.left);case"Right":return Re(e.right);case"Some":return Re(e.value);case"None":return Py(P1())}},Nj=t=>e=>{const n=vj(e);if(n)return n;const i=new mB,s=Pj(t)(e,{scheduler:i});i.flush();const c=s.unsafePoll();if(c)return c;throw Rj(s)};class kj{constructor(e,n,i){_(this,"context");_(this,"runtimeFlags");_(this,"fiberRefs");this.context=e,this.runtimeFlags=n,this.fiberRefs=i}pipe(){return X(this,arguments)}}const Cj=t=>new kj(t.context,t.runtimeFlags,t.fiberRefs),Tj=H0(Go,W0,q0),Lj=Cj({context:yh(),runtimeFlags:Tj,fiberRefs:MD()}),Uj=Mj(Lj),Dd=_j,Iw=Ie,xw=At,Fw=zD,ko=de,Qh=G,Ja=Uj,Dj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bj=(t,e,n)=>{let i;const s=Dj[t];return typeof s=="string"?i=s:e===1?i=s.one:i=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Wl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const jj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Kj={date:Wl({formats:jj,defaultWidth:"full"}),time:Wl({formats:qj,defaultWidth:"full"}),dateTime:Wl({formats:Wj,defaultWidth:"full"})},Hj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Gj=(t,e,n,i)=>Hj[t];function Ms(t){return(e,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let s;if(i==="formatting"&&t.formattingValues){const f=t.defaultFormattingWidth||t.defaultWidth,d=n!=null&&n.width?String(n.width):f;s=t.formattingValues[d]||t.formattingValues[f]}else{const f=t.defaultWidth,d=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[d]||t.values[f]}const c=t.argumentCallback?t.argumentCallback(e):e;return s[c]}}const Yj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Zj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Vj=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},tq={ordinalNumber:Vj,era:Ms({values:Yj,defaultWidth:"wide"}),quarter:Ms({values:zj,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ms({values:Jj,defaultWidth:"wide"}),day:Ms({values:Xj,defaultWidth:"wide"}),dayPeriod:Ms({values:Qj,defaultWidth:"wide",formattingValues:Zj,defaultFormattingWidth:"wide"})};function Rs(t){return(e,n={})=>{const i=n.width,s=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],c=e.match(s);if(!c)return null;const f=c[0],d=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],p=Array.isArray(d)?nq(d,A=>A.test(f)):eq(d,A=>A.test(f));let y;y=t.valueCallback?t.valueCallback(p):p,y=n.valueCallback?n.valueCallback(y):y;const M=e.slice(f.length);return{value:y,rest:M}}}function eq(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function nq(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function rq(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const s=i[0],c=e.match(t.parsePattern);if(!c)return null;let f=t.valueCallback?t.valueCallback(c[0]):c[0];f=n.valueCallback?n.valueCallback(f):f;const d=e.slice(s.length);return{value:f,rest:d}}}const iq=/^(\d+)(th|st|nd|rd)?/i,oq=/\d+/i,sq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uq={any:[/^b/i,/^(a|c)/i]},cq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aq={any:[/1/i,/2/i,/3/i,/4/i]},fq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gq={ordinalNumber:rq({matchPattern:iq,parsePattern:oq,valueCallback:t=>parseInt(t,10)}),era:Rs({matchPatterns:sq,defaultMatchWidth:"wide",parsePatterns:uq,defaultParseWidth:"any"}),quarter:Rs({matchPatterns:cq,defaultMatchWidth:"wide",parsePatterns:aq,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Rs({matchPatterns:fq,defaultMatchWidth:"wide",parsePatterns:lq,defaultParseWidth:"any"}),day:Rs({matchPatterns:dq,defaultMatchWidth:"wide",parsePatterns:hq,defaultParseWidth:"any"}),dayPeriod:Rs({matchPatterns:mq,defaultMatchWidth:"any",parsePatterns:pq,defaultParseWidth:"any"})},yq={code:"en-US",formatDistance:Bj,formatLong:Kj,formatRelative:Gj,localize:tq,match:gq,options:{weekStartsOn:0,firstWeekContainsDate:1}};let _q={};function Xa(){return _q}const $w=6048e5,bq=864e5;function Dn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function o_(t){const e=Dn(t);return e.setHours(0,0,0,0),e}function s_(t){const e=Dn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function wq(t,e){const n=o_(t),i=o_(e),s=+n-s_(n),c=+i-s_(i);return Math.round((s-c)/bq)}function Ni(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Sq(t){const e=Dn(t),n=Ni(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Oq(t){const e=Dn(t);return wq(e,Sq(e))+1}function Vs(t,e){var d,p,y,M;const n=Xa(),i=(e==null?void 0:e.weekStartsOn)??((p=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((M=(y=n.locale)==null?void 0:y.options)==null?void 0:M.weekStartsOn)??0,s=Dn(t),c=s.getDay(),f=(c<i?7:0)+c-i;return s.setDate(s.getDate()-f),s.setHours(0,0,0,0),s}function ca(t){return Vs(t,{weekStartsOn:1})}function Pw(t){const e=Dn(t),n=e.getFullYear(),i=Ni(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const s=ca(i),c=Ni(t,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const f=ca(c);return e.getTime()>=s.getTime()?n+1:e.getTime()>=f.getTime()?n:n-1}function Iq(t){const e=Pw(t),n=Ni(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ca(n)}function xq(t){const e=Dn(t),n=+ca(e)-+Iq(e);return Math.round(n/$w)+1}function Mw(t,e){var M,A,N,k;const n=Dn(t),i=n.getFullYear(),s=Xa(),c=(e==null?void 0:e.firstWeekContainsDate)??((A=(M=e==null?void 0:e.locale)==null?void 0:M.options)==null?void 0:A.firstWeekContainsDate)??s.firstWeekContainsDate??((k=(N=s.locale)==null?void 0:N.options)==null?void 0:k.firstWeekContainsDate)??1,f=Ni(t,0);f.setFullYear(i+1,0,c),f.setHours(0,0,0,0);const d=Vs(f,e),p=Ni(t,0);p.setFullYear(i,0,c),p.setHours(0,0,0,0);const y=Vs(p,e);return n.getTime()>=d.getTime()?i+1:n.getTime()>=y.getTime()?i:i-1}function Fq(t,e){var d,p,y,M;const n=Xa(),i=(e==null?void 0:e.firstWeekContainsDate)??((p=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((M=(y=n.locale)==null?void 0:y.options)==null?void 0:M.firstWeekContainsDate)??1,s=Mw(t,e),c=Ni(t,0);return c.setFullYear(s,0,i),c.setHours(0,0,0,0),Vs(c,e)}function $q(t,e){const n=Dn(t),i=+Vs(n,e)-+Fq(n,e);return Math.round(i/$w)+1}function Ot(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const jr={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return Ot(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ot(n+1,2)},d(t,e){return Ot(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ot(t.getHours()%12||12,e.length)},H(t,e){return Ot(t.getHours(),e.length)},m(t,e){return Ot(t.getMinutes(),e.length)},s(t,e){return Ot(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),s=Math.trunc(i*Math.pow(10,n-3));return Ot(s,e.length)}},co={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},u_={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return jr.y(t,e)},Y:function(t,e,n,i){const s=Mw(t,i),c=s>0?s:1-s;if(e==="YY"){const f=c%100;return Ot(f,2)}return e==="Yo"?n.ordinalNumber(c,{unit:"year"}):Ot(c,e.length)},R:function(t,e){const n=Pw(t);return Ot(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ot(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Ot(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Ot(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return jr.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return Ot(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const s=$q(t,i);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Ot(s,e.length)},I:function(t,e,n){const i=xq(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):Ot(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):jr.d(t,e)},D:function(t,e,n){const i=Oq(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Ot(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const s=t.getDay(),c=(s-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(c);case"ee":return Ot(c,2);case"eo":return n.ordinalNumber(c,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const s=t.getDay(),c=(s-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(c);case"cc":return Ot(c,e.length);case"co":return n.ordinalNumber(c,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),s=i===0?7:i;switch(e){case"i":return String(s);case"ii":return Ot(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let s;switch(i===12?s=co.noon:i===0?s=co.midnight:s=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let s;switch(i>=17?s=co.evening:i>=12?s=co.afternoon:i>=4?s=co.morning:s=co.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return jr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):jr.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Ot(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):Ot(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):jr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):jr.s(t,e)},S:function(t,e){return jr.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return a_(i);case"XXXX":case"XX":return _i(i);case"XXXXX":case"XXX":default:return _i(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return a_(i);case"xxxx":case"xx":return _i(i);case"xxxxx":case"xxx":default:return _i(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+c_(i,":");case"OOOO":default:return"GMT"+_i(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+c_(i,":");case"zzzz":default:return"GMT"+_i(i,":")}},t:function(t,e,n){const i=Math.trunc(t.getTime()/1e3);return Ot(i,e.length)},T:function(t,e,n){const i=t.getTime();return Ot(i,e.length)}};function c_(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),s=Math.trunc(i/60),c=i%60;return c===0?n+String(s):n+String(s)+e+Ot(c,2)}function a_(t,e){return t%60===0?(t>0?"-":"+")+Ot(Math.abs(t)/60,2):_i(t,e)}function _i(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),s=Ot(Math.trunc(i/60),2),c=Ot(i%60,2);return n+s+e+c}const f_=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Rw=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Pq=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return f_(t,e);let c;switch(i){case"P":c=e.dateTime({width:"short"});break;case"PP":c=e.dateTime({width:"medium"});break;case"PPP":c=e.dateTime({width:"long"});break;case"PPPP":default:c=e.dateTime({width:"full"});break}return c.replace("{{date}}",f_(i,e)).replace("{{time}}",Rw(s,e))},Mq={p:Rw,P:Pq},Rq=/^D+$/,Eq=/^Y+$/,Aq=["D","DD","YY","YYYY"];function vq(t){return Rq.test(t)}function Nq(t){return Eq.test(t)}function kq(t,e,n){const i=Cq(t,e,n);if(console.warn(i),Aq.includes(t))throw new RangeError(i)}function Cq(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function Tq(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Lq(t){if(!Tq(t)&&typeof t!="number")return!1;const e=Dn(t);return!isNaN(Number(e))}const Uq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bq=/^'([^]*?)'?$/,jq=/''/g,qq=/[a-zA-Z]/;function Wq(t,e,n){var M,A,N,k,B,mt,tt,Ft;const i=Xa(),s=(n==null?void 0:n.locale)??i.locale??yq,c=(n==null?void 0:n.firstWeekContainsDate)??((A=(M=n==null?void 0:n.locale)==null?void 0:M.options)==null?void 0:A.firstWeekContainsDate)??i.firstWeekContainsDate??((k=(N=i.locale)==null?void 0:N.options)==null?void 0:k.firstWeekContainsDate)??1,f=(n==null?void 0:n.weekStartsOn)??((mt=(B=n==null?void 0:n.locale)==null?void 0:B.options)==null?void 0:mt.weekStartsOn)??i.weekStartsOn??((Ft=(tt=i.locale)==null?void 0:tt.options)==null?void 0:Ft.weekStartsOn)??0,d=Dn(t);if(!Lq(d))throw new RangeError("Invalid time value");let p=e.match(Dq).map(pt=>{const ft=pt[0];if(ft==="p"||ft==="P"){const Xt=Mq[ft];return Xt(pt,s.formatLong)}return pt}).join("").match(Uq).map(pt=>{if(pt==="''")return{isToken:!1,value:"'"};const ft=pt[0];if(ft==="'")return{isToken:!1,value:Kq(pt)};if(u_[ft])return{isToken:!0,value:pt};if(ft.match(qq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ft+"`");return{isToken:!1,value:pt}});s.localize.preprocessor&&(p=s.localize.preprocessor(d,p));const y={firstWeekContainsDate:c,weekStartsOn:f,locale:s};return p.map(pt=>{if(!pt.isToken)return pt.value;const ft=pt.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Nq(ft)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&vq(ft))&&kq(ft,e,String(t));const Xt=u_[ft[0]];return Xt(d,ft,s.localize,y)}).join("")}function Kq(t){const e=t.match(Bq);return e?e[1].replace(jq,"'"):t}const l_=rt.String,Kl=rt.Object,Hl=rt.Optional,Hq=rt.Boolean,d_=t=>rt.Transform(rt.String()).Decode(Gq).Encode(Yq(t));function Gq(t){try{return new Date(t)}catch{return t}}function Yq(t){return e=>typeof e=="string"?e:Wq(e,t)}const zq=()=>rt.String({});function Jq(t){const e=vN[t];return rt.Union(e.map(n=>rt.Literal(n)))}function Xq(t){return rt.Transform(Jq(t)).Decode(e=>({collection:t,id:e,get:()=>Ww(t,e)})).Encode(e=>e.id)}const Qq={organizations:Kl({name:l_(),location:l_(),logo:Hl(zq())}),work_experiences:Kl({date_start:d_("yyyy-MM"),date_end:Hl(d_("yyyy-MM")),current:Hl(Hq()),organization:Xq("organizations")}),projects:Kl({})};function Ew(t){return Qa(t)&&Symbol.asyncIterator in t}function Aw(t){return Qa(t)&&Symbol.iterator in t}function vw(t){return t instanceof Promise}function Zh(t){return t instanceof Uint8Array}function Vh(t){return t instanceof Date&&Number.isFinite(t.getTime())}function qi(t){return Qa(t)&&tm(t.constructor)&&t.constructor.name==="Object"}function Qa(t){return t!==null&&typeof t=="object"}function Ln(t){return Array.isArray(t)&&!ArrayBuffer.isView(t)}function Eu(t){return t===void 0}function Za(t){return t===null}function Va(t){return typeof t=="boolean"}function Yn(t){return typeof t=="number"}function Nw(t){return Yn(t)&&Number.isInteger(t)}function tf(t){return typeof t=="bigint"}function Or(t){return typeof t=="string"}function tm(t){return typeof t=="function"}function ef(t){return typeof t=="symbol"}function kw(t){return tf(t)||Va(t)||Za(t)||Yn(t)||Or(t)||ef(t)||Eu(t)}var mn;(function(t){t.ExactOptionalPropertyTypes=!1,t.AllowArrayObject=!1,t.AllowNaN=!1,t.AllowNullVoid=!1;function e(f,d){return t.ExactOptionalPropertyTypes?d in f:f[d]!==void 0}t.IsExactOptionalProperty=e;function n(f){const d=Qa(f);return t.AllowArrayObject?d:d&&!Ln(f)}t.IsObjectLike=n;function i(f){return n(f)&&!(f instanceof Date)&&!(f instanceof Uint8Array)}t.IsRecordLike=i;function s(f){const d=Yn(f);return t.AllowNaN?d:d&&Number.isFinite(f)}t.IsNumberLike=s;function c(f){const d=Eu(f);return t.AllowNullVoid?d||f===null:d}t.IsVoidLike=c})(mn||(mn={}));class Zq extends Ae{constructor(e){super(`Duplicate type kind '${e}' detected`)}}class Vq extends Ae{constructor(e){super(`Duplicate string format '${e}' detected`)}}var h_;(function(t){function e(i,s){if(ya(i))throw new Zq(i);return dR(i,s),(c={})=>Ib({...c,[U]:i})}t.Type=e;function n(i,s){if(Yd(i))throw new Vq(i);return lR(i,s),i}t.Format=n})(h_||(h_={}));function tW(t){switch(t.errorType){case I.ArrayContains:return"Expected array to contain at least one matching value";case I.ArrayMaxContains:return`Expected array to contain no more than ${t.schema.maxContains} matching values`;case I.ArrayMinContains:return`Expected array to contain at least ${t.schema.minContains} matching values`;case I.ArrayMaxItems:return`Expected array length to be less or equal to ${t.schema.maxItems}`;case I.ArrayMinItems:return`Expected array length to be greater or equal to ${t.schema.minItems}`;case I.ArrayUniqueItems:return"Expected array elements to be unique";case I.Array:return"Expected array";case I.AsyncIterator:return"Expected AsyncIterator";case I.BigIntExclusiveMaximum:return`Expected bigint to be less than ${t.schema.exclusiveMaximum}`;case I.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${t.schema.exclusiveMinimum}`;case I.BigIntMaximum:return`Expected bigint to be less or equal to ${t.schema.maximum}`;case I.BigIntMinimum:return`Expected bigint to be greater or equal to ${t.schema.minimum}`;case I.BigIntMultipleOf:return`Expected bigint to be a multiple of ${t.schema.multipleOf}`;case I.BigInt:return"Expected bigint";case I.Boolean:return"Expected boolean";case I.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${t.schema.exclusiveMinimumTimestamp}`;case I.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${t.schema.exclusiveMaximumTimestamp}`;case I.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${t.schema.minimumTimestamp}`;case I.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${t.schema.maximumTimestamp}`;case I.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${t.schema.multipleOfTimestamp}`;case I.Date:return"Expected Date";case I.Function:return"Expected function";case I.IntegerExclusiveMaximum:return`Expected integer to be less than ${t.schema.exclusiveMaximum}`;case I.IntegerExclusiveMinimum:return`Expected integer to be greater than ${t.schema.exclusiveMinimum}`;case I.IntegerMaximum:return`Expected integer to be less or equal to ${t.schema.maximum}`;case I.IntegerMinimum:return`Expected integer to be greater or equal to ${t.schema.minimum}`;case I.IntegerMultipleOf:return`Expected integer to be a multiple of ${t.schema.multipleOf}`;case I.Integer:return"Expected integer";case I.IntersectUnevaluatedProperties:return"Unexpected property";case I.Intersect:return"Expected all values to match";case I.Iterator:return"Expected Iterator";case I.Literal:return`Expected ${typeof t.schema.const=="string"?`'${t.schema.const}'`:t.schema.const}`;case I.Never:return"Never";case I.Not:return"Value should not match";case I.Null:return"Expected null";case I.NumberExclusiveMaximum:return`Expected number to be less than ${t.schema.exclusiveMaximum}`;case I.NumberExclusiveMinimum:return`Expected number to be greater than ${t.schema.exclusiveMinimum}`;case I.NumberMaximum:return`Expected number to be less or equal to ${t.schema.maximum}`;case I.NumberMinimum:return`Expected number to be greater or equal to ${t.schema.minimum}`;case I.NumberMultipleOf:return`Expected number to be a multiple of ${t.schema.multipleOf}`;case I.Number:return"Expected number";case I.Object:return"Expected object";case I.ObjectAdditionalProperties:return"Unexpected property";case I.ObjectMaxProperties:return`Expected object to have no more than ${t.schema.maxProperties} properties`;case I.ObjectMinProperties:return`Expected object to have at least ${t.schema.minProperties} properties`;case I.ObjectRequiredProperty:return"Required property";case I.Promise:return"Expected Promise";case I.RegExp:return"Expected string to match regular expression";case I.StringFormatUnknown:return`Unknown format '${t.schema.format}'`;case I.StringFormat:return`Expected string to match '${t.schema.format}' format`;case I.StringMaxLength:return`Expected string length less or equal to ${t.schema.maxLength}`;case I.StringMinLength:return`Expected string length greater or equal to ${t.schema.minLength}`;case I.StringPattern:return`Expected string to match '${t.schema.pattern}'`;case I.String:return"Expected string";case I.Symbol:return"Expected symbol";case I.TupleLength:return`Expected tuple to have ${t.schema.maxItems||0} elements`;case I.Tuple:return"Expected tuple";case I.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${t.schema.maxByteLength}`;case I.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${t.schema.minByteLength}`;case I.Uint8Array:return"Expected Uint8Array";case I.Undefined:return"Expected undefined";case I.Union:return"Expected union value";case I.Void:return"Expected void";case I.Kind:return`Expected kind '${t.schema[U]}'`;default:return"Unknown error type"}}let eW=tW;function nW(){return eW}class rW extends Ae{constructor(n){super(`Unable to dereference schema with $id '${n.$id}'`);_(this,"schema");this.schema=n}}function ii(t,e){const n=e.findIndex(i=>i.$id===t.$ref);if(n===-1)throw new rW(t);return e[n]}class iW extends Ae{constructor(n){super("Unable to hash value");_(this,"value");this.value=n}}var Qe;(function(t){t[t.Undefined=0]="Undefined",t[t.Null=1]="Null",t[t.Boolean=2]="Boolean",t[t.Number=3]="Number",t[t.String=4]="String",t[t.Object=5]="Object",t[t.Array=6]="Array",t[t.Date=7]="Date",t[t.Uint8Array=8]="Uint8Array",t[t.Symbol=9]="Symbol",t[t.BigInt=10]="BigInt"})(Qe||(Qe={}));let fo=BigInt("14695981039346656037");const[oW,sW]=[BigInt("1099511628211"),BigInt("2")**BigInt("64")],uW=Array.from({length:256}).map((t,e)=>BigInt(e)),Cw=new Float64Array(1),Tw=new DataView(Cw.buffer),Lw=new Uint8Array(Cw.buffer);function*cW(t){const e=t===0?1:Math.ceil(Math.floor(Math.log2(t)+1)/8);for(let n=0;n<e;n++)yield t>>8*(e-1-n)&255}function aW(t){xe(Qe.Array);for(const e of t)Co(e)}function fW(t){xe(Qe.Boolean),xe(t?1:0)}function lW(t){xe(Qe.BigInt),Tw.setBigInt64(0,t);for(const e of Lw)xe(e)}function dW(t){xe(Qe.Date),Co(t.getTime())}function hW(t){xe(Qe.Null)}function mW(t){xe(Qe.Number),Tw.setFloat64(0,t);for(const e of Lw)xe(e)}function pW(t){xe(Qe.Object);for(const e of globalThis.Object.keys(t).sort())Co(e),Co(t[e])}function gW(t){xe(Qe.String);for(let e=0;e<t.length;e++)for(const n of cW(t.charCodeAt(e)))xe(n)}function yW(t){xe(Qe.Symbol),Co(t.description)}function _W(t){xe(Qe.Uint8Array);for(let e=0;e<t.length;e++)xe(t[e])}function bW(t){return xe(Qe.Undefined)}function Co(t){if(Ln(t))return aW(t);if(Va(t))return fW(t);if(tf(t))return lW(t);if(Vh(t))return dW(t);if(Za(t))return hW();if(Yn(t))return mW(t);if(qi(t))return pW(t);if(Or(t))return gW(t);if(ef(t))return yW(t);if(Zh(t))return _W(t);if(Eu(t))return bW();throw new iW(t)}function xe(t){fo=fo^uW[t],fo=fo*oW%sW}function Uw(t){return fo=BigInt("14695981039346656037"),Co(t),fo}var I;(function(t){t[t.ArrayContains=0]="ArrayContains",t[t.ArrayMaxContains=1]="ArrayMaxContains",t[t.ArrayMaxItems=2]="ArrayMaxItems",t[t.ArrayMinContains=3]="ArrayMinContains",t[t.ArrayMinItems=4]="ArrayMinItems",t[t.ArrayUniqueItems=5]="ArrayUniqueItems",t[t.Array=6]="Array",t[t.AsyncIterator=7]="AsyncIterator",t[t.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",t[t.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",t[t.BigIntMaximum=10]="BigIntMaximum",t[t.BigIntMinimum=11]="BigIntMinimum",t[t.BigIntMultipleOf=12]="BigIntMultipleOf",t[t.BigInt=13]="BigInt",t[t.Boolean=14]="Boolean",t[t.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",t[t.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",t[t.DateMaximumTimestamp=17]="DateMaximumTimestamp",t[t.DateMinimumTimestamp=18]="DateMinimumTimestamp",t[t.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",t[t.Date=20]="Date",t[t.Function=21]="Function",t[t.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",t[t.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",t[t.IntegerMaximum=24]="IntegerMaximum",t[t.IntegerMinimum=25]="IntegerMinimum",t[t.IntegerMultipleOf=26]="IntegerMultipleOf",t[t.Integer=27]="Integer",t[t.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",t[t.Intersect=29]="Intersect",t[t.Iterator=30]="Iterator",t[t.Kind=31]="Kind",t[t.Literal=32]="Literal",t[t.Never=33]="Never",t[t.Not=34]="Not",t[t.Null=35]="Null",t[t.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",t[t.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",t[t.NumberMaximum=38]="NumberMaximum",t[t.NumberMinimum=39]="NumberMinimum",t[t.NumberMultipleOf=40]="NumberMultipleOf",t[t.Number=41]="Number",t[t.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",t[t.ObjectMaxProperties=43]="ObjectMaxProperties",t[t.ObjectMinProperties=44]="ObjectMinProperties",t[t.ObjectRequiredProperty=45]="ObjectRequiredProperty",t[t.Object=46]="Object",t[t.Promise=47]="Promise",t[t.RegExp=48]="RegExp",t[t.StringFormatUnknown=49]="StringFormatUnknown",t[t.StringFormat=50]="StringFormat",t[t.StringMaxLength=51]="StringMaxLength",t[t.StringMinLength=52]="StringMinLength",t[t.StringPattern=53]="StringPattern",t[t.String=54]="String",t[t.Symbol=55]="Symbol",t[t.TupleLength=56]="TupleLength",t[t.Tuple=57]="Tuple",t[t.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",t[t.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",t[t.Uint8Array=60]="Uint8Array",t[t.Undefined=61]="Undefined",t[t.Union=62]="Union",t[t.Void=63]="Void"})(I||(I={}));class wW extends Ae{constructor(n){super("Unknown type");_(this,"schema");this.schema=n}}function yr(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function st(t){return t!==void 0}class SW{constructor(e){_(this,"iterator");this.iterator=e}[Symbol.iterator](){return this.iterator}First(){const e=this.iterator.next();return e.done?void 0:e.value}}function T(t,e,n,i){return{type:t,schema:e,path:n,value:i,message:nW()({errorType:t,path:n,schema:e,value:i})}}function*OW(t,e,n,i){}function*IW(t,e,n,i){if(!Ln(i))return yield T(I.Array,t,n,i);st(t.minItems)&&!(i.length>=t.minItems)&&(yield T(I.ArrayMinItems,t,n,i)),st(t.maxItems)&&!(i.length<=t.maxItems)&&(yield T(I.ArrayMaxItems,t,n,i));for(let f=0;f<i.length;f++)yield*he(t.items,e,`${n}/${f}`,i[f]);if(t.uniqueItems===!0&&!function(){const f=new Set;for(const d of i){const p=Uw(d);if(f.has(p))return!1;f.add(p)}return!0}()&&(yield T(I.ArrayUniqueItems,t,n,i)),!(st(t.contains)||st(t.minContains)||st(t.maxContains)))return;const s=st(t.contains)?t.contains:ve(),c=i.reduce((f,d,p)=>he(s,e,`${n}${p}`,d).next().done===!0?f+1:f,0);c===0&&(yield T(I.ArrayContains,t,n,i)),Yn(t.minContains)&&c<t.minContains&&(yield T(I.ArrayMinContains,t,n,i)),Yn(t.maxContains)&&c>t.maxContains&&(yield T(I.ArrayMaxContains,t,n,i))}function*xW(t,e,n,i){Ew(i)||(yield T(I.AsyncIterator,t,n,i))}function*FW(t,e,n,i){if(!tf(i))return yield T(I.BigInt,t,n,i);st(t.exclusiveMaximum)&&!(i<t.exclusiveMaximum)&&(yield T(I.BigIntExclusiveMaximum,t,n,i)),st(t.exclusiveMinimum)&&!(i>t.exclusiveMinimum)&&(yield T(I.BigIntExclusiveMinimum,t,n,i)),st(t.maximum)&&!(i<=t.maximum)&&(yield T(I.BigIntMaximum,t,n,i)),st(t.minimum)&&!(i>=t.minimum)&&(yield T(I.BigIntMinimum,t,n,i)),st(t.multipleOf)&&i%t.multipleOf!==BigInt(0)&&(yield T(I.BigIntMultipleOf,t,n,i))}function*$W(t,e,n,i){Va(i)||(yield T(I.Boolean,t,n,i))}function*PW(t,e,n,i){yield*he(t.returns,e,n,i.prototype)}function*MW(t,e,n,i){if(!Vh(i))return yield T(I.Date,t,n,i);st(t.exclusiveMaximumTimestamp)&&!(i.getTime()<t.exclusiveMaximumTimestamp)&&(yield T(I.DateExclusiveMaximumTimestamp,t,n,i)),st(t.exclusiveMinimumTimestamp)&&!(i.getTime()>t.exclusiveMinimumTimestamp)&&(yield T(I.DateExclusiveMinimumTimestamp,t,n,i)),st(t.maximumTimestamp)&&!(i.getTime()<=t.maximumTimestamp)&&(yield T(I.DateMaximumTimestamp,t,n,i)),st(t.minimumTimestamp)&&!(i.getTime()>=t.minimumTimestamp)&&(yield T(I.DateMinimumTimestamp,t,n,i)),st(t.multipleOfTimestamp)&&i.getTime()%t.multipleOfTimestamp!==0&&(yield T(I.DateMultipleOfTimestamp,t,n,i))}function*RW(t,e,n,i){tm(i)||(yield T(I.Function,t,n,i))}function*EW(t,e,n,i){if(!Nw(i))return yield T(I.Integer,t,n,i);st(t.exclusiveMaximum)&&!(i<t.exclusiveMaximum)&&(yield T(I.IntegerExclusiveMaximum,t,n,i)),st(t.exclusiveMinimum)&&!(i>t.exclusiveMinimum)&&(yield T(I.IntegerExclusiveMinimum,t,n,i)),st(t.maximum)&&!(i<=t.maximum)&&(yield T(I.IntegerMaximum,t,n,i)),st(t.minimum)&&!(i>=t.minimum)&&(yield T(I.IntegerMinimum,t,n,i)),st(t.multipleOf)&&i%t.multipleOf!==0&&(yield T(I.IntegerMultipleOf,t,n,i))}function*AW(t,e,n,i){for(const s of t.allOf){const c=he(s,e,n,i).next();c.done||(yield T(I.Intersect,t,n,i),yield c.value)}if(t.unevaluatedProperties===!1){const s=new RegExp(qc(t));for(const c of Object.getOwnPropertyNames(i))s.test(c)||(yield T(I.IntersectUnevaluatedProperties,t,`${n}/${c}`,i))}if(typeof t.unevaluatedProperties=="object"){const s=new RegExp(qc(t));for(const c of Object.getOwnPropertyNames(i))if(!s.test(c)){const f=he(t.unevaluatedProperties,e,`${n}/${c}`,i[c]).next();f.done||(yield f.value)}}}function*vW(t,e,n,i){Aw(i)||(yield T(I.Iterator,t,n,i))}function*NW(t,e,n,i){i!==t.const&&(yield T(I.Literal,t,n,i))}function*kW(t,e,n,i){yield T(I.Never,t,n,i)}function*CW(t,e,n,i){he(t.not,e,n,i).next().done===!0&&(yield T(I.Not,t,n,i))}function*TW(t,e,n,i){Za(i)||(yield T(I.Null,t,n,i))}function*LW(t,e,n,i){if(!mn.IsNumberLike(i))return yield T(I.Number,t,n,i);st(t.exclusiveMaximum)&&!(i<t.exclusiveMaximum)&&(yield T(I.NumberExclusiveMaximum,t,n,i)),st(t.exclusiveMinimum)&&!(i>t.exclusiveMinimum)&&(yield T(I.NumberExclusiveMinimum,t,n,i)),st(t.maximum)&&!(i<=t.maximum)&&(yield T(I.NumberMaximum,t,n,i)),st(t.minimum)&&!(i>=t.minimum)&&(yield T(I.NumberMinimum,t,n,i)),st(t.multipleOf)&&i%t.multipleOf!==0&&(yield T(I.NumberMultipleOf,t,n,i))}function*UW(t,e,n,i){if(!mn.IsObjectLike(i))return yield T(I.Object,t,n,i);st(t.minProperties)&&!(Object.getOwnPropertyNames(i).length>=t.minProperties)&&(yield T(I.ObjectMinProperties,t,n,i)),st(t.maxProperties)&&!(Object.getOwnPropertyNames(i).length<=t.maxProperties)&&(yield T(I.ObjectMaxProperties,t,n,i));const s=Array.isArray(t.required)?t.required:[],c=Object.getOwnPropertyNames(t.properties),f=Object.getOwnPropertyNames(i);for(const d of s)f.includes(d)||(yield T(I.ObjectRequiredProperty,t.properties[d],`${n}/${yr(d)}`,void 0));if(t.additionalProperties===!1)for(const d of f)c.includes(d)||(yield T(I.ObjectAdditionalProperties,t,`${n}/${yr(d)}`,i[d]));if(typeof t.additionalProperties=="object")for(const d of f)c.includes(d)||(yield*he(t.additionalProperties,e,`${n}/${yr(d)}`,i[d]));for(const d of c){const p=t.properties[d];t.required&&t.required.includes(d)?(yield*he(p,e,`${n}/${yr(d)}`,i[d]),lu(t)&&!(d in i)&&(yield T(I.ObjectRequiredProperty,p,`${n}/${yr(d)}`,void 0))):mn.IsExactOptionalProperty(i,d)&&(yield*he(p,e,`${n}/${yr(d)}`,i[d]))}}function*DW(t,e,n,i){vw(i)||(yield T(I.Promise,t,n,i))}function*BW(t,e,n,i){if(!mn.IsRecordLike(i))return yield T(I.Object,t,n,i);st(t.minProperties)&&!(Object.getOwnPropertyNames(i).length>=t.minProperties)&&(yield T(I.ObjectMinProperties,t,n,i)),st(t.maxProperties)&&!(Object.getOwnPropertyNames(i).length<=t.maxProperties)&&(yield T(I.ObjectMaxProperties,t,n,i));const[s,c]=Object.entries(t.patternProperties)[0],f=new RegExp(s);for(const[d,p]of Object.entries(i))f.test(d)&&(yield*he(c,e,`${n}/${yr(d)}`,p));if(typeof t.additionalProperties=="object")for(const[d,p]of Object.entries(i))f.test(d)||(yield*he(t.additionalProperties,e,`${n}/${yr(d)}`,p));if(t.additionalProperties===!1){for(const[d,p]of Object.entries(i))if(!f.test(d))return yield T(I.ObjectAdditionalProperties,t,`${n}/${yr(d)}`,p)}}function*jW(t,e,n,i){yield*he(ii(t,e),e,n,i)}function*qW(t,e,n,i){if(!Or(i))return yield T(I.String,t,n,i);if(st(t.minLength)&&!(i.length>=t.minLength)&&(yield T(I.StringMinLength,t,n,i)),st(t.maxLength)&&!(i.length<=t.maxLength)&&(yield T(I.StringMaxLength,t,n,i)),!new RegExp(t.source,t.flags).test(i))return yield T(I.RegExp,t,n,i)}function*WW(t,e,n,i){if(!Or(i))return yield T(I.String,t,n,i);st(t.minLength)&&!(i.length>=t.minLength)&&(yield T(I.StringMinLength,t,n,i)),st(t.maxLength)&&!(i.length<=t.maxLength)&&(yield T(I.StringMaxLength,t,n,i)),Or(t.pattern)&&(new RegExp(t.pattern).test(i)||(yield T(I.StringPattern,t,n,i))),Or(t.format)&&(Yd(t.format)?U_(t.format)(i)||(yield T(I.StringFormat,t,n,i)):yield T(I.StringFormatUnknown,t,n,i))}function*KW(t,e,n,i){ef(i)||(yield T(I.Symbol,t,n,i))}function*HW(t,e,n,i){if(!Or(i))return yield T(I.String,t,n,i);new RegExp(t.pattern).test(i)||(yield T(I.StringPattern,t,n,i))}function*GW(t,e,n,i){yield*he(ii(t,e),e,n,i)}function*YW(t,e,n,i){if(!Ln(i))return yield T(I.Tuple,t,n,i);if(t.items===void 0&&i.length!==0)return yield T(I.TupleLength,t,n,i);if(i.length!==t.maxItems)return yield T(I.TupleLength,t,n,i);if(t.items)for(let s=0;s<t.items.length;s++)yield*he(t.items[s],e,`${n}/${s}`,i[s])}function*zW(t,e,n,i){Eu(i)||(yield T(I.Undefined,t,n,i))}function*JW(t,e,n,i){let s=0;for(const c of t.anyOf){const f=[...he(c,e,n,i)];if(f.length===0)return;s+=f.length}s>0&&(yield T(I.Union,t,n,i))}function*XW(t,e,n,i){if(!Zh(i))return yield T(I.Uint8Array,t,n,i);st(t.maxByteLength)&&!(i.length<=t.maxByteLength)&&(yield T(I.Uint8ArrayMaxByteLength,t,n,i)),st(t.minByteLength)&&!(i.length>=t.minByteLength)&&(yield T(I.Uint8ArrayMinByteLength,t,n,i))}function*QW(t,e,n,i){}function*ZW(t,e,n,i){mn.IsVoidLike(i)||(yield T(I.Void,t,n,i))}function*VW(t,e,n,i){D_(t[U])(t,i)||(yield T(I.Kind,t,n,i))}function*he(t,e,n,i){const s=st(t.$id)?[...e,t]:e,c=t;switch(c[U]){case"Any":return yield*OW();case"Array":return yield*IW(c,s,n,i);case"AsyncIterator":return yield*xW(c,s,n,i);case"BigInt":return yield*FW(c,s,n,i);case"Boolean":return yield*$W(c,s,n,i);case"Constructor":return yield*PW(c,s,n,i);case"Date":return yield*MW(c,s,n,i);case"Function":return yield*RW(c,s,n,i);case"Integer":return yield*EW(c,s,n,i);case"Intersect":return yield*AW(c,s,n,i);case"Iterator":return yield*vW(c,s,n,i);case"Literal":return yield*NW(c,s,n,i);case"Never":return yield*kW(c,s,n,i);case"Not":return yield*CW(c,s,n,i);case"Null":return yield*TW(c,s,n,i);case"Number":return yield*LW(c,s,n,i);case"Object":return yield*UW(c,s,n,i);case"Promise":return yield*DW(c,s,n,i);case"Record":return yield*BW(c,s,n,i);case"Ref":return yield*jW(c,s,n,i);case"RegExp":return yield*qW(c,s,n,i);case"String":return yield*WW(c,s,n,i);case"Symbol":return yield*KW(c,s,n,i);case"TemplateLiteral":return yield*HW(c,s,n,i);case"This":return yield*GW(c,s,n,i);case"Tuple":return yield*YW(c,s,n,i);case"Undefined":return yield*zW(c,s,n,i);case"Union":return yield*JW(c,s,n,i);case"Uint8Array":return yield*XW(c,s,n,i);case"Unknown":return yield*QW();case"Void":return yield*ZW(c,s,n,i);default:if(!ya(c[U]))throw new wW(t);return yield*VW(c,s,n,i)}}function m_(...t){const e=t.length===3?he(t[0],t[1],"",t[2]):he(t[0],[],"",t[1]);return new SW(e)}class t4 extends Ae{constructor(n){super("Unknown type");_(this,"schema");this.schema=n}}function e4(t){return t[U]==="Any"||t[U]==="Unknown"}function ut(t){return t!==void 0}function n4(t,e,n){return!0}function r4(t,e,n){if(!Ln(n)||ut(t.minItems)&&!(n.length>=t.minItems)||ut(t.maxItems)&&!(n.length<=t.maxItems)||!n.every(c=>me(t.items,e,c))||t.uniqueItems===!0&&!function(){const c=new Set;for(const f of n){const d=Uw(f);if(c.has(d))return!1;c.add(d)}return!0}())return!1;if(!(ut(t.contains)||Yn(t.minContains)||Yn(t.maxContains)))return!0;const i=ut(t.contains)?t.contains:ve(),s=n.reduce((c,f)=>me(i,e,f)?c+1:c,0);return!(s===0||Yn(t.minContains)&&s<t.minContains||Yn(t.maxContains)&&s>t.maxContains)}function i4(t,e,n){return Ew(n)}function o4(t,e,n){return!(!tf(n)||ut(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)||ut(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)||ut(t.maximum)&&!(n<=t.maximum)||ut(t.minimum)&&!(n>=t.minimum)||ut(t.multipleOf)&&n%t.multipleOf!==BigInt(0))}function s4(t,e,n){return Va(n)}function u4(t,e,n){return me(t.returns,e,n.prototype)}function c4(t,e,n){return!(!Vh(n)||ut(t.exclusiveMaximumTimestamp)&&!(n.getTime()<t.exclusiveMaximumTimestamp)||ut(t.exclusiveMinimumTimestamp)&&!(n.getTime()>t.exclusiveMinimumTimestamp)||ut(t.maximumTimestamp)&&!(n.getTime()<=t.maximumTimestamp)||ut(t.minimumTimestamp)&&!(n.getTime()>=t.minimumTimestamp)||ut(t.multipleOfTimestamp)&&n.getTime()%t.multipleOfTimestamp!==0)}function a4(t,e,n){return tm(n)}function f4(t,e,n){return!(!Nw(n)||ut(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)||ut(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)||ut(t.maximum)&&!(n<=t.maximum)||ut(t.minimum)&&!(n>=t.minimum)||ut(t.multipleOf)&&n%t.multipleOf!==0)}function l4(t,e,n){const i=t.allOf.every(s=>me(s,e,n));if(t.unevaluatedProperties===!1){const s=new RegExp(qc(t)),c=Object.getOwnPropertyNames(n).every(f=>s.test(f));return i&&c}else if($t(t.unevaluatedProperties)){const s=new RegExp(qc(t)),c=Object.getOwnPropertyNames(n).every(f=>s.test(f)||me(t.unevaluatedProperties,e,n[f]));return i&&c}else return i}function d4(t,e,n){return Aw(n)}function h4(t,e,n){return n===t.const}function m4(t,e,n){return!1}function p4(t,e,n){return!me(t.not,e,n)}function g4(t,e,n){return Za(n)}function y4(t,e,n){return!(!mn.IsNumberLike(n)||ut(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)||ut(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)||ut(t.minimum)&&!(n>=t.minimum)||ut(t.maximum)&&!(n<=t.maximum)||ut(t.multipleOf)&&n%t.multipleOf!==0)}function _4(t,e,n){if(!mn.IsObjectLike(n)||ut(t.minProperties)&&!(Object.getOwnPropertyNames(n).length>=t.minProperties)||ut(t.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=t.maxProperties))return!1;const i=Object.getOwnPropertyNames(t.properties);for(const s of i){const c=t.properties[s];if(t.required&&t.required.includes(s)){if(!me(c,e,n[s])||(lu(c)||e4(c))&&!(s in n))return!1}else if(mn.IsExactOptionalProperty(n,s)&&!me(c,e,n[s]))return!1}if(t.additionalProperties===!1){const s=Object.getOwnPropertyNames(n);return t.required&&t.required.length===i.length&&s.length===i.length?!0:s.every(c=>i.includes(c))}else return typeof t.additionalProperties=="object"?Object.getOwnPropertyNames(n).every(c=>i.includes(c)||me(t.additionalProperties,e,n[c])):!0}function b4(t,e,n){return vw(n)}function w4(t,e,n){if(!mn.IsRecordLike(n)||ut(t.minProperties)&&!(Object.getOwnPropertyNames(n).length>=t.minProperties)||ut(t.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=t.maxProperties))return!1;const[i,s]=Object.entries(t.patternProperties)[0],c=new RegExp(i),f=Object.entries(n).every(([y,M])=>c.test(y)?me(s,e,M):!0),d=typeof t.additionalProperties=="object"?Object.entries(n).every(([y,M])=>c.test(y)?!0:me(t.additionalProperties,e,M)):!0,p=t.additionalProperties===!1?Object.getOwnPropertyNames(n).every(y=>c.test(y)):!0;return f&&d&&p}function S4(t,e,n){return me(ii(t,e),e,n)}function O4(t,e,n){const i=new RegExp(t.source,t.flags);return ut(t.minLength)&&!(n.length>=t.minLength)||ut(t.maxLength)&&!(n.length<=t.maxLength)?!1:i.test(n)}function I4(t,e,n){return!Or(n)||ut(t.minLength)&&!(n.length>=t.minLength)||ut(t.maxLength)&&!(n.length<=t.maxLength)||ut(t.pattern)&&!new RegExp(t.pattern).test(n)?!1:ut(t.format)?Yd(t.format)?U_(t.format)(n):!1:!0}function x4(t,e,n){return ef(n)}function F4(t,e,n){return Or(n)&&new RegExp(t.pattern).test(n)}function $4(t,e,n){return me(ii(t,e),e,n)}function P4(t,e,n){if(!Ln(n)||t.items===void 0&&n.length!==0||n.length!==t.maxItems)return!1;if(!t.items)return!0;for(let i=0;i<t.items.length;i++)if(!me(t.items[i],e,n[i]))return!1;return!0}function M4(t,e,n){return Eu(n)}function R4(t,e,n){return t.anyOf.some(i=>me(i,e,n))}function E4(t,e,n){return!(!Zh(n)||ut(t.maxByteLength)&&!(n.length<=t.maxByteLength)||ut(t.minByteLength)&&!(n.length>=t.minByteLength))}function A4(t,e,n){return!0}function v4(t,e,n){return mn.IsVoidLike(n)}function N4(t,e,n){return ya(t[U])?D_(t[U])(t,n):!1}function me(t,e,n){const i=ut(t.$id)?[...e,t]:e,s=t;switch(s[U]){case"Any":return n4();case"Array":return r4(s,i,n);case"AsyncIterator":return i4(s,i,n);case"BigInt":return o4(s,i,n);case"Boolean":return s4(s,i,n);case"Constructor":return u4(s,i,n);case"Date":return c4(s,i,n);case"Function":return a4(s,i,n);case"Integer":return f4(s,i,n);case"Intersect":return l4(s,i,n);case"Iterator":return d4(s,i,n);case"Literal":return h4(s,i,n);case"Never":return m4();case"Not":return p4(s,i,n);case"Null":return g4(s,i,n);case"Number":return y4(s,i,n);case"Object":return _4(s,i,n);case"Promise":return b4(s,i,n);case"Record":return w4(s,i,n);case"Ref":return S4(s,i,n);case"RegExp":return O4(s,i,n);case"String":return I4(s,i,n);case"Symbol":return x4(s,i,n);case"TemplateLiteral":return F4(s,i,n);case"This":return $4(s,i,n);case"Tuple":return P4(s,i,n);case"Undefined":return M4(s,i,n);case"Union":return R4(s,i,n);case"Uint8Array":return E4(s,i,n);case"Unknown":return A4();case"Void":return v4(s,i,n);default:if(!ya(s[U]))throw new t4(s);return N4(s,i,n)}}function tu(...t){return t.length===3?me(t[0],t[1],t[2]):me(t[0],[],t[1])}const k4=ue({type:qt("insert"),path:Xr(),value:cu()}),C4=ue({type:qt("update"),path:Xr(),value:cu()}),T4=ue({type:qt("delete"),path:Xr()});Ne([k4,C4,T4]);class L4 extends Ae{constructor(n,i,s){super("Unable to decode due to invalid value");_(this,"schema");_(this,"value");_(this,"error");this.schema=n,this.value=i,this.error=s}}class U4 extends Ae{constructor(n,i,s){super(`${s instanceof Error?s.message:"Unknown error"}`);_(this,"schema");_(this,"value");this.schema=n,this.value=i}}function Lt(t,e){try{return ei(t)?t[Mn].Decode(e):e}catch(n){throw new U4(t,e,n)}}function D4(t,e,n){return Ln(n)?Lt(t,n.map(i=>rr(t.items,e,i))):Lt(t,n)}function B4(t,e,n){if(!qi(n)||kw(n))return Lt(t,n);const i=ri(t),s=i.reduce((p,y)=>y in p?{...p,[y]:rr(su(t,[y]),e,p[y])}:p,n);if(!ei(t.unevaluatedProperties))return Lt(t,s);const c=Object.getOwnPropertyNames(s),f=t.unevaluatedProperties,d=c.reduce((p,y)=>i.includes(y)?p:{...p,[y]:Lt(f,p[y])},s);return Lt(t,d)}function j4(t,e,n){return Lt(t,rr(t.not,e,n))}function q4(t,e,n){if(!qi(n))return Lt(t,n);const i=ri(t),s=i.reduce((p,y)=>y in p?{...p,[y]:rr(t.properties[y],e,p[y])}:p,n);if(!$t(t.additionalProperties))return Lt(t,s);const c=Object.getOwnPropertyNames(s),f=t.additionalProperties,d=c.reduce((p,y)=>i.includes(y)?p:{...p,[y]:Lt(f,p[y])},s);return Lt(t,d)}function W4(t,e,n){if(!qi(n))return Lt(t,n);const i=Object.getOwnPropertyNames(t.patternProperties)[0],s=new RegExp(i),c=Object.getOwnPropertyNames(n).reduce((y,M)=>s.test(M)?{...y,[M]:rr(t.patternProperties[i],e,y[M])}:y,n);if(!$t(t.additionalProperties))return Lt(t,c);const f=Object.getOwnPropertyNames(c),d=t.additionalProperties,p=f.reduce((y,M)=>s.test(M)?y:{...y,[M]:Lt(d,y[M])},c);return Lt(t,p)}function K4(t,e,n){const i=ii(t,e);return Lt(t,rr(i,e,n))}function H4(t,e,n){const i=ii(t,e);return Lt(t,rr(i,e,n))}function G4(t,e,n){return Ln(n)&&Ln(t.items)?Lt(t,t.items.map((i,s)=>rr(i,e,n[s]))):Lt(t,n)}function Y4(t,e,n){for(const i of t.anyOf){if(!tu(i,e,n))continue;const s=rr(i,e,n);return Lt(t,s)}return Lt(t,n)}function rr(t,e,n){const i=typeof t.$id=="string"?[...e,t]:e,s=t;switch(t[U]){case"Array":return D4(s,i,n);case"Intersect":return B4(s,i,n);case"Not":return j4(s,i,n);case"Object":return q4(s,i,n);case"Record":return W4(s,i,n);case"Ref":return K4(s,i,n);case"Symbol":return Lt(s,n);case"This":return H4(s,i,n);case"Tuple":return G4(s,i,n);case"Union":return Y4(s,i,n);default:return Lt(s,n)}}function z4(t,e,n){return rr(t,e,n)}class J4 extends Ae{constructor(n,i,s){super("Unable to encode due to invalid value");_(this,"schema");_(this,"value");_(this,"error");this.schema=n,this.value=i,this.error=s}}class X4 extends Ae{constructor(n,i,s){super(`${s instanceof Error?s.message:"Unknown error"}`);_(this,"schema");_(this,"value");this.schema=n,this.value=i}}function oe(t,e){try{return ei(t)?t[Mn].Encode(e):e}catch(n){throw new X4(t,e,n)}}function Q4(t,e,n){const i=oe(t,n);return Ln(i)?i.map(s=>Vn(t.items,e,s)):i}function Z4(t,e,n){const i=oe(t,n);if(!qi(n)||kw(n))return i;const s=ri(t),c=s.reduce((p,y)=>y in i?{...p,[y]:Vn(su(t,[y]),e,p[y])}:p,i);if(!ei(t.unevaluatedProperties))return oe(t,c);const f=Object.getOwnPropertyNames(c),d=t.unevaluatedProperties;return f.reduce((p,y)=>s.includes(y)?p:{...p,[y]:oe(d,p[y])},c)}function V4(t,e,n){return oe(t.not,oe(t,n))}function t6(t,e,n){const i=oe(t,n);if(!qi(n))return i;const s=ri(t),c=s.reduce((p,y)=>y in p?{...p,[y]:Vn(t.properties[y],e,p[y])}:p,i);if(!$t(t.additionalProperties))return c;const f=Object.getOwnPropertyNames(c),d=t.additionalProperties;return f.reduce((p,y)=>s.includes(y)?p:{...p,[y]:oe(d,p[y])},c)}function e6(t,e,n){const i=oe(t,n);if(!qi(n))return i;const s=Object.getOwnPropertyNames(t.patternProperties)[0],c=new RegExp(s),f=Object.getOwnPropertyNames(n).reduce((y,M)=>c.test(M)?{...y,[M]:Vn(t.patternProperties[s],e,y[M])}:y,i);if(!$t(t.additionalProperties))return oe(t,f);const d=Object.getOwnPropertyNames(f),p=t.additionalProperties;return d.reduce((y,M)=>c.test(M)?y:{...y,[M]:oe(p,y[M])},f)}function n6(t,e,n){const i=ii(t,e),s=Vn(i,e,n);return oe(t,s)}function r6(t,e,n){const i=ii(t,e),s=Vn(i,e,n);return oe(t,s)}function i6(t,e,n){const i=oe(t,n);return Ln(t.items)?t.items.map((s,c)=>Vn(s,e,i[c])):[]}function o6(t,e,n){for(const i of t.anyOf){if(!tu(i,e,n))continue;const s=Vn(i,e,n);return oe(t,s)}for(const i of t.anyOf){const s=Vn(i,e,n);if(tu(t,e,s))return oe(t,s)}return oe(t,n)}function Vn(t,e,n){const i=typeof t.$id=="string"?[...e,t]:e,s=t;switch(t[U]){case"Array":return Q4(s,i,n);case"Intersect":return Z4(s,i,n);case"Not":return V4(s,i,n);case"Object":return t6(s,i,n);case"Record":return e6(s,i,n);case"Ref":return n6(s,i,n);case"This":return r6(s,i,n);case"Tuple":return i6(s,i,n);case"Union":return o6(s,i,n);default:return oe(s,n)}}function s6(t,e,n){return Vn(t,e,n)}function eu(...t){return tu.apply(tu,t)}function Dw(...t){const[e,n,i]=t.length===3?[t[0],t[1],t[2]]:[t[0],[],t[1]];if(!eu(e,n,i))throw new L4(e,i,em(e,n,i).First());return z4(e,n,i)}function u6(...t){const[e,n,i]=t.length===3?[t[0],t[1],t[2]]:[t[0],[],t[1]],s=s6(e,n,i);if(!eu(e,n,s))throw new J4(e,i,em(e,n,i).First());return s}function em(...t){return m_.apply(m_,t)}const Bd=""+new URL("../assets/logo.BN0rvja2.jpeg",import.meta.url).href,c6=t=>({}),p_=t=>({doc:t[0]});function a6(t){let e;const n=t[4].default,i=kM(n,t,t[3],p_);return{c(){i&&i.c()},l(s){i&&i.l(s)},m(s,c){i&&i.m(s,c),e=!0},p(s,[c]){i&&i.p&&(!e||c&8)&&CM(i,n,s,s[3],e?LM(n,s[3],c,c6):TM(s[3]),p_)},i(s){e||(jd(i,s),e=!0)},o(s){qd(i,s),e=!1},d(s){i&&i.d(s)}}}const f6=Symbol("DCK");function l6(t,e,n){let{$$slots:i={},$$scope:s}=e,{collection:c}=e,{name:f}=e;const d=Ww(c,f);return UM(f6,{content:d==null?void 0:d.content}),t.$$set=p=>{"collection"in p&&n(1,c=p.collection),"name"in p&&n(2,f=p.name),"$$scope"in p&&n(3,s=p.$$scope)},[d,c,f,s,i]}class Bw extends Pr{constructor(e){super(),Mr(this,e,l6,a6,$r,{collection:1,name:2})}}function d6(t){let e,n=JSON.stringify(t[0],null,2)+"",i;return{c(){e=Gr("pre"),i=O_(n)},l(s){e=Yr(s,"PRE",{});var c=I_(e);i=x_(c,n),c.forEach(Ge)},m(s,c){Pn(s,e,c),F_(e,i)},p(s,c){c&1&&n!==(n=JSON.stringify(s[0],null,2)+"")&&$_(i,n)},d(s){s&&Ge(e)}}}function h6(t){let e,n="Mo bellissima dyne",i,s,c,f,d,p,y,M,A;return d=new Bw({props:{collection:"organizations",name:"freelance",$$slots:{default:[d6,({doc:N})=>({0:N}),({doc:N})=>N?1:0]},$$scope:{ctx:t}}}),{c(){e=Gr("p"),e.textContent=n,i=Pl(),s=Gr("img"),f=Pl(),__(d.$$.fragment),p=Pl(),y=Gr("img"),this.h()},l(N){e=Yr(N,"P",{"data-svelte-h":!0}),fa(e)!=="svelte-1k1q0s1"&&(e.textContent=n),i=Ml(N),s=Yr(N,"IMG",{src:!0,alt:!0}),f=Ml(N),b_(d.$$.fragment,N),p=Ml(N),y=Yr(N,"IMG",{src:!0,alt:!0}),this.h()},h(){Lg(s.src,c=Bd)||Ic(s,"src",c),Ic(s,"alt","dyne logo"),Lg(y.src,M=Bd)||Ic(y,"src",M),Ic(y,"alt","dyne logo")},m(N,k){Pn(N,e,k),Pn(N,i,k),Pn(N,s,k),Pn(N,f,k),w_(d,N,k),Pn(N,p,k),Pn(N,y,k),A=!0},p(N,[k]){const B={};k&3&&(B.$$scope={dirty:k,ctx:N}),d.$set(B)},i(N){A||(jd(d.$$.fragment,N),A=!0)},o(N){qd(d.$$.fragment,N),A=!1},d(N){N&&(Ge(e),Ge(i),Ge(s),Ge(f),Ge(p),Ge(y)),S_(d,N)}}}const m6=oi("organizations",{name:"Dyne.org",location:"Amsterdam, Paesi Bassi",logo:Bd});let p6=class extends Pr{constructor(e){super(),Mr(this,e,null,h6,$r,{})}};const g6=Object.freeze(Object.defineProperty({__proto__:null,default:p6,props:m6},Symbol.toStringTag,{value:"Module"}));function y6(t){let e,n="Mo bellissima ff";return{c(){e=Gr("p"),e.textContent=n},l(i){e=Yr(i,"P",{"data-svelte-h":!0}),fa(e)!=="svelte-fi9953"&&(e.textContent=n)},m(i,s){Pn(i,e,s)},p:wr,i:wr,o:wr,d(i){i&&Ge(e)}}}const _6=oi("organizations",{name:"Studio FF3300",location:"Bari, Italia"});let b6=class extends Pr{constructor(e){super(),Mr(this,e,null,y6,$r,{})}};const w6=Object.freeze(Object.defineProperty({__proto__:null,default:b6,props:_6},Symbol.toStringTag,{value:"Module"}));function S6(t){let e,n="Mo bellissimo il freelance";return{c(){e=Gr("p"),e.textContent=n},l(i){e=Yr(i,"P",{"data-svelte-h":!0}),fa(e)!=="svelte-khatbd"&&(e.textContent=n)},m(i,s){Pn(i,e,s)},p:wr,i:wr,o:wr,d(i){i&&Ge(e)}}}const O6=oi("organizations",{name:"Freelance",location:"Bari, Italia"});let I6=class extends Pr{constructor(e){super(),Mr(this,e,null,S6,$r,{})}};const x6=Object.freeze(Object.defineProperty({__proto__:null,default:I6,props:O6},Symbol.toStringTag,{value:"Module"}));function F6(t){let e,n="Mo bellissima la sos";return{c(){e=Gr("p"),e.textContent=n},l(i){e=Yr(i,"P",{"data-svelte-h":!0}),fa(e)!=="svelte-1yooyin"&&(e.textContent=n)},m(i,s){Pn(i,e,s)},p:wr,i:wr,o:wr,d(i){i&&Ge(e)}}}const $6=oi("organizations",{name:"La Scuola Open Source",location:"Bari, Italia"});let P6=class extends Pr{constructor(e){super(),Mr(this,e,null,F6,$r,{})}};const M6=Object.freeze(Object.defineProperty({__proto__:null,default:P6,props:$6},Symbol.toStringTag,{value:"Module"})),R6=oi("work_experiences",{date_start:"2019-07",current:!0,organization:"freelance"});let E6=class extends Pr{constructor(e){super(),Mr(this,e,null,null,$r,{})}};const A6=Object.freeze(Object.defineProperty({__proto__:null,default:E6,props:R6},Symbol.toStringTag,{value:"Module"})),v6=oi("work_experiences",{date_start:"2021-05",current:!0,organization:"la-scuola-open-source"});let N6=class extends Pr{constructor(e){super(),Mr(this,e,null,null,$r,{})}};const k6=Object.freeze(Object.defineProperty({__proto__:null,default:N6,props:v6},Symbol.toStringTag,{value:"Module"})),C6=oi("work_experiences",{date_start:"2021-09",date_end:"2022-03",current:!1,organization:"freelance"});let T6=class extends Pr{constructor(e){super(),Mr(this,e,null,null,$r,{})}};const L6=Object.freeze(Object.defineProperty({__proto__:null,default:T6,props:C6},Symbol.toStringTag,{value:"Module"}));function U6(t){let e,n=JSON.stringify(t[0],null,2)+"",i;return{c(){e=Gr("pre"),i=O_(n)},l(s){e=Yr(s,"PRE",{});var c=I_(e);i=x_(c,n),c.forEach(Ge)},m(s,c){Pn(s,e,c),F_(e,i)},p(s,c){c&1&&n!==(n=JSON.stringify(s[0],null,2)+"")&&$_(i,n)},d(s){s&&Ge(e)}}}function D6(t){let e,n;return e=new Bw({props:{collection:"organizations",name:jw.organization.id,$$slots:{default:[U6,({doc:i})=>({0:i}),({doc:i})=>i?1:0]},$$scope:{ctx:t}}}),{c(){__(e.$$.fragment)},l(i){b_(e.$$.fragment,i)},m(i,s){w_(e,i,s),n=!0},p(i,[s]){const c={};s&3&&(c.$$scope={dirty:s,ctx:i}),e.$set(c)},i(i){n||(jd(e.$$.fragment,i),n=!0)},o(i){qd(e.$$.fragment,i),n=!1},d(i){S_(e,i)}}}const jw=oi("work_experiences",{date_start:"2022-10",current:!0,organization:"dyne"});class B6 extends Pr{constructor(e){super(),Mr(this,e,null,D6,$r,{})}}const j6=Object.freeze(Object.defineProperty({__proto__:null,default:B6,props:jw},Symbol.toStringTag,{value:"Module"})),g_=Object.assign({"./organizations/dyne/+page.svelte":g6,"./organizations/ff3300/+page.svelte":w6,"./organizations/freelance/+page.svelte":x6,"./organizations/la-scuola-open-source/+page.svelte":M6,"./projects/join/+page.svelte":DM,"./projects/reaction-diffusion/+page.svelte":BM,"./projects/scabec/+page.svelte":jM,"./projects/signroom/+page.svelte":qM,"./work_experiences/2019-07_oggi_freelance_docente/+page.svelte":A6,"./work_experiences/2021-05_oggi_sos/+page.svelte":k6,"./work_experiences/2021-09_2022-03_sos/+page.svelte":L6,"./work_experiences/2022-10_oggi_dyne/+page.svelte":j6}),q6=rt.Object({props:rt.Optional(rt.Object({})),default:rt.Any()}),W6=rt.Record(rt.String(),q6);function K6(){return eu(W6,g_)?xw(g_):Iw(new Error("Invalid Vite glob import"))}function H6(t){return P(t,r_("/+page.svelte",""),r_("./","/"),WM)}function G6(t){return P(t,Fk,zr(([e,n])=>({path:H6(e),props:n.props,content:n.default})))}function nm(){return P(K6(),ko(G6))}function Y6(t){return P(nm(),ko(e=>P(e,Zb(n=>n.path.includes(t)),lo)))}function qw(t,e){return Fw({try:()=>{const n=u6(e,t.props),i=Dw(e,n);return{...t,props:i}},catch:()=>{const n=[...em(e,t.props)];return console.log(t,n),new Error(`Parse error: ${t.path}`)}})}var Es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function z6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aa={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */aa.exports;(function(t,e){(function(){var n,i="4.17.21",s=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",d="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",y=500,M="__lodash_placeholder__",A=1,N=2,k=4,B=1,mt=2,tt=1,Ft=2,pt=4,ft=8,Xt=16,Ht=32,_n=64,_e=128,Qt=256,be=512,Bn=30,bn="...",ir=800,nf=16,Zo=1,rf=2,or=3,we=1/0,tn=9007199254740991,of=17976931348623157e292,jn=NaN,qn=4294967295,Kw=qn-1,Hw=qn>>>1,Gw=[["ary",_e],["bind",tt],["bindKey",Ft],["curry",ft],["curryRight",Xt],["flip",be],["partial",Ht],["partialRight",_n],["rearg",Qt]],Wi="[object Arguments]",Au="[object Array]",Yw="[object AsyncFunction]",Vo="[object Boolean]",ts="[object Date]",zw="[object DOMException]",vu="[object Error]",Nu="[object Function]",sm="[object GeneratorFunction]",wn="[object Map]",es="[object Number]",Jw="[object Null]",sr="[object Object]",um="[object Promise]",Xw="[object Proxy]",ns="[object RegExp]",Sn="[object Set]",rs="[object String]",ku="[object Symbol]",Qw="[object Undefined]",is="[object WeakMap]",Zw="[object WeakSet]",os="[object ArrayBuffer]",Ki="[object DataView]",sf="[object Float32Array]",uf="[object Float64Array]",cf="[object Int8Array]",af="[object Int16Array]",ff="[object Int32Array]",lf="[object Uint8Array]",df="[object Uint8ClampedArray]",hf="[object Uint16Array]",mf="[object Uint32Array]",Vw=/\b__p \+= '';/g,tS=/\b(__p \+=) '' \+/g,eS=/(__e\(.*?\)|\b__t\)) \+\n'';/g,cm=/&(?:amp|lt|gt|quot|#39);/g,am=/[&<>"']/g,nS=RegExp(cm.source),rS=RegExp(am.source),iS=/<%-([\s\S]+?)%>/g,oS=/<%([\s\S]+?)%>/g,fm=/<%=([\s\S]+?)%>/g,sS=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uS=/^\w*$/,cS=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pf=/[\\^$.*+?()[\]{}|]/g,aS=RegExp(pf.source),gf=/^\s+/,fS=/\s/,lS=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,dS=/\{\n\/\* \[wrapped with (.+)\] \*/,hS=/,? & /,mS=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pS=/[()=,{}\[\]\/\s]/,gS=/\\(\\)?/g,yS=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,lm=/\w*$/,_S=/^[-+]0x[0-9a-f]+$/i,bS=/^0b[01]+$/i,wS=/^\[object .+?Constructor\]$/,SS=/^0o[0-7]+$/i,OS=/^(?:0|[1-9]\d*)$/,IS=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cu=/($^)/,xS=/['\n\r\u2028\u2029\\]/g,Tu="\\ud800-\\udfff",FS="\\u0300-\\u036f",$S="\\ufe20-\\ufe2f",PS="\\u20d0-\\u20ff",dm=FS+$S+PS,hm="\\u2700-\\u27bf",mm="a-z\\xdf-\\xf6\\xf8-\\xff",MS="\\xac\\xb1\\xd7\\xf7",RS="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ES="\\u2000-\\u206f",AS=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pm="A-Z\\xc0-\\xd6\\xd8-\\xde",gm="\\ufe0e\\ufe0f",ym=MS+RS+ES+AS,yf="[']",vS="["+Tu+"]",_m="["+ym+"]",Lu="["+dm+"]",bm="\\d+",NS="["+hm+"]",wm="["+mm+"]",Sm="[^"+Tu+ym+bm+hm+mm+pm+"]",_f="\\ud83c[\\udffb-\\udfff]",kS="(?:"+Lu+"|"+_f+")",Om="[^"+Tu+"]",bf="(?:\\ud83c[\\udde6-\\uddff]){2}",wf="[\\ud800-\\udbff][\\udc00-\\udfff]",Hi="["+pm+"]",Im="\\u200d",xm="(?:"+wm+"|"+Sm+")",CS="(?:"+Hi+"|"+Sm+")",Fm="(?:"+yf+"(?:d|ll|m|re|s|t|ve))?",$m="(?:"+yf+"(?:D|LL|M|RE|S|T|VE))?",Pm=kS+"?",Mm="["+gm+"]?",TS="(?:"+Im+"(?:"+[Om,bf,wf].join("|")+")"+Mm+Pm+")*",LS="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",US="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Rm=Mm+Pm+TS,DS="(?:"+[NS,bf,wf].join("|")+")"+Rm,BS="(?:"+[Om+Lu+"?",Lu,bf,wf,vS].join("|")+")",jS=RegExp(yf,"g"),qS=RegExp(Lu,"g"),Sf=RegExp(_f+"(?="+_f+")|"+BS+Rm,"g"),WS=RegExp([Hi+"?"+wm+"+"+Fm+"(?="+[_m,Hi,"$"].join("|")+")",CS+"+"+$m+"(?="+[_m,Hi+xm,"$"].join("|")+")",Hi+"?"+xm+"+"+Fm,Hi+"+"+$m,US,LS,bm,DS].join("|"),"g"),KS=RegExp("["+Im+Tu+dm+gm+"]"),HS=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,GS=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],YS=-1,vt={};vt[sf]=vt[uf]=vt[cf]=vt[af]=vt[ff]=vt[lf]=vt[df]=vt[hf]=vt[mf]=!0,vt[Wi]=vt[Au]=vt[os]=vt[Vo]=vt[Ki]=vt[ts]=vt[vu]=vt[Nu]=vt[wn]=vt[es]=vt[sr]=vt[ns]=vt[Sn]=vt[rs]=vt[is]=!1;var Et={};Et[Wi]=Et[Au]=Et[os]=Et[Ki]=Et[Vo]=Et[ts]=Et[sf]=Et[uf]=Et[cf]=Et[af]=Et[ff]=Et[wn]=Et[es]=Et[sr]=Et[ns]=Et[Sn]=Et[rs]=Et[ku]=Et[lf]=Et[df]=Et[hf]=Et[mf]=!0,Et[vu]=Et[Nu]=Et[is]=!1;var zS={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},JS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},XS={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},QS={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ZS=parseFloat,VS=parseInt,Em=typeof Es=="object"&&Es&&Es.Object===Object&&Es,tO=typeof self=="object"&&self&&self.Object===Object&&self,ce=Em||tO||Function("return this")(),Of=e&&!e.nodeType&&e,si=Of&&!0&&t&&!t.nodeType&&t,Am=si&&si.exports===Of,If=Am&&Em.process,en=function(){try{var w=si&&si.require&&si.require("util").types;return w||If&&If.binding&&If.binding("util")}catch{}}(),vm=en&&en.isArrayBuffer,Nm=en&&en.isDate,km=en&&en.isMap,Cm=en&&en.isRegExp,Tm=en&&en.isSet,Lm=en&&en.isTypedArray;function Be(w,$,O){switch(O.length){case 0:return w.call($);case 1:return w.call($,O[0]);case 2:return w.call($,O[0],O[1]);case 3:return w.call($,O[0],O[1],O[2])}return w.apply($,O)}function eO(w,$,O,L){for(var Y=-1,yt=w==null?0:w.length;++Y<yt;){var Zt=w[Y];$(L,Zt,O(Zt),w)}return L}function nn(w,$){for(var O=-1,L=w==null?0:w.length;++O<L&&$(w[O],O,w)!==!1;);return w}function nO(w,$){for(var O=w==null?0:w.length;O--&&$(w[O],O,w)!==!1;);return w}function Um(w,$){for(var O=-1,L=w==null?0:w.length;++O<L;)if(!$(w[O],O,w))return!1;return!0}function Ar(w,$){for(var O=-1,L=w==null?0:w.length,Y=0,yt=[];++O<L;){var Zt=w[O];$(Zt,O,w)&&(yt[Y++]=Zt)}return yt}function Uu(w,$){var O=w==null?0:w.length;return!!O&&Gi(w,$,0)>-1}function xf(w,$,O){for(var L=-1,Y=w==null?0:w.length;++L<Y;)if(O($,w[L]))return!0;return!1}function kt(w,$){for(var O=-1,L=w==null?0:w.length,Y=Array(L);++O<L;)Y[O]=$(w[O],O,w);return Y}function vr(w,$){for(var O=-1,L=$.length,Y=w.length;++O<L;)w[Y+O]=$[O];return w}function Ff(w,$,O,L){var Y=-1,yt=w==null?0:w.length;for(L&&yt&&(O=w[++Y]);++Y<yt;)O=$(O,w[Y],Y,w);return O}function rO(w,$,O,L){var Y=w==null?0:w.length;for(L&&Y&&(O=w[--Y]);Y--;)O=$(O,w[Y],Y,w);return O}function $f(w,$){for(var O=-1,L=w==null?0:w.length;++O<L;)if($(w[O],O,w))return!0;return!1}var iO=Pf("length");function oO(w){return w.split("")}function sO(w){return w.match(mS)||[]}function Dm(w,$,O){var L;return O(w,function(Y,yt,Zt){if($(Y,yt,Zt))return L=yt,!1}),L}function Du(w,$,O,L){for(var Y=w.length,yt=O+(L?1:-1);L?yt--:++yt<Y;)if($(w[yt],yt,w))return yt;return-1}function Gi(w,$,O){return $===$?_O(w,$,O):Du(w,Bm,O)}function uO(w,$,O,L){for(var Y=O-1,yt=w.length;++Y<yt;)if(L(w[Y],$))return Y;return-1}function Bm(w){return w!==w}function jm(w,$){var O=w==null?0:w.length;return O?Rf(w,$)/O:jn}function Pf(w){return function($){return $==null?n:$[w]}}function Mf(w){return function($){return w==null?n:w[$]}}function qm(w,$,O,L,Y){return Y(w,function(yt,Zt,Pt){O=L?(L=!1,yt):$(O,yt,Zt,Pt)}),O}function cO(w,$){var O=w.length;for(w.sort($);O--;)w[O]=w[O].value;return w}function Rf(w,$){for(var O,L=-1,Y=w.length;++L<Y;){var yt=$(w[L]);yt!==n&&(O=O===n?yt:O+yt)}return O}function Ef(w,$){for(var O=-1,L=Array(w);++O<w;)L[O]=$(O);return L}function aO(w,$){return kt($,function(O){return[O,w[O]]})}function Wm(w){return w&&w.slice(0,Ym(w)+1).replace(gf,"")}function je(w){return function($){return w($)}}function Af(w,$){return kt($,function(O){return w[O]})}function ss(w,$){return w.has($)}function Km(w,$){for(var O=-1,L=w.length;++O<L&&Gi($,w[O],0)>-1;);return O}function Hm(w,$){for(var O=w.length;O--&&Gi($,w[O],0)>-1;);return O}function fO(w,$){for(var O=w.length,L=0;O--;)w[O]===$&&++L;return L}var lO=Mf(zS),dO=Mf(JS);function hO(w){return"\\"+QS[w]}function mO(w,$){return w==null?n:w[$]}function Yi(w){return KS.test(w)}function pO(w){return HS.test(w)}function gO(w){for(var $,O=[];!($=w.next()).done;)O.push($.value);return O}function vf(w){var $=-1,O=Array(w.size);return w.forEach(function(L,Y){O[++$]=[Y,L]}),O}function Gm(w,$){return function(O){return w($(O))}}function Nr(w,$){for(var O=-1,L=w.length,Y=0,yt=[];++O<L;){var Zt=w[O];(Zt===$||Zt===M)&&(w[O]=M,yt[Y++]=O)}return yt}function Bu(w){var $=-1,O=Array(w.size);return w.forEach(function(L){O[++$]=L}),O}function yO(w){var $=-1,O=Array(w.size);return w.forEach(function(L){O[++$]=[L,L]}),O}function _O(w,$,O){for(var L=O-1,Y=w.length;++L<Y;)if(w[L]===$)return L;return-1}function bO(w,$,O){for(var L=O+1;L--;)if(w[L]===$)return L;return L}function zi(w){return Yi(w)?SO(w):iO(w)}function On(w){return Yi(w)?OO(w):oO(w)}function Ym(w){for(var $=w.length;$--&&fS.test(w.charAt($)););return $}var wO=Mf(XS);function SO(w){for(var $=Sf.lastIndex=0;Sf.test(w);)++$;return $}function OO(w){return w.match(Sf)||[]}function IO(w){return w.match(WS)||[]}var xO=function w($){$=$==null?ce:Ji.defaults(ce.Object(),$,Ji.pick(ce,GS));var O=$.Array,L=$.Date,Y=$.Error,yt=$.Function,Zt=$.Math,Pt=$.Object,Nf=$.RegExp,FO=$.String,rn=$.TypeError,ju=O.prototype,$O=yt.prototype,Xi=Pt.prototype,qu=$["__core-js_shared__"],Wu=$O.toString,St=Xi.hasOwnProperty,PO=0,zm=function(){var r=/[^.]+$/.exec(qu&&qu.keys&&qu.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Ku=Xi.toString,MO=Wu.call(Pt),RO=ce._,EO=Nf("^"+Wu.call(St).replace(pf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Hu=Am?$.Buffer:n,kr=$.Symbol,Gu=$.Uint8Array,Jm=Hu?Hu.allocUnsafe:n,Yu=Gm(Pt.getPrototypeOf,Pt),Xm=Pt.create,Qm=Xi.propertyIsEnumerable,zu=ju.splice,Zm=kr?kr.isConcatSpreadable:n,us=kr?kr.iterator:n,ui=kr?kr.toStringTag:n,Ju=function(){try{var r=di(Pt,"defineProperty");return r({},"",{}),r}catch{}}(),AO=$.clearTimeout!==ce.clearTimeout&&$.clearTimeout,vO=L&&L.now!==ce.Date.now&&L.now,NO=$.setTimeout!==ce.setTimeout&&$.setTimeout,Xu=Zt.ceil,Qu=Zt.floor,kf=Pt.getOwnPropertySymbols,kO=Hu?Hu.isBuffer:n,Vm=$.isFinite,CO=ju.join,TO=Gm(Pt.keys,Pt),Vt=Zt.max,Se=Zt.min,LO=L.now,UO=$.parseInt,tp=Zt.random,DO=ju.reverse,Cf=di($,"DataView"),cs=di($,"Map"),Tf=di($,"Promise"),Qi=di($,"Set"),as=di($,"WeakMap"),fs=di(Pt,"create"),Zu=as&&new as,Zi={},BO=hi(Cf),jO=hi(cs),qO=hi(Tf),WO=hi(Qi),KO=hi(as),Vu=kr?kr.prototype:n,ls=Vu?Vu.valueOf:n,ep=Vu?Vu.toString:n;function h(r){if(Ut(r)&&!z(r)&&!(r instanceof lt)){if(r instanceof on)return r;if(St.call(r,"__wrapped__"))return ng(r)}return new on(r)}var Vi=function(){function r(){}return function(o){if(!Tt(o))return{};if(Xm)return Xm(o);r.prototype=o;var u=new r;return r.prototype=n,u}}();function tc(){}function on(r,o){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=n}h.templateSettings={escape:iS,evaluate:oS,interpolate:fm,variable:"",imports:{_:h}},h.prototype=tc.prototype,h.prototype.constructor=h,on.prototype=Vi(tc.prototype),on.prototype.constructor=on;function lt(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=qn,this.__views__=[]}function HO(){var r=new lt(this.__wrapped__);return r.__actions__=ke(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=ke(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=ke(this.__views__),r}function GO(){if(this.__filtered__){var r=new lt(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function YO(){var r=this.__wrapped__.value(),o=this.__dir__,u=z(r),a=o<0,l=u?r.length:0,m=ox(0,l,this.__views__),g=m.start,b=m.end,S=b-g,R=a?b:g-1,E=this.__iteratees__,v=E.length,C=0,D=Se(S,this.__takeCount__);if(!u||!a&&l==S&&D==S)return Fp(r,this.__actions__);var q=[];t:for(;S--&&C<D;){R+=o;for(var V=-1,W=r[R];++V<v;){var ot=E[V],dt=ot.iteratee,Ke=ot.type,Me=dt(W);if(Ke==rf)W=Me;else if(!Me){if(Ke==Zo)continue t;break t}}q[C++]=W}return q}lt.prototype=Vi(tc.prototype),lt.prototype.constructor=lt;function ci(r){var o=-1,u=r==null?0:r.length;for(this.clear();++o<u;){var a=r[o];this.set(a[0],a[1])}}function zO(){this.__data__=fs?fs(null):{},this.size=0}function JO(r){var o=this.has(r)&&delete this.__data__[r];return this.size-=o?1:0,o}function XO(r){var o=this.__data__;if(fs){var u=o[r];return u===p?n:u}return St.call(o,r)?o[r]:n}function QO(r){var o=this.__data__;return fs?o[r]!==n:St.call(o,r)}function ZO(r,o){var u=this.__data__;return this.size+=this.has(r)?0:1,u[r]=fs&&o===n?p:o,this}ci.prototype.clear=zO,ci.prototype.delete=JO,ci.prototype.get=XO,ci.prototype.has=QO,ci.prototype.set=ZO;function ur(r){var o=-1,u=r==null?0:r.length;for(this.clear();++o<u;){var a=r[o];this.set(a[0],a[1])}}function VO(){this.__data__=[],this.size=0}function tI(r){var o=this.__data__,u=ec(o,r);if(u<0)return!1;var a=o.length-1;return u==a?o.pop():zu.call(o,u,1),--this.size,!0}function eI(r){var o=this.__data__,u=ec(o,r);return u<0?n:o[u][1]}function nI(r){return ec(this.__data__,r)>-1}function rI(r,o){var u=this.__data__,a=ec(u,r);return a<0?(++this.size,u.push([r,o])):u[a][1]=o,this}ur.prototype.clear=VO,ur.prototype.delete=tI,ur.prototype.get=eI,ur.prototype.has=nI,ur.prototype.set=rI;function cr(r){var o=-1,u=r==null?0:r.length;for(this.clear();++o<u;){var a=r[o];this.set(a[0],a[1])}}function iI(){this.size=0,this.__data__={hash:new ci,map:new(cs||ur),string:new ci}}function oI(r){var o=hc(this,r).delete(r);return this.size-=o?1:0,o}function sI(r){return hc(this,r).get(r)}function uI(r){return hc(this,r).has(r)}function cI(r,o){var u=hc(this,r),a=u.size;return u.set(r,o),this.size+=u.size==a?0:1,this}cr.prototype.clear=iI,cr.prototype.delete=oI,cr.prototype.get=sI,cr.prototype.has=uI,cr.prototype.set=cI;function ai(r){var o=-1,u=r==null?0:r.length;for(this.__data__=new cr;++o<u;)this.add(r[o])}function aI(r){return this.__data__.set(r,p),this}function fI(r){return this.__data__.has(r)}ai.prototype.add=ai.prototype.push=aI,ai.prototype.has=fI;function In(r){var o=this.__data__=new ur(r);this.size=o.size}function lI(){this.__data__=new ur,this.size=0}function dI(r){var o=this.__data__,u=o.delete(r);return this.size=o.size,u}function hI(r){return this.__data__.get(r)}function mI(r){return this.__data__.has(r)}function pI(r,o){var u=this.__data__;if(u instanceof ur){var a=u.__data__;if(!cs||a.length<s-1)return a.push([r,o]),this.size=++u.size,this;u=this.__data__=new cr(a)}return u.set(r,o),this.size=u.size,this}In.prototype.clear=lI,In.prototype.delete=dI,In.prototype.get=hI,In.prototype.has=mI,In.prototype.set=pI;function np(r,o){var u=z(r),a=!u&&mi(r),l=!u&&!a&&Dr(r),m=!u&&!a&&!l&&ro(r),g=u||a||l||m,b=g?Ef(r.length,FO):[],S=b.length;for(var R in r)(o||St.call(r,R))&&!(g&&(R=="length"||l&&(R=="offset"||R=="parent")||m&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||dr(R,S)))&&b.push(R);return b}function rp(r){var o=r.length;return o?r[Yf(0,o-1)]:n}function gI(r,o){return mc(ke(r),fi(o,0,r.length))}function yI(r){return mc(ke(r))}function Lf(r,o,u){(u!==n&&!xn(r[o],u)||u===n&&!(o in r))&&ar(r,o,u)}function ds(r,o,u){var a=r[o];(!(St.call(r,o)&&xn(a,u))||u===n&&!(o in r))&&ar(r,o,u)}function ec(r,o){for(var u=r.length;u--;)if(xn(r[u][0],o))return u;return-1}function _I(r,o,u,a){return Cr(r,function(l,m,g){o(a,l,u(l),g)}),a}function ip(r,o){return r&&Kn(o,ne(o),r)}function bI(r,o){return r&&Kn(o,Te(o),r)}function ar(r,o,u){o=="__proto__"&&Ju?Ju(r,o,{configurable:!0,enumerable:!0,value:u,writable:!0}):r[o]=u}function Uf(r,o){for(var u=-1,a=o.length,l=O(a),m=r==null;++u<a;)l[u]=m?n:_l(r,o[u]);return l}function fi(r,o,u){return r===r&&(u!==n&&(r=r<=u?r:u),o!==n&&(r=r>=o?r:o)),r}function sn(r,o,u,a,l,m){var g,b=o&A,S=o&N,R=o&k;if(u&&(g=l?u(r,a,l,m):u(r)),g!==n)return g;if(!Tt(r))return r;var E=z(r);if(E){if(g=ux(r),!b)return ke(r,g)}else{var v=Oe(r),C=v==Nu||v==sm;if(Dr(r))return Mp(r,b);if(v==sr||v==Wi||C&&!l){if(g=S||C?{}:Yp(r),!b)return S?XI(r,bI(g,r)):JI(r,ip(g,r))}else{if(!Et[v])return l?r:{};g=cx(r,v,b)}}m||(m=new In);var D=m.get(r);if(D)return D;m.set(r,g),Og(r)?r.forEach(function(W){g.add(sn(W,o,u,W,r,m))}):wg(r)&&r.forEach(function(W,ot){g.set(ot,sn(W,o,u,ot,r,m))});var q=R?S?il:rl:S?Te:ne,V=E?n:q(r);return nn(V||r,function(W,ot){V&&(ot=W,W=r[ot]),ds(g,ot,sn(W,o,u,ot,r,m))}),g}function wI(r){var o=ne(r);return function(u){return op(u,r,o)}}function op(r,o,u){var a=u.length;if(r==null)return!a;for(r=Pt(r);a--;){var l=u[a],m=o[l],g=r[l];if(g===n&&!(l in r)||!m(g))return!1}return!0}function sp(r,o,u){if(typeof r!="function")throw new rn(f);return bs(function(){r.apply(n,u)},o)}function hs(r,o,u,a){var l=-1,m=Uu,g=!0,b=r.length,S=[],R=o.length;if(!b)return S;u&&(o=kt(o,je(u))),a?(m=xf,g=!1):o.length>=s&&(m=ss,g=!1,o=new ai(o));t:for(;++l<b;){var E=r[l],v=u==null?E:u(E);if(E=a||E!==0?E:0,g&&v===v){for(var C=R;C--;)if(o[C]===v)continue t;S.push(E)}else m(o,v,a)||S.push(E)}return S}var Cr=Np(Wn),up=Np(Bf,!0);function SI(r,o){var u=!0;return Cr(r,function(a,l,m){return u=!!o(a,l,m),u}),u}function nc(r,o,u){for(var a=-1,l=r.length;++a<l;){var m=r[a],g=o(m);if(g!=null&&(b===n?g===g&&!We(g):u(g,b)))var b=g,S=m}return S}function OI(r,o,u,a){var l=r.length;for(u=Q(u),u<0&&(u=-u>l?0:l+u),a=a===n||a>l?l:Q(a),a<0&&(a+=l),a=u>a?0:xg(a);u<a;)r[u++]=o;return r}function cp(r,o){var u=[];return Cr(r,function(a,l,m){o(a,l,m)&&u.push(a)}),u}function ae(r,o,u,a,l){var m=-1,g=r.length;for(u||(u=fx),l||(l=[]);++m<g;){var b=r[m];o>0&&u(b)?o>1?ae(b,o-1,u,a,l):vr(l,b):a||(l[l.length]=b)}return l}var Df=kp(),ap=kp(!0);function Wn(r,o){return r&&Df(r,o,ne)}function Bf(r,o){return r&&ap(r,o,ne)}function rc(r,o){return Ar(o,function(u){return hr(r[u])})}function li(r,o){o=Lr(o,r);for(var u=0,a=o.length;r!=null&&u<a;)r=r[Hn(o[u++])];return u&&u==a?r:n}function fp(r,o,u){var a=o(r);return z(r)?a:vr(a,u(r))}function $e(r){return r==null?r===n?Qw:Jw:ui&&ui in Pt(r)?ix(r):yx(r)}function jf(r,o){return r>o}function II(r,o){return r!=null&&St.call(r,o)}function xI(r,o){return r!=null&&o in Pt(r)}function FI(r,o,u){return r>=Se(o,u)&&r<Vt(o,u)}function qf(r,o,u){for(var a=u?xf:Uu,l=r[0].length,m=r.length,g=m,b=O(m),S=1/0,R=[];g--;){var E=r[g];g&&o&&(E=kt(E,je(o))),S=Se(E.length,S),b[g]=!u&&(o||l>=120&&E.length>=120)?new ai(g&&E):n}E=r[0];var v=-1,C=b[0];t:for(;++v<l&&R.length<S;){var D=E[v],q=o?o(D):D;if(D=u||D!==0?D:0,!(C?ss(C,q):a(R,q,u))){for(g=m;--g;){var V=b[g];if(!(V?ss(V,q):a(r[g],q,u)))continue t}C&&C.push(q),R.push(D)}}return R}function $I(r,o,u,a){return Wn(r,function(l,m,g){o(a,u(l),m,g)}),a}function ms(r,o,u){o=Lr(o,r),r=Qp(r,o);var a=r==null?r:r[Hn(cn(o))];return a==null?n:Be(a,r,u)}function lp(r){return Ut(r)&&$e(r)==Wi}function PI(r){return Ut(r)&&$e(r)==os}function MI(r){return Ut(r)&&$e(r)==ts}function ps(r,o,u,a,l){return r===o?!0:r==null||o==null||!Ut(r)&&!Ut(o)?r!==r&&o!==o:RI(r,o,u,a,ps,l)}function RI(r,o,u,a,l,m){var g=z(r),b=z(o),S=g?Au:Oe(r),R=b?Au:Oe(o);S=S==Wi?sr:S,R=R==Wi?sr:R;var E=S==sr,v=R==sr,C=S==R;if(C&&Dr(r)){if(!Dr(o))return!1;g=!0,E=!1}if(C&&!E)return m||(m=new In),g||ro(r)?Kp(r,o,u,a,l,m):nx(r,o,S,u,a,l,m);if(!(u&B)){var D=E&&St.call(r,"__wrapped__"),q=v&&St.call(o,"__wrapped__");if(D||q){var V=D?r.value():r,W=q?o.value():o;return m||(m=new In),l(V,W,u,a,m)}}return C?(m||(m=new In),rx(r,o,u,a,l,m)):!1}function EI(r){return Ut(r)&&Oe(r)==wn}function Wf(r,o,u,a){var l=u.length,m=l,g=!a;if(r==null)return!m;for(r=Pt(r);l--;){var b=u[l];if(g&&b[2]?b[1]!==r[b[0]]:!(b[0]in r))return!1}for(;++l<m;){b=u[l];var S=b[0],R=r[S],E=b[1];if(g&&b[2]){if(R===n&&!(S in r))return!1}else{var v=new In;if(a)var C=a(R,E,S,r,o,v);if(!(C===n?ps(E,R,B|mt,a,v):C))return!1}}return!0}function dp(r){if(!Tt(r)||dx(r))return!1;var o=hr(r)?EO:wS;return o.test(hi(r))}function AI(r){return Ut(r)&&$e(r)==ns}function vI(r){return Ut(r)&&Oe(r)==Sn}function NI(r){return Ut(r)&&wc(r.length)&&!!vt[$e(r)]}function hp(r){return typeof r=="function"?r:r==null?Le:typeof r=="object"?z(r)?gp(r[0],r[1]):pp(r):Cg(r)}function Kf(r){if(!_s(r))return TO(r);var o=[];for(var u in Pt(r))St.call(r,u)&&u!="constructor"&&o.push(u);return o}function kI(r){if(!Tt(r))return gx(r);var o=_s(r),u=[];for(var a in r)a=="constructor"&&(o||!St.call(r,a))||u.push(a);return u}function Hf(r,o){return r<o}function mp(r,o){var u=-1,a=Ce(r)?O(r.length):[];return Cr(r,function(l,m,g){a[++u]=o(l,m,g)}),a}function pp(r){var o=sl(r);return o.length==1&&o[0][2]?Jp(o[0][0],o[0][1]):function(u){return u===r||Wf(u,r,o)}}function gp(r,o){return cl(r)&&zp(o)?Jp(Hn(r),o):function(u){var a=_l(u,r);return a===n&&a===o?bl(u,r):ps(o,a,B|mt)}}function ic(r,o,u,a,l){r!==o&&Df(o,function(m,g){if(l||(l=new In),Tt(m))CI(r,o,g,u,ic,a,l);else{var b=a?a(fl(r,g),m,g+"",r,o,l):n;b===n&&(b=m),Lf(r,g,b)}},Te)}function CI(r,o,u,a,l,m,g){var b=fl(r,u),S=fl(o,u),R=g.get(S);if(R){Lf(r,u,R);return}var E=m?m(b,S,u+"",r,o,g):n,v=E===n;if(v){var C=z(S),D=!C&&Dr(S),q=!C&&!D&&ro(S);E=S,C||D||q?z(b)?E=b:Dt(b)?E=ke(b):D?(v=!1,E=Mp(S,!0)):q?(v=!1,E=Rp(S,!0)):E=[]:ws(S)||mi(S)?(E=b,mi(b)?E=Fg(b):(!Tt(b)||hr(b))&&(E=Yp(S))):v=!1}v&&(g.set(S,E),l(E,S,a,m,g),g.delete(S)),Lf(r,u,E)}function yp(r,o){var u=r.length;if(u)return o+=o<0?u:0,dr(o,u)?r[o]:n}function _p(r,o,u){o.length?o=kt(o,function(m){return z(m)?function(g){return li(g,m.length===1?m[0]:m)}:m}):o=[Le];var a=-1;o=kt(o,je(j()));var l=mp(r,function(m,g,b){var S=kt(o,function(R){return R(m)});return{criteria:S,index:++a,value:m}});return cO(l,function(m,g){return zI(m,g,u)})}function TI(r,o){return bp(r,o,function(u,a){return bl(r,a)})}function bp(r,o,u){for(var a=-1,l=o.length,m={};++a<l;){var g=o[a],b=li(r,g);u(b,g)&&gs(m,Lr(g,r),b)}return m}function LI(r){return function(o){return li(o,r)}}function Gf(r,o,u,a){var l=a?uO:Gi,m=-1,g=o.length,b=r;for(r===o&&(o=ke(o)),u&&(b=kt(r,je(u)));++m<g;)for(var S=0,R=o[m],E=u?u(R):R;(S=l(b,E,S,a))>-1;)b!==r&&zu.call(b,S,1),zu.call(r,S,1);return r}function wp(r,o){for(var u=r?o.length:0,a=u-1;u--;){var l=o[u];if(u==a||l!==m){var m=l;dr(l)?zu.call(r,l,1):Xf(r,l)}}return r}function Yf(r,o){return r+Qu(tp()*(o-r+1))}function UI(r,o,u,a){for(var l=-1,m=Vt(Xu((o-r)/(u||1)),0),g=O(m);m--;)g[a?m:++l]=r,r+=u;return g}function zf(r,o){var u="";if(!r||o<1||o>tn)return u;do o%2&&(u+=r),o=Qu(o/2),o&&(r+=r);while(o);return u}function et(r,o){return ll(Xp(r,o,Le),r+"")}function DI(r){return rp(io(r))}function BI(r,o){var u=io(r);return mc(u,fi(o,0,u.length))}function gs(r,o,u,a){if(!Tt(r))return r;o=Lr(o,r);for(var l=-1,m=o.length,g=m-1,b=r;b!=null&&++l<m;){var S=Hn(o[l]),R=u;if(S==="__proto__"||S==="constructor"||S==="prototype")return r;if(l!=g){var E=b[S];R=a?a(E,S,b):n,R===n&&(R=Tt(E)?E:dr(o[l+1])?[]:{})}ds(b,S,R),b=b[S]}return r}var Sp=Zu?function(r,o){return Zu.set(r,o),r}:Le,jI=Ju?function(r,o){return Ju(r,"toString",{configurable:!0,enumerable:!1,value:Sl(o),writable:!0})}:Le;function qI(r){return mc(io(r))}function un(r,o,u){var a=-1,l=r.length;o<0&&(o=-o>l?0:l+o),u=u>l?l:u,u<0&&(u+=l),l=o>u?0:u-o>>>0,o>>>=0;for(var m=O(l);++a<l;)m[a]=r[a+o];return m}function WI(r,o){var u;return Cr(r,function(a,l,m){return u=o(a,l,m),!u}),!!u}function oc(r,o,u){var a=0,l=r==null?a:r.length;if(typeof o=="number"&&o===o&&l<=Hw){for(;a<l;){var m=a+l>>>1,g=r[m];g!==null&&!We(g)&&(u?g<=o:g<o)?a=m+1:l=m}return l}return Jf(r,o,Le,u)}function Jf(r,o,u,a){var l=0,m=r==null?0:r.length;if(m===0)return 0;o=u(o);for(var g=o!==o,b=o===null,S=We(o),R=o===n;l<m;){var E=Qu((l+m)/2),v=u(r[E]),C=v!==n,D=v===null,q=v===v,V=We(v);if(g)var W=a||q;else R?W=q&&(a||C):b?W=q&&C&&(a||!D):S?W=q&&C&&!D&&(a||!V):D||V?W=!1:W=a?v<=o:v<o;W?l=E+1:m=E}return Se(m,Kw)}function Op(r,o){for(var u=-1,a=r.length,l=0,m=[];++u<a;){var g=r[u],b=o?o(g):g;if(!u||!xn(b,S)){var S=b;m[l++]=g===0?0:g}}return m}function Ip(r){return typeof r=="number"?r:We(r)?jn:+r}function qe(r){if(typeof r=="string")return r;if(z(r))return kt(r,qe)+"";if(We(r))return ep?ep.call(r):"";var o=r+"";return o=="0"&&1/r==-we?"-0":o}function Tr(r,o,u){var a=-1,l=Uu,m=r.length,g=!0,b=[],S=b;if(u)g=!1,l=xf;else if(m>=s){var R=o?null:tx(r);if(R)return Bu(R);g=!1,l=ss,S=new ai}else S=o?[]:b;t:for(;++a<m;){var E=r[a],v=o?o(E):E;if(E=u||E!==0?E:0,g&&v===v){for(var C=S.length;C--;)if(S[C]===v)continue t;o&&S.push(v),b.push(E)}else l(S,v,u)||(S!==b&&S.push(v),b.push(E))}return b}function Xf(r,o){return o=Lr(o,r),r=Qp(r,o),r==null||delete r[Hn(cn(o))]}function xp(r,o,u,a){return gs(r,o,u(li(r,o)),a)}function sc(r,o,u,a){for(var l=r.length,m=a?l:-1;(a?m--:++m<l)&&o(r[m],m,r););return u?un(r,a?0:m,a?m+1:l):un(r,a?m+1:0,a?l:m)}function Fp(r,o){var u=r;return u instanceof lt&&(u=u.value()),Ff(o,function(a,l){return l.func.apply(l.thisArg,vr([a],l.args))},u)}function Qf(r,o,u){var a=r.length;if(a<2)return a?Tr(r[0]):[];for(var l=-1,m=O(a);++l<a;)for(var g=r[l],b=-1;++b<a;)b!=l&&(m[l]=hs(m[l]||g,r[b],o,u));return Tr(ae(m,1),o,u)}function $p(r,o,u){for(var a=-1,l=r.length,m=o.length,g={};++a<l;){var b=a<m?o[a]:n;u(g,r[a],b)}return g}function Zf(r){return Dt(r)?r:[]}function Vf(r){return typeof r=="function"?r:Le}function Lr(r,o){return z(r)?r:cl(r,o)?[r]:eg(wt(r))}var KI=et;function Ur(r,o,u){var a=r.length;return u=u===n?a:u,!o&&u>=a?r:un(r,o,u)}var Pp=AO||function(r){return ce.clearTimeout(r)};function Mp(r,o){if(o)return r.slice();var u=r.length,a=Jm?Jm(u):new r.constructor(u);return r.copy(a),a}function tl(r){var o=new r.constructor(r.byteLength);return new Gu(o).set(new Gu(r)),o}function HI(r,o){var u=o?tl(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.byteLength)}function GI(r){var o=new r.constructor(r.source,lm.exec(r));return o.lastIndex=r.lastIndex,o}function YI(r){return ls?Pt(ls.call(r)):{}}function Rp(r,o){var u=o?tl(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.length)}function Ep(r,o){if(r!==o){var u=r!==n,a=r===null,l=r===r,m=We(r),g=o!==n,b=o===null,S=o===o,R=We(o);if(!b&&!R&&!m&&r>o||m&&g&&S&&!b&&!R||a&&g&&S||!u&&S||!l)return 1;if(!a&&!m&&!R&&r<o||R&&u&&l&&!a&&!m||b&&u&&l||!g&&l||!S)return-1}return 0}function zI(r,o,u){for(var a=-1,l=r.criteria,m=o.criteria,g=l.length,b=u.length;++a<g;){var S=Ep(l[a],m[a]);if(S){if(a>=b)return S;var R=u[a];return S*(R=="desc"?-1:1)}}return r.index-o.index}function Ap(r,o,u,a){for(var l=-1,m=r.length,g=u.length,b=-1,S=o.length,R=Vt(m-g,0),E=O(S+R),v=!a;++b<S;)E[b]=o[b];for(;++l<g;)(v||l<m)&&(E[u[l]]=r[l]);for(;R--;)E[b++]=r[l++];return E}function vp(r,o,u,a){for(var l=-1,m=r.length,g=-1,b=u.length,S=-1,R=o.length,E=Vt(m-b,0),v=O(E+R),C=!a;++l<E;)v[l]=r[l];for(var D=l;++S<R;)v[D+S]=o[S];for(;++g<b;)(C||l<m)&&(v[D+u[g]]=r[l++]);return v}function ke(r,o){var u=-1,a=r.length;for(o||(o=O(a));++u<a;)o[u]=r[u];return o}function Kn(r,o,u,a){var l=!u;u||(u={});for(var m=-1,g=o.length;++m<g;){var b=o[m],S=a?a(u[b],r[b],b,u,r):n;S===n&&(S=r[b]),l?ar(u,b,S):ds(u,b,S)}return u}function JI(r,o){return Kn(r,ul(r),o)}function XI(r,o){return Kn(r,Hp(r),o)}function uc(r,o){return function(u,a){var l=z(u)?eO:_I,m=o?o():{};return l(u,r,j(a,2),m)}}function to(r){return et(function(o,u){var a=-1,l=u.length,m=l>1?u[l-1]:n,g=l>2?u[2]:n;for(m=r.length>3&&typeof m=="function"?(l--,m):n,g&&Pe(u[0],u[1],g)&&(m=l<3?n:m,l=1),o=Pt(o);++a<l;){var b=u[a];b&&r(o,b,a,m)}return o})}function Np(r,o){return function(u,a){if(u==null)return u;if(!Ce(u))return r(u,a);for(var l=u.length,m=o?l:-1,g=Pt(u);(o?m--:++m<l)&&a(g[m],m,g)!==!1;);return u}}function kp(r){return function(o,u,a){for(var l=-1,m=Pt(o),g=a(o),b=g.length;b--;){var S=g[r?b:++l];if(u(m[S],S,m)===!1)break}return o}}function QI(r,o,u){var a=o&tt,l=ys(r);function m(){var g=this&&this!==ce&&this instanceof m?l:r;return g.apply(a?u:this,arguments)}return m}function Cp(r){return function(o){o=wt(o);var u=Yi(o)?On(o):n,a=u?u[0]:o.charAt(0),l=u?Ur(u,1).join(""):o.slice(1);return a[r]()+l}}function eo(r){return function(o){return Ff(Ng(vg(o).replace(jS,"")),r,"")}}function ys(r){return function(){var o=arguments;switch(o.length){case 0:return new r;case 1:return new r(o[0]);case 2:return new r(o[0],o[1]);case 3:return new r(o[0],o[1],o[2]);case 4:return new r(o[0],o[1],o[2],o[3]);case 5:return new r(o[0],o[1],o[2],o[3],o[4]);case 6:return new r(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new r(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var u=Vi(r.prototype),a=r.apply(u,o);return Tt(a)?a:u}}function ZI(r,o,u){var a=ys(r);function l(){for(var m=arguments.length,g=O(m),b=m,S=no(l);b--;)g[b]=arguments[b];var R=m<3&&g[0]!==S&&g[m-1]!==S?[]:Nr(g,S);if(m-=R.length,m<u)return Bp(r,o,cc,l.placeholder,n,g,R,n,n,u-m);var E=this&&this!==ce&&this instanceof l?a:r;return Be(E,this,g)}return l}function Tp(r){return function(o,u,a){var l=Pt(o);if(!Ce(o)){var m=j(u,3);o=ne(o),u=function(b){return m(l[b],b,l)}}var g=r(o,u,a);return g>-1?l[m?o[g]:g]:n}}function Lp(r){return lr(function(o){var u=o.length,a=u,l=on.prototype.thru;for(r&&o.reverse();a--;){var m=o[a];if(typeof m!="function")throw new rn(f);if(l&&!g&&dc(m)=="wrapper")var g=new on([],!0)}for(a=g?a:u;++a<u;){m=o[a];var b=dc(m),S=b=="wrapper"?ol(m):n;S&&al(S[0])&&S[1]==(_e|ft|Ht|Qt)&&!S[4].length&&S[9]==1?g=g[dc(S[0])].apply(g,S[3]):g=m.length==1&&al(m)?g[b]():g.thru(m)}return function(){var R=arguments,E=R[0];if(g&&R.length==1&&z(E))return g.plant(E).value();for(var v=0,C=u?o[v].apply(this,R):E;++v<u;)C=o[v].call(this,C);return C}})}function cc(r,o,u,a,l,m,g,b,S,R){var E=o&_e,v=o&tt,C=o&Ft,D=o&(ft|Xt),q=o&be,V=C?n:ys(r);function W(){for(var ot=arguments.length,dt=O(ot),Ke=ot;Ke--;)dt[Ke]=arguments[Ke];if(D)var Me=no(W),He=fO(dt,Me);if(a&&(dt=Ap(dt,a,l,D)),m&&(dt=vp(dt,m,g,D)),ot-=He,D&&ot<R){var Bt=Nr(dt,Me);return Bp(r,o,cc,W.placeholder,u,dt,Bt,b,S,R-ot)}var Fn=v?u:this,pr=C?Fn[r]:r;return ot=dt.length,b?dt=_x(dt,b):q&&ot>1&&dt.reverse(),E&&S<ot&&(dt.length=S),this&&this!==ce&&this instanceof W&&(pr=V||ys(pr)),pr.apply(Fn,dt)}return W}function Up(r,o){return function(u,a){return $I(u,r,o(a),{})}}function ac(r,o){return function(u,a){var l;if(u===n&&a===n)return o;if(u!==n&&(l=u),a!==n){if(l===n)return a;typeof u=="string"||typeof a=="string"?(u=qe(u),a=qe(a)):(u=Ip(u),a=Ip(a)),l=r(u,a)}return l}}function el(r){return lr(function(o){return o=kt(o,je(j())),et(function(u){var a=this;return r(o,function(l){return Be(l,a,u)})})})}function fc(r,o){o=o===n?" ":qe(o);var u=o.length;if(u<2)return u?zf(o,r):o;var a=zf(o,Xu(r/zi(o)));return Yi(o)?Ur(On(a),0,r).join(""):a.slice(0,r)}function VI(r,o,u,a){var l=o&tt,m=ys(r);function g(){for(var b=-1,S=arguments.length,R=-1,E=a.length,v=O(E+S),C=this&&this!==ce&&this instanceof g?m:r;++R<E;)v[R]=a[R];for(;S--;)v[R++]=arguments[++b];return Be(C,l?u:this,v)}return g}function Dp(r){return function(o,u,a){return a&&typeof a!="number"&&Pe(o,u,a)&&(u=a=n),o=mr(o),u===n?(u=o,o=0):u=mr(u),a=a===n?o<u?1:-1:mr(a),UI(o,u,a,r)}}function lc(r){return function(o,u){return typeof o=="string"&&typeof u=="string"||(o=an(o),u=an(u)),r(o,u)}}function Bp(r,o,u,a,l,m,g,b,S,R){var E=o&ft,v=E?g:n,C=E?n:g,D=E?m:n,q=E?n:m;o|=E?Ht:_n,o&=~(E?_n:Ht),o&pt||(o&=~(tt|Ft));var V=[r,o,l,D,v,q,C,b,S,R],W=u.apply(n,V);return al(r)&&Zp(W,V),W.placeholder=a,Vp(W,r,o)}function nl(r){var o=Zt[r];return function(u,a){if(u=an(u),a=a==null?0:Se(Q(a),292),a&&Vm(u)){var l=(wt(u)+"e").split("e"),m=o(l[0]+"e"+(+l[1]+a));return l=(wt(m)+"e").split("e"),+(l[0]+"e"+(+l[1]-a))}return o(u)}}var tx=Qi&&1/Bu(new Qi([,-0]))[1]==we?function(r){return new Qi(r)}:xl;function jp(r){return function(o){var u=Oe(o);return u==wn?vf(o):u==Sn?yO(o):aO(o,r(o))}}function fr(r,o,u,a,l,m,g,b){var S=o&Ft;if(!S&&typeof r!="function")throw new rn(f);var R=a?a.length:0;if(R||(o&=~(Ht|_n),a=l=n),g=g===n?g:Vt(Q(g),0),b=b===n?b:Q(b),R-=l?l.length:0,o&_n){var E=a,v=l;a=l=n}var C=S?n:ol(r),D=[r,o,u,a,l,E,v,m,g,b];if(C&&px(D,C),r=D[0],o=D[1],u=D[2],a=D[3],l=D[4],b=D[9]=D[9]===n?S?0:r.length:Vt(D[9]-R,0),!b&&o&(ft|Xt)&&(o&=~(ft|Xt)),!o||o==tt)var q=QI(r,o,u);else o==ft||o==Xt?q=ZI(r,o,b):(o==Ht||o==(tt|Ht))&&!l.length?q=VI(r,o,u,a):q=cc.apply(n,D);var V=C?Sp:Zp;return Vp(V(q,D),r,o)}function qp(r,o,u,a){return r===n||xn(r,Xi[u])&&!St.call(a,u)?o:r}function Wp(r,o,u,a,l,m){return Tt(r)&&Tt(o)&&(m.set(o,r),ic(r,o,n,Wp,m),m.delete(o)),r}function ex(r){return ws(r)?n:r}function Kp(r,o,u,a,l,m){var g=u&B,b=r.length,S=o.length;if(b!=S&&!(g&&S>b))return!1;var R=m.get(r),E=m.get(o);if(R&&E)return R==o&&E==r;var v=-1,C=!0,D=u&mt?new ai:n;for(m.set(r,o),m.set(o,r);++v<b;){var q=r[v],V=o[v];if(a)var W=g?a(V,q,v,o,r,m):a(q,V,v,r,o,m);if(W!==n){if(W)continue;C=!1;break}if(D){if(!$f(o,function(ot,dt){if(!ss(D,dt)&&(q===ot||l(q,ot,u,a,m)))return D.push(dt)})){C=!1;break}}else if(!(q===V||l(q,V,u,a,m))){C=!1;break}}return m.delete(r),m.delete(o),C}function nx(r,o,u,a,l,m,g){switch(u){case Ki:if(r.byteLength!=o.byteLength||r.byteOffset!=o.byteOffset)return!1;r=r.buffer,o=o.buffer;case os:return!(r.byteLength!=o.byteLength||!m(new Gu(r),new Gu(o)));case Vo:case ts:case es:return xn(+r,+o);case vu:return r.name==o.name&&r.message==o.message;case ns:case rs:return r==o+"";case wn:var b=vf;case Sn:var S=a&B;if(b||(b=Bu),r.size!=o.size&&!S)return!1;var R=g.get(r);if(R)return R==o;a|=mt,g.set(r,o);var E=Kp(b(r),b(o),a,l,m,g);return g.delete(r),E;case ku:if(ls)return ls.call(r)==ls.call(o)}return!1}function rx(r,o,u,a,l,m){var g=u&B,b=rl(r),S=b.length,R=rl(o),E=R.length;if(S!=E&&!g)return!1;for(var v=S;v--;){var C=b[v];if(!(g?C in o:St.call(o,C)))return!1}var D=m.get(r),q=m.get(o);if(D&&q)return D==o&&q==r;var V=!0;m.set(r,o),m.set(o,r);for(var W=g;++v<S;){C=b[v];var ot=r[C],dt=o[C];if(a)var Ke=g?a(dt,ot,C,o,r,m):a(ot,dt,C,r,o,m);if(!(Ke===n?ot===dt||l(ot,dt,u,a,m):Ke)){V=!1;break}W||(W=C=="constructor")}if(V&&!W){var Me=r.constructor,He=o.constructor;Me!=He&&"constructor"in r&&"constructor"in o&&!(typeof Me=="function"&&Me instanceof Me&&typeof He=="function"&&He instanceof He)&&(V=!1)}return m.delete(r),m.delete(o),V}function lr(r){return ll(Xp(r,n,og),r+"")}function rl(r){return fp(r,ne,ul)}function il(r){return fp(r,Te,Hp)}var ol=Zu?function(r){return Zu.get(r)}:xl;function dc(r){for(var o=r.name+"",u=Zi[o],a=St.call(Zi,o)?u.length:0;a--;){var l=u[a],m=l.func;if(m==null||m==r)return l.name}return o}function no(r){var o=St.call(h,"placeholder")?h:r;return o.placeholder}function j(){var r=h.iteratee||Ol;return r=r===Ol?hp:r,arguments.length?r(arguments[0],arguments[1]):r}function hc(r,o){var u=r.__data__;return lx(o)?u[typeof o=="string"?"string":"hash"]:u.map}function sl(r){for(var o=ne(r),u=o.length;u--;){var a=o[u],l=r[a];o[u]=[a,l,zp(l)]}return o}function di(r,o){var u=mO(r,o);return dp(u)?u:n}function ix(r){var o=St.call(r,ui),u=r[ui];try{r[ui]=n;var a=!0}catch{}var l=Ku.call(r);return a&&(o?r[ui]=u:delete r[ui]),l}var ul=kf?function(r){return r==null?[]:(r=Pt(r),Ar(kf(r),function(o){return Qm.call(r,o)}))}:Fl,Hp=kf?function(r){for(var o=[];r;)vr(o,ul(r)),r=Yu(r);return o}:Fl,Oe=$e;(Cf&&Oe(new Cf(new ArrayBuffer(1)))!=Ki||cs&&Oe(new cs)!=wn||Tf&&Oe(Tf.resolve())!=um||Qi&&Oe(new Qi)!=Sn||as&&Oe(new as)!=is)&&(Oe=function(r){var o=$e(r),u=o==sr?r.constructor:n,a=u?hi(u):"";if(a)switch(a){case BO:return Ki;case jO:return wn;case qO:return um;case WO:return Sn;case KO:return is}return o});function ox(r,o,u){for(var a=-1,l=u.length;++a<l;){var m=u[a],g=m.size;switch(m.type){case"drop":r+=g;break;case"dropRight":o-=g;break;case"take":o=Se(o,r+g);break;case"takeRight":r=Vt(r,o-g);break}}return{start:r,end:o}}function sx(r){var o=r.match(dS);return o?o[1].split(hS):[]}function Gp(r,o,u){o=Lr(o,r);for(var a=-1,l=o.length,m=!1;++a<l;){var g=Hn(o[a]);if(!(m=r!=null&&u(r,g)))break;r=r[g]}return m||++a!=l?m:(l=r==null?0:r.length,!!l&&wc(l)&&dr(g,l)&&(z(r)||mi(r)))}function ux(r){var o=r.length,u=new r.constructor(o);return o&&typeof r[0]=="string"&&St.call(r,"index")&&(u.index=r.index,u.input=r.input),u}function Yp(r){return typeof r.constructor=="function"&&!_s(r)?Vi(Yu(r)):{}}function cx(r,o,u){var a=r.constructor;switch(o){case os:return tl(r);case Vo:case ts:return new a(+r);case Ki:return HI(r,u);case sf:case uf:case cf:case af:case ff:case lf:case df:case hf:case mf:return Rp(r,u);case wn:return new a;case es:case rs:return new a(r);case ns:return GI(r);case Sn:return new a;case ku:return YI(r)}}function ax(r,o){var u=o.length;if(!u)return r;var a=u-1;return o[a]=(u>1?"& ":"")+o[a],o=o.join(u>2?", ":" "),r.replace(lS,`{
/* [wrapped with `+o+`] */
`)}function fx(r){return z(r)||mi(r)||!!(Zm&&r&&r[Zm])}function dr(r,o){var u=typeof r;return o=o??tn,!!o&&(u=="number"||u!="symbol"&&OS.test(r))&&r>-1&&r%1==0&&r<o}function Pe(r,o,u){if(!Tt(u))return!1;var a=typeof o;return(a=="number"?Ce(u)&&dr(o,u.length):a=="string"&&o in u)?xn(u[o],r):!1}function cl(r,o){if(z(r))return!1;var u=typeof r;return u=="number"||u=="symbol"||u=="boolean"||r==null||We(r)?!0:uS.test(r)||!sS.test(r)||o!=null&&r in Pt(o)}function lx(r){var o=typeof r;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null}function al(r){var o=dc(r),u=h[o];if(typeof u!="function"||!(o in lt.prototype))return!1;if(r===u)return!0;var a=ol(u);return!!a&&r===a[0]}function dx(r){return!!zm&&zm in r}var hx=qu?hr:$l;function _s(r){var o=r&&r.constructor,u=typeof o=="function"&&o.prototype||Xi;return r===u}function zp(r){return r===r&&!Tt(r)}function Jp(r,o){return function(u){return u==null?!1:u[r]===o&&(o!==n||r in Pt(u))}}function mx(r){var o=_c(r,function(a){return u.size===y&&u.clear(),a}),u=o.cache;return o}function px(r,o){var u=r[1],a=o[1],l=u|a,m=l<(tt|Ft|_e),g=a==_e&&u==ft||a==_e&&u==Qt&&r[7].length<=o[8]||a==(_e|Qt)&&o[7].length<=o[8]&&u==ft;if(!(m||g))return r;a&tt&&(r[2]=o[2],l|=u&tt?0:pt);var b=o[3];if(b){var S=r[3];r[3]=S?Ap(S,b,o[4]):b,r[4]=S?Nr(r[3],M):o[4]}return b=o[5],b&&(S=r[5],r[5]=S?vp(S,b,o[6]):b,r[6]=S?Nr(r[5],M):o[6]),b=o[7],b&&(r[7]=b),a&_e&&(r[8]=r[8]==null?o[8]:Se(r[8],o[8])),r[9]==null&&(r[9]=o[9]),r[0]=o[0],r[1]=l,r}function gx(r){var o=[];if(r!=null)for(var u in Pt(r))o.push(u);return o}function yx(r){return Ku.call(r)}function Xp(r,o,u){return o=Vt(o===n?r.length-1:o,0),function(){for(var a=arguments,l=-1,m=Vt(a.length-o,0),g=O(m);++l<m;)g[l]=a[o+l];l=-1;for(var b=O(o+1);++l<o;)b[l]=a[l];return b[o]=u(g),Be(r,this,b)}}function Qp(r,o){return o.length<2?r:li(r,un(o,0,-1))}function _x(r,o){for(var u=r.length,a=Se(o.length,u),l=ke(r);a--;){var m=o[a];r[a]=dr(m,u)?l[m]:n}return r}function fl(r,o){if(!(o==="constructor"&&typeof r[o]=="function")&&o!="__proto__")return r[o]}var Zp=tg(Sp),bs=NO||function(r,o){return ce.setTimeout(r,o)},ll=tg(jI);function Vp(r,o,u){var a=o+"";return ll(r,ax(a,bx(sx(a),u)))}function tg(r){var o=0,u=0;return function(){var a=LO(),l=nf-(a-u);if(u=a,l>0){if(++o>=ir)return arguments[0]}else o=0;return r.apply(n,arguments)}}function mc(r,o){var u=-1,a=r.length,l=a-1;for(o=o===n?a:o;++u<o;){var m=Yf(u,l),g=r[m];r[m]=r[u],r[u]=g}return r.length=o,r}var eg=mx(function(r){var o=[];return r.charCodeAt(0)===46&&o.push(""),r.replace(cS,function(u,a,l,m){o.push(l?m.replace(gS,"$1"):a||u)}),o});function Hn(r){if(typeof r=="string"||We(r))return r;var o=r+"";return o=="0"&&1/r==-we?"-0":o}function hi(r){if(r!=null){try{return Wu.call(r)}catch{}try{return r+""}catch{}}return""}function bx(r,o){return nn(Gw,function(u){var a="_."+u[0];o&u[1]&&!Uu(r,a)&&r.push(a)}),r.sort()}function ng(r){if(r instanceof lt)return r.clone();var o=new on(r.__wrapped__,r.__chain__);return o.__actions__=ke(r.__actions__),o.__index__=r.__index__,o.__values__=r.__values__,o}function wx(r,o,u){(u?Pe(r,o,u):o===n)?o=1:o=Vt(Q(o),0);var a=r==null?0:r.length;if(!a||o<1)return[];for(var l=0,m=0,g=O(Xu(a/o));l<a;)g[m++]=un(r,l,l+=o);return g}function Sx(r){for(var o=-1,u=r==null?0:r.length,a=0,l=[];++o<u;){var m=r[o];m&&(l[a++]=m)}return l}function Ox(){var r=arguments.length;if(!r)return[];for(var o=O(r-1),u=arguments[0],a=r;a--;)o[a-1]=arguments[a];return vr(z(u)?ke(u):[u],ae(o,1))}var Ix=et(function(r,o){return Dt(r)?hs(r,ae(o,1,Dt,!0)):[]}),xx=et(function(r,o){var u=cn(o);return Dt(u)&&(u=n),Dt(r)?hs(r,ae(o,1,Dt,!0),j(u,2)):[]}),Fx=et(function(r,o){var u=cn(o);return Dt(u)&&(u=n),Dt(r)?hs(r,ae(o,1,Dt,!0),n,u):[]});function $x(r,o,u){var a=r==null?0:r.length;return a?(o=u||o===n?1:Q(o),un(r,o<0?0:o,a)):[]}function Px(r,o,u){var a=r==null?0:r.length;return a?(o=u||o===n?1:Q(o),o=a-o,un(r,0,o<0?0:o)):[]}function Mx(r,o){return r&&r.length?sc(r,j(o,3),!0,!0):[]}function Rx(r,o){return r&&r.length?sc(r,j(o,3),!0):[]}function Ex(r,o,u,a){var l=r==null?0:r.length;return l?(u&&typeof u!="number"&&Pe(r,o,u)&&(u=0,a=l),OI(r,o,u,a)):[]}function rg(r,o,u){var a=r==null?0:r.length;if(!a)return-1;var l=u==null?0:Q(u);return l<0&&(l=Vt(a+l,0)),Du(r,j(o,3),l)}function ig(r,o,u){var a=r==null?0:r.length;if(!a)return-1;var l=a-1;return u!==n&&(l=Q(u),l=u<0?Vt(a+l,0):Se(l,a-1)),Du(r,j(o,3),l,!0)}function og(r){var o=r==null?0:r.length;return o?ae(r,1):[]}function Ax(r){var o=r==null?0:r.length;return o?ae(r,we):[]}function vx(r,o){var u=r==null?0:r.length;return u?(o=o===n?1:Q(o),ae(r,o)):[]}function Nx(r){for(var o=-1,u=r==null?0:r.length,a={};++o<u;){var l=r[o];a[l[0]]=l[1]}return a}function sg(r){return r&&r.length?r[0]:n}function kx(r,o,u){var a=r==null?0:r.length;if(!a)return-1;var l=u==null?0:Q(u);return l<0&&(l=Vt(a+l,0)),Gi(r,o,l)}function Cx(r){var o=r==null?0:r.length;return o?un(r,0,-1):[]}var Tx=et(function(r){var o=kt(r,Zf);return o.length&&o[0]===r[0]?qf(o):[]}),Lx=et(function(r){var o=cn(r),u=kt(r,Zf);return o===cn(u)?o=n:u.pop(),u.length&&u[0]===r[0]?qf(u,j(o,2)):[]}),Ux=et(function(r){var o=cn(r),u=kt(r,Zf);return o=typeof o=="function"?o:n,o&&u.pop(),u.length&&u[0]===r[0]?qf(u,n,o):[]});function Dx(r,o){return r==null?"":CO.call(r,o)}function cn(r){var o=r==null?0:r.length;return o?r[o-1]:n}function Bx(r,o,u){var a=r==null?0:r.length;if(!a)return-1;var l=a;return u!==n&&(l=Q(u),l=l<0?Vt(a+l,0):Se(l,a-1)),o===o?bO(r,o,l):Du(r,Bm,l,!0)}function jx(r,o){return r&&r.length?yp(r,Q(o)):n}var qx=et(ug);function ug(r,o){return r&&r.length&&o&&o.length?Gf(r,o):r}function Wx(r,o,u){return r&&r.length&&o&&o.length?Gf(r,o,j(u,2)):r}function Kx(r,o,u){return r&&r.length&&o&&o.length?Gf(r,o,n,u):r}var Hx=lr(function(r,o){var u=r==null?0:r.length,a=Uf(r,o);return wp(r,kt(o,function(l){return dr(l,u)?+l:l}).sort(Ep)),a});function Gx(r,o){var u=[];if(!(r&&r.length))return u;var a=-1,l=[],m=r.length;for(o=j(o,3);++a<m;){var g=r[a];o(g,a,r)&&(u.push(g),l.push(a))}return wp(r,l),u}function dl(r){return r==null?r:DO.call(r)}function Yx(r,o,u){var a=r==null?0:r.length;return a?(u&&typeof u!="number"&&Pe(r,o,u)?(o=0,u=a):(o=o==null?0:Q(o),u=u===n?a:Q(u)),un(r,o,u)):[]}function zx(r,o){return oc(r,o)}function Jx(r,o,u){return Jf(r,o,j(u,2))}function Xx(r,o){var u=r==null?0:r.length;if(u){var a=oc(r,o);if(a<u&&xn(r[a],o))return a}return-1}function Qx(r,o){return oc(r,o,!0)}function Zx(r,o,u){return Jf(r,o,j(u,2),!0)}function Vx(r,o){var u=r==null?0:r.length;if(u){var a=oc(r,o,!0)-1;if(xn(r[a],o))return a}return-1}function tF(r){return r&&r.length?Op(r):[]}function eF(r,o){return r&&r.length?Op(r,j(o,2)):[]}function nF(r){var o=r==null?0:r.length;return o?un(r,1,o):[]}function rF(r,o,u){return r&&r.length?(o=u||o===n?1:Q(o),un(r,0,o<0?0:o)):[]}function iF(r,o,u){var a=r==null?0:r.length;return a?(o=u||o===n?1:Q(o),o=a-o,un(r,o<0?0:o,a)):[]}function oF(r,o){return r&&r.length?sc(r,j(o,3),!1,!0):[]}function sF(r,o){return r&&r.length?sc(r,j(o,3)):[]}var uF=et(function(r){return Tr(ae(r,1,Dt,!0))}),cF=et(function(r){var o=cn(r);return Dt(o)&&(o=n),Tr(ae(r,1,Dt,!0),j(o,2))}),aF=et(function(r){var o=cn(r);return o=typeof o=="function"?o:n,Tr(ae(r,1,Dt,!0),n,o)});function fF(r){return r&&r.length?Tr(r):[]}function lF(r,o){return r&&r.length?Tr(r,j(o,2)):[]}function dF(r,o){return o=typeof o=="function"?o:n,r&&r.length?Tr(r,n,o):[]}function hl(r){if(!(r&&r.length))return[];var o=0;return r=Ar(r,function(u){if(Dt(u))return o=Vt(u.length,o),!0}),Ef(o,function(u){return kt(r,Pf(u))})}function cg(r,o){if(!(r&&r.length))return[];var u=hl(r);return o==null?u:kt(u,function(a){return Be(o,n,a)})}var hF=et(function(r,o){return Dt(r)?hs(r,o):[]}),mF=et(function(r){return Qf(Ar(r,Dt))}),pF=et(function(r){var o=cn(r);return Dt(o)&&(o=n),Qf(Ar(r,Dt),j(o,2))}),gF=et(function(r){var o=cn(r);return o=typeof o=="function"?o:n,Qf(Ar(r,Dt),n,o)}),yF=et(hl);function _F(r,o){return $p(r||[],o||[],ds)}function bF(r,o){return $p(r||[],o||[],gs)}var wF=et(function(r){var o=r.length,u=o>1?r[o-1]:n;return u=typeof u=="function"?(r.pop(),u):n,cg(r,u)});function ag(r){var o=h(r);return o.__chain__=!0,o}function SF(r,o){return o(r),r}function pc(r,o){return o(r)}var OF=lr(function(r){var o=r.length,u=o?r[0]:0,a=this.__wrapped__,l=function(m){return Uf(m,r)};return o>1||this.__actions__.length||!(a instanceof lt)||!dr(u)?this.thru(l):(a=a.slice(u,+u+(o?1:0)),a.__actions__.push({func:pc,args:[l],thisArg:n}),new on(a,this.__chain__).thru(function(m){return o&&!m.length&&m.push(n),m}))});function IF(){return ag(this)}function xF(){return new on(this.value(),this.__chain__)}function FF(){this.__values__===n&&(this.__values__=Ig(this.value()));var r=this.__index__>=this.__values__.length,o=r?n:this.__values__[this.__index__++];return{done:r,value:o}}function $F(){return this}function PF(r){for(var o,u=this;u instanceof tc;){var a=ng(u);a.__index__=0,a.__values__=n,o?l.__wrapped__=a:o=a;var l=a;u=u.__wrapped__}return l.__wrapped__=r,o}function MF(){var r=this.__wrapped__;if(r instanceof lt){var o=r;return this.__actions__.length&&(o=new lt(this)),o=o.reverse(),o.__actions__.push({func:pc,args:[dl],thisArg:n}),new on(o,this.__chain__)}return this.thru(dl)}function RF(){return Fp(this.__wrapped__,this.__actions__)}var EF=uc(function(r,o,u){St.call(r,u)?++r[u]:ar(r,u,1)});function AF(r,o,u){var a=z(r)?Um:SI;return u&&Pe(r,o,u)&&(o=n),a(r,j(o,3))}function vF(r,o){var u=z(r)?Ar:cp;return u(r,j(o,3))}var NF=Tp(rg),kF=Tp(ig);function CF(r,o){return ae(gc(r,o),1)}function TF(r,o){return ae(gc(r,o),we)}function LF(r,o,u){return u=u===n?1:Q(u),ae(gc(r,o),u)}function fg(r,o){var u=z(r)?nn:Cr;return u(r,j(o,3))}function lg(r,o){var u=z(r)?nO:up;return u(r,j(o,3))}var UF=uc(function(r,o,u){St.call(r,u)?r[u].push(o):ar(r,u,[o])});function DF(r,o,u,a){r=Ce(r)?r:io(r),u=u&&!a?Q(u):0;var l=r.length;return u<0&&(u=Vt(l+u,0)),Sc(r)?u<=l&&r.indexOf(o,u)>-1:!!l&&Gi(r,o,u)>-1}var BF=et(function(r,o,u){var a=-1,l=typeof o=="function",m=Ce(r)?O(r.length):[];return Cr(r,function(g){m[++a]=l?Be(o,g,u):ms(g,o,u)}),m}),jF=uc(function(r,o,u){ar(r,u,o)});function gc(r,o){var u=z(r)?kt:mp;return u(r,j(o,3))}function qF(r,o,u,a){return r==null?[]:(z(o)||(o=o==null?[]:[o]),u=a?n:u,z(u)||(u=u==null?[]:[u]),_p(r,o,u))}var WF=uc(function(r,o,u){r[u?0:1].push(o)},function(){return[[],[]]});function KF(r,o,u){var a=z(r)?Ff:qm,l=arguments.length<3;return a(r,j(o,4),u,l,Cr)}function HF(r,o,u){var a=z(r)?rO:qm,l=arguments.length<3;return a(r,j(o,4),u,l,up)}function GF(r,o){var u=z(r)?Ar:cp;return u(r,bc(j(o,3)))}function YF(r){var o=z(r)?rp:DI;return o(r)}function zF(r,o,u){(u?Pe(r,o,u):o===n)?o=1:o=Q(o);var a=z(r)?gI:BI;return a(r,o)}function JF(r){var o=z(r)?yI:qI;return o(r)}function XF(r){if(r==null)return 0;if(Ce(r))return Sc(r)?zi(r):r.length;var o=Oe(r);return o==wn||o==Sn?r.size:Kf(r).length}function QF(r,o,u){var a=z(r)?$f:WI;return u&&Pe(r,o,u)&&(o=n),a(r,j(o,3))}var ZF=et(function(r,o){if(r==null)return[];var u=o.length;return u>1&&Pe(r,o[0],o[1])?o=[]:u>2&&Pe(o[0],o[1],o[2])&&(o=[o[0]]),_p(r,ae(o,1),[])}),yc=vO||function(){return ce.Date.now()};function VF(r,o){if(typeof o!="function")throw new rn(f);return r=Q(r),function(){if(--r<1)return o.apply(this,arguments)}}function dg(r,o,u){return o=u?n:o,o=r&&o==null?r.length:o,fr(r,_e,n,n,n,n,o)}function hg(r,o){var u;if(typeof o!="function")throw new rn(f);return r=Q(r),function(){return--r>0&&(u=o.apply(this,arguments)),r<=1&&(o=n),u}}var ml=et(function(r,o,u){var a=tt;if(u.length){var l=Nr(u,no(ml));a|=Ht}return fr(r,a,o,u,l)}),mg=et(function(r,o,u){var a=tt|Ft;if(u.length){var l=Nr(u,no(mg));a|=Ht}return fr(o,a,r,u,l)});function pg(r,o,u){o=u?n:o;var a=fr(r,ft,n,n,n,n,n,o);return a.placeholder=pg.placeholder,a}function gg(r,o,u){o=u?n:o;var a=fr(r,Xt,n,n,n,n,n,o);return a.placeholder=gg.placeholder,a}function yg(r,o,u){var a,l,m,g,b,S,R=0,E=!1,v=!1,C=!0;if(typeof r!="function")throw new rn(f);o=an(o)||0,Tt(u)&&(E=!!u.leading,v="maxWait"in u,m=v?Vt(an(u.maxWait)||0,o):m,C="trailing"in u?!!u.trailing:C);function D(Bt){var Fn=a,pr=l;return a=l=n,R=Bt,g=r.apply(pr,Fn),g}function q(Bt){return R=Bt,b=bs(ot,o),E?D(Bt):g}function V(Bt){var Fn=Bt-S,pr=Bt-R,Tg=o-Fn;return v?Se(Tg,m-pr):Tg}function W(Bt){var Fn=Bt-S,pr=Bt-R;return S===n||Fn>=o||Fn<0||v&&pr>=m}function ot(){var Bt=yc();if(W(Bt))return dt(Bt);b=bs(ot,V(Bt))}function dt(Bt){return b=n,C&&a?D(Bt):(a=l=n,g)}function Ke(){b!==n&&Pp(b),R=0,a=S=l=b=n}function Me(){return b===n?g:dt(yc())}function He(){var Bt=yc(),Fn=W(Bt);if(a=arguments,l=this,S=Bt,Fn){if(b===n)return q(S);if(v)return Pp(b),b=bs(ot,o),D(S)}return b===n&&(b=bs(ot,o)),g}return He.cancel=Ke,He.flush=Me,He}var t$=et(function(r,o){return sp(r,1,o)}),e$=et(function(r,o,u){return sp(r,an(o)||0,u)});function n$(r){return fr(r,be)}function _c(r,o){if(typeof r!="function"||o!=null&&typeof o!="function")throw new rn(f);var u=function(){var a=arguments,l=o?o.apply(this,a):a[0],m=u.cache;if(m.has(l))return m.get(l);var g=r.apply(this,a);return u.cache=m.set(l,g)||m,g};return u.cache=new(_c.Cache||cr),u}_c.Cache=cr;function bc(r){if(typeof r!="function")throw new rn(f);return function(){var o=arguments;switch(o.length){case 0:return!r.call(this);case 1:return!r.call(this,o[0]);case 2:return!r.call(this,o[0],o[1]);case 3:return!r.call(this,o[0],o[1],o[2])}return!r.apply(this,o)}}function r$(r){return hg(2,r)}var i$=KI(function(r,o){o=o.length==1&&z(o[0])?kt(o[0],je(j())):kt(ae(o,1),je(j()));var u=o.length;return et(function(a){for(var l=-1,m=Se(a.length,u);++l<m;)a[l]=o[l].call(this,a[l]);return Be(r,this,a)})}),pl=et(function(r,o){var u=Nr(o,no(pl));return fr(r,Ht,n,o,u)}),_g=et(function(r,o){var u=Nr(o,no(_g));return fr(r,_n,n,o,u)}),o$=lr(function(r,o){return fr(r,Qt,n,n,n,o)});function s$(r,o){if(typeof r!="function")throw new rn(f);return o=o===n?o:Q(o),et(r,o)}function u$(r,o){if(typeof r!="function")throw new rn(f);return o=o==null?0:Vt(Q(o),0),et(function(u){var a=u[o],l=Ur(u,0,o);return a&&vr(l,a),Be(r,this,l)})}function c$(r,o,u){var a=!0,l=!0;if(typeof r!="function")throw new rn(f);return Tt(u)&&(a="leading"in u?!!u.leading:a,l="trailing"in u?!!u.trailing:l),yg(r,o,{leading:a,maxWait:o,trailing:l})}function a$(r){return dg(r,1)}function f$(r,o){return pl(Vf(o),r)}function l$(){if(!arguments.length)return[];var r=arguments[0];return z(r)?r:[r]}function d$(r){return sn(r,k)}function h$(r,o){return o=typeof o=="function"?o:n,sn(r,k,o)}function m$(r){return sn(r,A|k)}function p$(r,o){return o=typeof o=="function"?o:n,sn(r,A|k,o)}function g$(r,o){return o==null||op(r,o,ne(o))}function xn(r,o){return r===o||r!==r&&o!==o}var y$=lc(jf),_$=lc(function(r,o){return r>=o}),mi=lp(function(){return arguments}())?lp:function(r){return Ut(r)&&St.call(r,"callee")&&!Qm.call(r,"callee")},z=O.isArray,b$=vm?je(vm):PI;function Ce(r){return r!=null&&wc(r.length)&&!hr(r)}function Dt(r){return Ut(r)&&Ce(r)}function w$(r){return r===!0||r===!1||Ut(r)&&$e(r)==Vo}var Dr=kO||$l,S$=Nm?je(Nm):MI;function O$(r){return Ut(r)&&r.nodeType===1&&!ws(r)}function I$(r){if(r==null)return!0;if(Ce(r)&&(z(r)||typeof r=="string"||typeof r.splice=="function"||Dr(r)||ro(r)||mi(r)))return!r.length;var o=Oe(r);if(o==wn||o==Sn)return!r.size;if(_s(r))return!Kf(r).length;for(var u in r)if(St.call(r,u))return!1;return!0}function x$(r,o){return ps(r,o)}function F$(r,o,u){u=typeof u=="function"?u:n;var a=u?u(r,o):n;return a===n?ps(r,o,n,u):!!a}function gl(r){if(!Ut(r))return!1;var o=$e(r);return o==vu||o==zw||typeof r.message=="string"&&typeof r.name=="string"&&!ws(r)}function $$(r){return typeof r=="number"&&Vm(r)}function hr(r){if(!Tt(r))return!1;var o=$e(r);return o==Nu||o==sm||o==Yw||o==Xw}function bg(r){return typeof r=="number"&&r==Q(r)}function wc(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=tn}function Tt(r){var o=typeof r;return r!=null&&(o=="object"||o=="function")}function Ut(r){return r!=null&&typeof r=="object"}var wg=km?je(km):EI;function P$(r,o){return r===o||Wf(r,o,sl(o))}function M$(r,o,u){return u=typeof u=="function"?u:n,Wf(r,o,sl(o),u)}function R$(r){return Sg(r)&&r!=+r}function E$(r){if(hx(r))throw new Y(c);return dp(r)}function A$(r){return r===null}function v$(r){return r==null}function Sg(r){return typeof r=="number"||Ut(r)&&$e(r)==es}function ws(r){if(!Ut(r)||$e(r)!=sr)return!1;var o=Yu(r);if(o===null)return!0;var u=St.call(o,"constructor")&&o.constructor;return typeof u=="function"&&u instanceof u&&Wu.call(u)==MO}var yl=Cm?je(Cm):AI;function N$(r){return bg(r)&&r>=-tn&&r<=tn}var Og=Tm?je(Tm):vI;function Sc(r){return typeof r=="string"||!z(r)&&Ut(r)&&$e(r)==rs}function We(r){return typeof r=="symbol"||Ut(r)&&$e(r)==ku}var ro=Lm?je(Lm):NI;function k$(r){return r===n}function C$(r){return Ut(r)&&Oe(r)==is}function T$(r){return Ut(r)&&$e(r)==Zw}var L$=lc(Hf),U$=lc(function(r,o){return r<=o});function Ig(r){if(!r)return[];if(Ce(r))return Sc(r)?On(r):ke(r);if(us&&r[us])return gO(r[us]());var o=Oe(r),u=o==wn?vf:o==Sn?Bu:io;return u(r)}function mr(r){if(!r)return r===0?r:0;if(r=an(r),r===we||r===-we){var o=r<0?-1:1;return o*of}return r===r?r:0}function Q(r){var o=mr(r),u=o%1;return o===o?u?o-u:o:0}function xg(r){return r?fi(Q(r),0,qn):0}function an(r){if(typeof r=="number")return r;if(We(r))return jn;if(Tt(r)){var o=typeof r.valueOf=="function"?r.valueOf():r;r=Tt(o)?o+"":o}if(typeof r!="string")return r===0?r:+r;r=Wm(r);var u=bS.test(r);return u||SS.test(r)?VS(r.slice(2),u?2:8):_S.test(r)?jn:+r}function Fg(r){return Kn(r,Te(r))}function D$(r){return r?fi(Q(r),-tn,tn):r===0?r:0}function wt(r){return r==null?"":qe(r)}var B$=to(function(r,o){if(_s(o)||Ce(o)){Kn(o,ne(o),r);return}for(var u in o)St.call(o,u)&&ds(r,u,o[u])}),$g=to(function(r,o){Kn(o,Te(o),r)}),Oc=to(function(r,o,u,a){Kn(o,Te(o),r,a)}),j$=to(function(r,o,u,a){Kn(o,ne(o),r,a)}),q$=lr(Uf);function W$(r,o){var u=Vi(r);return o==null?u:ip(u,o)}var K$=et(function(r,o){r=Pt(r);var u=-1,a=o.length,l=a>2?o[2]:n;for(l&&Pe(o[0],o[1],l)&&(a=1);++u<a;)for(var m=o[u],g=Te(m),b=-1,S=g.length;++b<S;){var R=g[b],E=r[R];(E===n||xn(E,Xi[R])&&!St.call(r,R))&&(r[R]=m[R])}return r}),H$=et(function(r){return r.push(n,Wp),Be(Pg,n,r)});function G$(r,o){return Dm(r,j(o,3),Wn)}function Y$(r,o){return Dm(r,j(o,3),Bf)}function z$(r,o){return r==null?r:Df(r,j(o,3),Te)}function J$(r,o){return r==null?r:ap(r,j(o,3),Te)}function X$(r,o){return r&&Wn(r,j(o,3))}function Q$(r,o){return r&&Bf(r,j(o,3))}function Z$(r){return r==null?[]:rc(r,ne(r))}function V$(r){return r==null?[]:rc(r,Te(r))}function _l(r,o,u){var a=r==null?n:li(r,o);return a===n?u:a}function tP(r,o){return r!=null&&Gp(r,o,II)}function bl(r,o){return r!=null&&Gp(r,o,xI)}var eP=Up(function(r,o,u){o!=null&&typeof o.toString!="function"&&(o=Ku.call(o)),r[o]=u},Sl(Le)),nP=Up(function(r,o,u){o!=null&&typeof o.toString!="function"&&(o=Ku.call(o)),St.call(r,o)?r[o].push(u):r[o]=[u]},j),rP=et(ms);function ne(r){return Ce(r)?np(r):Kf(r)}function Te(r){return Ce(r)?np(r,!0):kI(r)}function iP(r,o){var u={};return o=j(o,3),Wn(r,function(a,l,m){ar(u,o(a,l,m),a)}),u}function oP(r,o){var u={};return o=j(o,3),Wn(r,function(a,l,m){ar(u,l,o(a,l,m))}),u}var sP=to(function(r,o,u){ic(r,o,u)}),Pg=to(function(r,o,u,a){ic(r,o,u,a)}),uP=lr(function(r,o){var u={};if(r==null)return u;var a=!1;o=kt(o,function(m){return m=Lr(m,r),a||(a=m.length>1),m}),Kn(r,il(r),u),a&&(u=sn(u,A|N|k,ex));for(var l=o.length;l--;)Xf(u,o[l]);return u});function cP(r,o){return Mg(r,bc(j(o)))}var aP=lr(function(r,o){return r==null?{}:TI(r,o)});function Mg(r,o){if(r==null)return{};var u=kt(il(r),function(a){return[a]});return o=j(o),bp(r,u,function(a,l){return o(a,l[0])})}function fP(r,o,u){o=Lr(o,r);var a=-1,l=o.length;for(l||(l=1,r=n);++a<l;){var m=r==null?n:r[Hn(o[a])];m===n&&(a=l,m=u),r=hr(m)?m.call(r):m}return r}function lP(r,o,u){return r==null?r:gs(r,o,u)}function dP(r,o,u,a){return a=typeof a=="function"?a:n,r==null?r:gs(r,o,u,a)}var Rg=jp(ne),Eg=jp(Te);function hP(r,o,u){var a=z(r),l=a||Dr(r)||ro(r);if(o=j(o,4),u==null){var m=r&&r.constructor;l?u=a?new m:[]:Tt(r)?u=hr(m)?Vi(Yu(r)):{}:u={}}return(l?nn:Wn)(r,function(g,b,S){return o(u,g,b,S)}),u}function mP(r,o){return r==null?!0:Xf(r,o)}function pP(r,o,u){return r==null?r:xp(r,o,Vf(u))}function gP(r,o,u,a){return a=typeof a=="function"?a:n,r==null?r:xp(r,o,Vf(u),a)}function io(r){return r==null?[]:Af(r,ne(r))}function yP(r){return r==null?[]:Af(r,Te(r))}function _P(r,o,u){return u===n&&(u=o,o=n),u!==n&&(u=an(u),u=u===u?u:0),o!==n&&(o=an(o),o=o===o?o:0),fi(an(r),o,u)}function bP(r,o,u){return o=mr(o),u===n?(u=o,o=0):u=mr(u),r=an(r),FI(r,o,u)}function wP(r,o,u){if(u&&typeof u!="boolean"&&Pe(r,o,u)&&(o=u=n),u===n&&(typeof o=="boolean"?(u=o,o=n):typeof r=="boolean"&&(u=r,r=n)),r===n&&o===n?(r=0,o=1):(r=mr(r),o===n?(o=r,r=0):o=mr(o)),r>o){var a=r;r=o,o=a}if(u||r%1||o%1){var l=tp();return Se(r+l*(o-r+ZS("1e-"+((l+"").length-1))),o)}return Yf(r,o)}var SP=eo(function(r,o,u){return o=o.toLowerCase(),r+(u?Ag(o):o)});function Ag(r){return wl(wt(r).toLowerCase())}function vg(r){return r=wt(r),r&&r.replace(IS,lO).replace(qS,"")}function OP(r,o,u){r=wt(r),o=qe(o);var a=r.length;u=u===n?a:fi(Q(u),0,a);var l=u;return u-=o.length,u>=0&&r.slice(u,l)==o}function IP(r){return r=wt(r),r&&rS.test(r)?r.replace(am,dO):r}function xP(r){return r=wt(r),r&&aS.test(r)?r.replace(pf,"\\$&"):r}var FP=eo(function(r,o,u){return r+(u?"-":"")+o.toLowerCase()}),$P=eo(function(r,o,u){return r+(u?" ":"")+o.toLowerCase()}),PP=Cp("toLowerCase");function MP(r,o,u){r=wt(r),o=Q(o);var a=o?zi(r):0;if(!o||a>=o)return r;var l=(o-a)/2;return fc(Qu(l),u)+r+fc(Xu(l),u)}function RP(r,o,u){r=wt(r),o=Q(o);var a=o?zi(r):0;return o&&a<o?r+fc(o-a,u):r}function EP(r,o,u){r=wt(r),o=Q(o);var a=o?zi(r):0;return o&&a<o?fc(o-a,u)+r:r}function AP(r,o,u){return u||o==null?o=0:o&&(o=+o),UO(wt(r).replace(gf,""),o||0)}function vP(r,o,u){return(u?Pe(r,o,u):o===n)?o=1:o=Q(o),zf(wt(r),o)}function NP(){var r=arguments,o=wt(r[0]);return r.length<3?o:o.replace(r[1],r[2])}var kP=eo(function(r,o,u){return r+(u?"_":"")+o.toLowerCase()});function CP(r,o,u){return u&&typeof u!="number"&&Pe(r,o,u)&&(o=u=n),u=u===n?qn:u>>>0,u?(r=wt(r),r&&(typeof o=="string"||o!=null&&!yl(o))&&(o=qe(o),!o&&Yi(r))?Ur(On(r),0,u):r.split(o,u)):[]}var TP=eo(function(r,o,u){return r+(u?" ":"")+wl(o)});function LP(r,o,u){return r=wt(r),u=u==null?0:fi(Q(u),0,r.length),o=qe(o),r.slice(u,u+o.length)==o}function UP(r,o,u){var a=h.templateSettings;u&&Pe(r,o,u)&&(o=n),r=wt(r),o=Oc({},o,a,qp);var l=Oc({},o.imports,a.imports,qp),m=ne(l),g=Af(l,m),b,S,R=0,E=o.interpolate||Cu,v="__p += '",C=Nf((o.escape||Cu).source+"|"+E.source+"|"+(E===fm?yS:Cu).source+"|"+(o.evaluate||Cu).source+"|$","g"),D="//# sourceURL="+(St.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++YS+"]")+`
`;r.replace(C,function(W,ot,dt,Ke,Me,He){return dt||(dt=Ke),v+=r.slice(R,He).replace(xS,hO),ot&&(b=!0,v+=`' +
__e(`+ot+`) +
'`),Me&&(S=!0,v+=`';
`+Me+`;
__p += '`),dt&&(v+=`' +
((__t = (`+dt+`)) == null ? '' : __t) +
'`),R=He+W.length,W}),v+=`';
`;var q=St.call(o,"variable")&&o.variable;if(!q)v=`with (obj) {
`+v+`
}
`;else if(pS.test(q))throw new Y(d);v=(S?v.replace(Vw,""):v).replace(tS,"$1").replace(eS,"$1;"),v="function("+(q||"obj")+`) {
`+(q?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(S?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+v+`return __p
}`;var V=kg(function(){return yt(m,D+"return "+v).apply(n,g)});if(V.source=v,gl(V))throw V;return V}function DP(r){return wt(r).toLowerCase()}function BP(r){return wt(r).toUpperCase()}function jP(r,o,u){if(r=wt(r),r&&(u||o===n))return Wm(r);if(!r||!(o=qe(o)))return r;var a=On(r),l=On(o),m=Km(a,l),g=Hm(a,l)+1;return Ur(a,m,g).join("")}function qP(r,o,u){if(r=wt(r),r&&(u||o===n))return r.slice(0,Ym(r)+1);if(!r||!(o=qe(o)))return r;var a=On(r),l=Hm(a,On(o))+1;return Ur(a,0,l).join("")}function WP(r,o,u){if(r=wt(r),r&&(u||o===n))return r.replace(gf,"");if(!r||!(o=qe(o)))return r;var a=On(r),l=Km(a,On(o));return Ur(a,l).join("")}function KP(r,o){var u=Bn,a=bn;if(Tt(o)){var l="separator"in o?o.separator:l;u="length"in o?Q(o.length):u,a="omission"in o?qe(o.omission):a}r=wt(r);var m=r.length;if(Yi(r)){var g=On(r);m=g.length}if(u>=m)return r;var b=u-zi(a);if(b<1)return a;var S=g?Ur(g,0,b).join(""):r.slice(0,b);if(l===n)return S+a;if(g&&(b+=S.length-b),yl(l)){if(r.slice(b).search(l)){var R,E=S;for(l.global||(l=Nf(l.source,wt(lm.exec(l))+"g")),l.lastIndex=0;R=l.exec(E);)var v=R.index;S=S.slice(0,v===n?b:v)}}else if(r.indexOf(qe(l),b)!=b){var C=S.lastIndexOf(l);C>-1&&(S=S.slice(0,C))}return S+a}function HP(r){return r=wt(r),r&&nS.test(r)?r.replace(cm,wO):r}var GP=eo(function(r,o,u){return r+(u?" ":"")+o.toUpperCase()}),wl=Cp("toUpperCase");function Ng(r,o,u){return r=wt(r),o=u?n:o,o===n?pO(r)?IO(r):sO(r):r.match(o)||[]}var kg=et(function(r,o){try{return Be(r,n,o)}catch(u){return gl(u)?u:new Y(u)}}),YP=lr(function(r,o){return nn(o,function(u){u=Hn(u),ar(r,u,ml(r[u],r))}),r});function zP(r){var o=r==null?0:r.length,u=j();return r=o?kt(r,function(a){if(typeof a[1]!="function")throw new rn(f);return[u(a[0]),a[1]]}):[],et(function(a){for(var l=-1;++l<o;){var m=r[l];if(Be(m[0],this,a))return Be(m[1],this,a)}})}function JP(r){return wI(sn(r,A))}function Sl(r){return function(){return r}}function XP(r,o){return r==null||r!==r?o:r}var QP=Lp(),ZP=Lp(!0);function Le(r){return r}function Ol(r){return hp(typeof r=="function"?r:sn(r,A))}function VP(r){return pp(sn(r,A))}function tM(r,o){return gp(r,sn(o,A))}var eM=et(function(r,o){return function(u){return ms(u,r,o)}}),nM=et(function(r,o){return function(u){return ms(r,u,o)}});function Il(r,o,u){var a=ne(o),l=rc(o,a);u==null&&!(Tt(o)&&(l.length||!a.length))&&(u=o,o=r,r=this,l=rc(o,ne(o)));var m=!(Tt(u)&&"chain"in u)||!!u.chain,g=hr(r);return nn(l,function(b){var S=o[b];r[b]=S,g&&(r.prototype[b]=function(){var R=this.__chain__;if(m||R){var E=r(this.__wrapped__),v=E.__actions__=ke(this.__actions__);return v.push({func:S,args:arguments,thisArg:r}),E.__chain__=R,E}return S.apply(r,vr([this.value()],arguments))})}),r}function rM(){return ce._===this&&(ce._=RO),this}function xl(){}function iM(r){return r=Q(r),et(function(o){return yp(o,r)})}var oM=el(kt),sM=el(Um),uM=el($f);function Cg(r){return cl(r)?Pf(Hn(r)):LI(r)}function cM(r){return function(o){return r==null?n:li(r,o)}}var aM=Dp(),fM=Dp(!0);function Fl(){return[]}function $l(){return!1}function lM(){return{}}function dM(){return""}function hM(){return!0}function mM(r,o){if(r=Q(r),r<1||r>tn)return[];var u=qn,a=Se(r,qn);o=j(o),r-=qn;for(var l=Ef(a,o);++u<r;)o(u);return l}function pM(r){return z(r)?kt(r,Hn):We(r)?[r]:ke(eg(wt(r)))}function gM(r){var o=++PO;return wt(r)+o}var yM=ac(function(r,o){return r+o},0),_M=nl("ceil"),bM=ac(function(r,o){return r/o},1),wM=nl("floor");function SM(r){return r&&r.length?nc(r,Le,jf):n}function OM(r,o){return r&&r.length?nc(r,j(o,2),jf):n}function IM(r){return jm(r,Le)}function xM(r,o){return jm(r,j(o,2))}function FM(r){return r&&r.length?nc(r,Le,Hf):n}function $M(r,o){return r&&r.length?nc(r,j(o,2),Hf):n}var PM=ac(function(r,o){return r*o},1),MM=nl("round"),RM=ac(function(r,o){return r-o},0);function EM(r){return r&&r.length?Rf(r,Le):0}function AM(r,o){return r&&r.length?Rf(r,j(o,2)):0}return h.after=VF,h.ary=dg,h.assign=B$,h.assignIn=$g,h.assignInWith=Oc,h.assignWith=j$,h.at=q$,h.before=hg,h.bind=ml,h.bindAll=YP,h.bindKey=mg,h.castArray=l$,h.chain=ag,h.chunk=wx,h.compact=Sx,h.concat=Ox,h.cond=zP,h.conforms=JP,h.constant=Sl,h.countBy=EF,h.create=W$,h.curry=pg,h.curryRight=gg,h.debounce=yg,h.defaults=K$,h.defaultsDeep=H$,h.defer=t$,h.delay=e$,h.difference=Ix,h.differenceBy=xx,h.differenceWith=Fx,h.drop=$x,h.dropRight=Px,h.dropRightWhile=Mx,h.dropWhile=Rx,h.fill=Ex,h.filter=vF,h.flatMap=CF,h.flatMapDeep=TF,h.flatMapDepth=LF,h.flatten=og,h.flattenDeep=Ax,h.flattenDepth=vx,h.flip=n$,h.flow=QP,h.flowRight=ZP,h.fromPairs=Nx,h.functions=Z$,h.functionsIn=V$,h.groupBy=UF,h.initial=Cx,h.intersection=Tx,h.intersectionBy=Lx,h.intersectionWith=Ux,h.invert=eP,h.invertBy=nP,h.invokeMap=BF,h.iteratee=Ol,h.keyBy=jF,h.keys=ne,h.keysIn=Te,h.map=gc,h.mapKeys=iP,h.mapValues=oP,h.matches=VP,h.matchesProperty=tM,h.memoize=_c,h.merge=sP,h.mergeWith=Pg,h.method=eM,h.methodOf=nM,h.mixin=Il,h.negate=bc,h.nthArg=iM,h.omit=uP,h.omitBy=cP,h.once=r$,h.orderBy=qF,h.over=oM,h.overArgs=i$,h.overEvery=sM,h.overSome=uM,h.partial=pl,h.partialRight=_g,h.partition=WF,h.pick=aP,h.pickBy=Mg,h.property=Cg,h.propertyOf=cM,h.pull=qx,h.pullAll=ug,h.pullAllBy=Wx,h.pullAllWith=Kx,h.pullAt=Hx,h.range=aM,h.rangeRight=fM,h.rearg=o$,h.reject=GF,h.remove=Gx,h.rest=s$,h.reverse=dl,h.sampleSize=zF,h.set=lP,h.setWith=dP,h.shuffle=JF,h.slice=Yx,h.sortBy=ZF,h.sortedUniq=tF,h.sortedUniqBy=eF,h.split=CP,h.spread=u$,h.tail=nF,h.take=rF,h.takeRight=iF,h.takeRightWhile=oF,h.takeWhile=sF,h.tap=SF,h.throttle=c$,h.thru=pc,h.toArray=Ig,h.toPairs=Rg,h.toPairsIn=Eg,h.toPath=pM,h.toPlainObject=Fg,h.transform=hP,h.unary=a$,h.union=uF,h.unionBy=cF,h.unionWith=aF,h.uniq=fF,h.uniqBy=lF,h.uniqWith=dF,h.unset=mP,h.unzip=hl,h.unzipWith=cg,h.update=pP,h.updateWith=gP,h.values=io,h.valuesIn=yP,h.without=hF,h.words=Ng,h.wrap=f$,h.xor=mF,h.xorBy=pF,h.xorWith=gF,h.zip=yF,h.zipObject=_F,h.zipObjectDeep=bF,h.zipWith=wF,h.entries=Rg,h.entriesIn=Eg,h.extend=$g,h.extendWith=Oc,Il(h,h),h.add=yM,h.attempt=kg,h.camelCase=SP,h.capitalize=Ag,h.ceil=_M,h.clamp=_P,h.clone=d$,h.cloneDeep=m$,h.cloneDeepWith=p$,h.cloneWith=h$,h.conformsTo=g$,h.deburr=vg,h.defaultTo=XP,h.divide=bM,h.endsWith=OP,h.eq=xn,h.escape=IP,h.escapeRegExp=xP,h.every=AF,h.find=NF,h.findIndex=rg,h.findKey=G$,h.findLast=kF,h.findLastIndex=ig,h.findLastKey=Y$,h.floor=wM,h.forEach=fg,h.forEachRight=lg,h.forIn=z$,h.forInRight=J$,h.forOwn=X$,h.forOwnRight=Q$,h.get=_l,h.gt=y$,h.gte=_$,h.has=tP,h.hasIn=bl,h.head=sg,h.identity=Le,h.includes=DF,h.indexOf=kx,h.inRange=bP,h.invoke=rP,h.isArguments=mi,h.isArray=z,h.isArrayBuffer=b$,h.isArrayLike=Ce,h.isArrayLikeObject=Dt,h.isBoolean=w$,h.isBuffer=Dr,h.isDate=S$,h.isElement=O$,h.isEmpty=I$,h.isEqual=x$,h.isEqualWith=F$,h.isError=gl,h.isFinite=$$,h.isFunction=hr,h.isInteger=bg,h.isLength=wc,h.isMap=wg,h.isMatch=P$,h.isMatchWith=M$,h.isNaN=R$,h.isNative=E$,h.isNil=v$,h.isNull=A$,h.isNumber=Sg,h.isObject=Tt,h.isObjectLike=Ut,h.isPlainObject=ws,h.isRegExp=yl,h.isSafeInteger=N$,h.isSet=Og,h.isString=Sc,h.isSymbol=We,h.isTypedArray=ro,h.isUndefined=k$,h.isWeakMap=C$,h.isWeakSet=T$,h.join=Dx,h.kebabCase=FP,h.last=cn,h.lastIndexOf=Bx,h.lowerCase=$P,h.lowerFirst=PP,h.lt=L$,h.lte=U$,h.max=SM,h.maxBy=OM,h.mean=IM,h.meanBy=xM,h.min=FM,h.minBy=$M,h.stubArray=Fl,h.stubFalse=$l,h.stubObject=lM,h.stubString=dM,h.stubTrue=hM,h.multiply=PM,h.nth=jx,h.noConflict=rM,h.noop=xl,h.now=yc,h.pad=MP,h.padEnd=RP,h.padStart=EP,h.parseInt=AP,h.random=wP,h.reduce=KF,h.reduceRight=HF,h.repeat=vP,h.replace=NP,h.result=fP,h.round=MM,h.runInContext=w,h.sample=YF,h.size=XF,h.snakeCase=kP,h.some=QF,h.sortedIndex=zx,h.sortedIndexBy=Jx,h.sortedIndexOf=Xx,h.sortedLastIndex=Qx,h.sortedLastIndexBy=Zx,h.sortedLastIndexOf=Vx,h.startCase=TP,h.startsWith=LP,h.subtract=RM,h.sum=EM,h.sumBy=AM,h.template=UP,h.times=mM,h.toFinite=mr,h.toInteger=Q,h.toLength=xg,h.toLower=DP,h.toNumber=an,h.toSafeInteger=D$,h.toString=wt,h.toUpper=BP,h.trim=jP,h.trimEnd=qP,h.trimStart=WP,h.truncate=KP,h.unescape=HP,h.uniqueId=gM,h.upperCase=GP,h.upperFirst=wl,h.each=fg,h.eachRight=lg,h.first=sg,Il(h,function(){var r={};return Wn(h,function(o,u){St.call(h.prototype,u)||(r[u]=o)}),r}(),{chain:!1}),h.VERSION=i,nn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){h[r].placeholder=h}),nn(["drop","take"],function(r,o){lt.prototype[r]=function(u){u=u===n?1:Vt(Q(u),0);var a=this.__filtered__&&!o?new lt(this):this.clone();return a.__filtered__?a.__takeCount__=Se(u,a.__takeCount__):a.__views__.push({size:Se(u,qn),type:r+(a.__dir__<0?"Right":"")}),a},lt.prototype[r+"Right"]=function(u){return this.reverse()[r](u).reverse()}}),nn(["filter","map","takeWhile"],function(r,o){var u=o+1,a=u==Zo||u==or;lt.prototype[r]=function(l){var m=this.clone();return m.__iteratees__.push({iteratee:j(l,3),type:u}),m.__filtered__=m.__filtered__||a,m}}),nn(["head","last"],function(r,o){var u="take"+(o?"Right":"");lt.prototype[r]=function(){return this[u](1).value()[0]}}),nn(["initial","tail"],function(r,o){var u="drop"+(o?"":"Right");lt.prototype[r]=function(){return this.__filtered__?new lt(this):this[u](1)}}),lt.prototype.compact=function(){return this.filter(Le)},lt.prototype.find=function(r){return this.filter(r).head()},lt.prototype.findLast=function(r){return this.reverse().find(r)},lt.prototype.invokeMap=et(function(r,o){return typeof r=="function"?new lt(this):this.map(function(u){return ms(u,r,o)})}),lt.prototype.reject=function(r){return this.filter(bc(j(r)))},lt.prototype.slice=function(r,o){r=Q(r);var u=this;return u.__filtered__&&(r>0||o<0)?new lt(u):(r<0?u=u.takeRight(-r):r&&(u=u.drop(r)),o!==n&&(o=Q(o),u=o<0?u.dropRight(-o):u.take(o-r)),u)},lt.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},lt.prototype.toArray=function(){return this.take(qn)},Wn(lt.prototype,function(r,o){var u=/^(?:filter|find|map|reject)|While$/.test(o),a=/^(?:head|last)$/.test(o),l=h[a?"take"+(o=="last"?"Right":""):o],m=a||/^find/.test(o);l&&(h.prototype[o]=function(){var g=this.__wrapped__,b=a?[1]:arguments,S=g instanceof lt,R=b[0],E=S||z(g),v=function(ot){var dt=l.apply(h,vr([ot],b));return a&&C?dt[0]:dt};E&&u&&typeof R=="function"&&R.length!=1&&(S=E=!1);var C=this.__chain__,D=!!this.__actions__.length,q=m&&!C,V=S&&!D;if(!m&&E){g=V?g:new lt(this);var W=r.apply(g,b);return W.__actions__.push({func:pc,args:[v],thisArg:n}),new on(W,C)}return q&&V?r.apply(this,b):(W=this.thru(v),q?a?W.value()[0]:W.value():W)})}),nn(["pop","push","shift","sort","splice","unshift"],function(r){var o=ju[r],u=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",a=/^(?:pop|shift)$/.test(r);h.prototype[r]=function(){var l=arguments;if(a&&!this.__chain__){var m=this.value();return o.apply(z(m)?m:[],l)}return this[u](function(g){return o.apply(z(g)?g:[],l)})}}),Wn(lt.prototype,function(r,o){var u=h[o];if(u){var a=u.name+"";St.call(Zi,a)||(Zi[a]=[]),Zi[a].push({name:o,func:u})}}),Zi[cc(n,Ft).name]=[{name:"wrapper",func:n}],lt.prototype.clone=HO,lt.prototype.reverse=GO,lt.prototype.value=YO,h.prototype.at=OF,h.prototype.chain=IF,h.prototype.commit=xF,h.prototype.next=FF,h.prototype.plant=PF,h.prototype.reverse=MF,h.prototype.toJSON=h.prototype.valueOf=h.prototype.value=RF,h.prototype.first=h.prototype.head,us&&(h.prototype[us]=$F),h},Ji=xO();si?((si.exports=Ji)._=Ji,Of._=Ji):ce._=Ji}).call(Es)})(aa,aa.exports);var J6=aa.exports;const X6=z6(J6);function rm(t){const e=Qq[t];return e?xw(e):Iw(new Error(`Schema for "${t}" not found`))}function VK(){return P(nm(),ko(zr(t=>t.path)),Ja)}function oi(t,e){return P(rm(t),Qh(n=>Fw({try:()=>Dw(n,e),catch:()=>new Error("Invalid data")})),Ja)}function Ww(t,e){return P(Dd([Y6(`${t}/${e}`),rm(t)]),ko(([n,i])=>({base_document:yk(n),schema:i})),Qh(({base_document:n,schema:i})=>qw(n,i)),Ja)}function tH(t,e={}){return P(Dd([P(nm(),ko(Zb(n=>n.path.startsWith(`/${t}`)))),rm(t)]),Qh(([n,i])=>Dd(n.map(s=>qw(s,i)))),ko(n=>{if(e.sort){const i=Z6(e.sort);return X6.orderBy(n,i.keys.map(s=>`props.${s}`),i.orders)}else return n}),Ja)}const Q6=rt.Union([rt.Literal("asc"),rt.Literal("desc")]),y_=rt.Tuple([rt.String(),Q6]);function Z6(t){return eu(y_,t)?{keys:[t[0]],orders:[t[1]]}:eu(rt.Array(y_),t)?{keys:t.map(e=>e[0]),orders:t.map(e=>e[1])}:{keys:[],orders:[]}}export{Bw as D,p6 as P,Ww as a,VK as b,b6 as c,I6 as d,P6 as e,E6 as f,tH as g,N6 as h,T6 as i,B6 as j};
